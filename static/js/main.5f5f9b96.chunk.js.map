{"version":3,"sources":["serviceWorker.ts","common/NavbarButton.tsx","components/Navbar/Navbar.tsx","api/api.ts","redux/login-reducer.ts","common/FormBtn.tsx","components/auth/Login/LoginPage.tsx","redux/register-reducer.ts","components/auth/Register/RegisterContainer.tsx","redux/passwordRecovery-reducer.ts","common/InputField.tsx","common/FormWrapper.tsx","components/auth/PasswordRecovery/PasswordRecovery.tsx","redux/pssawordCreation-reducer.ts","components/auth/PasswordCreation/PasswordCreation.tsx","components/Profile/Profile.tsx","redux/packs-reducer.ts","common/Modal.tsx","common/RangeSlider.tsx","common/Pagination.tsx","common/Table.tsx","redux/cards-reducer.ts","components/Main-content/Packs/Packs.tsx","components/WrongPage.tsx","components/Main-content/Cards/Cards.tsx","components/Main-content/Learn/Learn.tsx","App.tsx","redux/app-reducer.ts","redux/redux-store.ts","index.tsx","components/Main-content/Learn/Learn.module.scss"],"names":["Boolean","window","location","hostname","match","useStyles","makeStyles","theme","createStyles","btn","margin","spacing","color","borderColor","textDecoration","NavbarButton","link","name","classes","to","style","Button","variant","className","size","marginAutoItem","navbar","backgroundColor","Navbar","AppBar","position","Toolbar","Typography","Box","instance","axios","create","withCredentials","baseURL","mainContent","page","count","min","max","get","post","cardsPack","id","delete","put","_id","row","cardId","grade","card_id","question","answer","card","cardsPack_id","passwordRecovery","email","from","message","password","resetPasswordToken","authAPI","rememberMe","data","internalState","isAuth","userProfile","avatar","publicCardPacksCount","created","updated","isAdmin","verified","error","loginAC","type","loginReducer","state","action","submit","FormButton","disable","fullWidth","disabled","root","height","centr","paper","display","flexDirection","alignItems","palette","secondary","main","form","width","marginTop","LoginPage","useSelector","login","dispatch","useDispatch","formik","useFormik","initialValues","onSubmit","values","then","res","setLoginTC","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","handleSubmit","noValidate","TextField","required","label","autoComplete","autoFocus","onChange","handleChange","value","FormControlLabel","control","Checkbox","Link","isRegistered","RegisterContainer","register","validate","a","console","log","justify","FormControl","FormLabel","FormGroup","getFieldProps","errors","initialState","success","loading","setErrorAC","setSuccessAC","setLoadingAC","passwordRecoveryReducer","ValidationTextField","withStyles","borderWidth","borderLeftWidth","padding","input","marginBottom","InputField","helperText","event","currentTarget","FormWrapper","onsubmit","children","title","Container","maxWidth","PasswordRecovery","validateOnBlur","validateOnChange","test","catch","response","errorObject","request","recoverPasswordTC","trim","pwRecoveryRequest","pssawordCreationReducer","PasswordCreation","validationSchema","Yup","shape","changepassword","when","is","val","length","oneOf","token","useParams","status","setNewPasswordTC","passwordUpdate","confirm","Profile","s","profileBlock","profileHeader","onClick","info","cardPacks","pageCount","minCardsCount","maxCardsCount","cardPacksTotalCount","setRange","getPackOfCardsTC","getState","packsReducer","createMuiTheme","modal","justifyContent","background","border","boxShadow","shadows","button","alignContent","ModalWindow","isOpen","handleClose","onClose","Modal","aria-labelledby","aria-describedby","open","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","DialogActions","slider","marginRight","RangeSlider","minRange","maxRange","React","useState","setValue","Slider","step","newValue","valueLabelDisplay","pagination","Pagination","rowsPerPageOptions","onChangePage","rowsPerPage","onChangeRowsPerPage","TablePagination","newPage","target","table","minWidth","heading","fontWeight","TableData","Table","aria-label","TableHead","TableRow","map","elem","TableCell","align","TableBody","cards","cardsTotalCount","maxGrade","minGrade","setCards","getCardsTC","cardsReducer","getNewPageTC","marginLeft","distance","Packs","memo","history","useHistory","localPage","setlocalPage","localRow","setlocalRow","newName","setNewName","currentPackName","setCurrentPackName","updatePackId","setUpdatePackId","isOpenAddPackModalPopup","setIsOpenAddPackModalPopup","isOpenModifyPackModalPopup","setIsOpenModifyPackModalPopup","userEmail","useEffect","onDeleteHandler","deletePackTC","handleModifyPackModalPopupOpen","cardPack","find","el","onUpdateHandler","randomColor","useCallback","Math","round","random","TableContainer","direction","startIcon","key","scope","cardsCount","IconButton","push","fontSize","user_name","slice","WrongPage","Cards","setQuestion","setAnswer","currentQuestion","setCurrentQuestion","currentAnswer","setCurrentAnswer","isOpenAddCardModalPopup","setIsOpenAddCardModalPopup","isOpenModifyCardModalPopup","setIsOpenModifyCardModalPopup","updateCardId","setUpdateCardId","showBtn","onAddNewPackHandler","addNewCardTC","handleModifyCardModalPopupOpen","updateCardTC","buttonControl","borderRadius","buttonGrade","transformStyle","grades","getCard","sum","reduce","acc","rand","i","newSum","Learn","props","isChecked","setIsChecked","isFlipped","setIsFlipped","first","setFirst","store","shots","rating","more_id","setCard","onGradeHandler","cards_wrapper","card_container","flipDirection","onMouseEnter","onMouseDown","g","App","path","render","isInitialized","reducers","combineReducers","cardsPacks","app","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"mQAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,2FCZAC,EAAYC,aAAW,SAACC,GAAD,OAC5BC,YAAa,CACZC,IAAK,CACJC,OAAQH,EAAMI,QAAQ,GACtBC,MAAO,UACPC,YAAa,UACbC,eAAe,aAsBHC,EAZM,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,KAAKC,EAAoB,EAApBA,KAErBC,EAAUb,IAEhB,OACC,kBAAC,IAAD,CAASc,GAAIH,EAAMI,MAAO,CAACN,eAAgB,SAC1C,kBAACO,EAAA,EAAD,CAAQC,QAAQ,WAAWC,UAAWL,EAAQT,IACtCe,KAAM,SAAUP,KCjBrBZ,EAAYC,aAAW,SAACC,GAAD,OAC5BC,YAAa,CACZiB,eAAgB,CACff,OAAQ,QAETgB,OAAQ,CACPC,gBAAiB,WAElBlB,IAAK,CACJC,OAAQH,EAAMI,QAAQ,GACtBC,MAAO,UACPC,YAAa,UACbC,eAAe,aA6BHc,EAxBA,WACd,IAAMV,EAAUb,IAEhB,OACC,kBAACwB,EAAA,EAAD,CAAQC,SAAS,SAASP,UAAWL,EAAQQ,QAC5C,kBAACK,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAYV,QAAQ,MAApB,SAGA,kBAACW,EAAA,EAAD,CAAKV,UAAWL,EAAQO,gBACvB,kBAAC,EAAD,CAAcT,KAAM,WAAYC,KAAM,YACtC,kBAAC,EAAD,CAAcD,KAAM,SAAUC,KAAM,UACpC,kBAAC,EAAD,CAAcD,KAAM,YAAaC,KAAM,aACvC,kBAAC,EAAD,CAAcD,KAAM,oBAAqBC,KAAM,aAC/C,kBAAC,EAAD,CAAcD,KAAM,oBAAqBC,KAAM,iBAC/C,kBAAC,EAAD,CAAcD,KAAM,SAAUC,KAAM,mBACpC,kBAAC,EAAD,CAAcD,KAAM,cAAUC,KAAM,eACpC,kBAAC,EAAD,CAAcD,KAAM,SAAUC,KAAM,c,qJC5CnCiB,E,OAAWC,EAAMC,OAAO,CAC7BC,iBAAiB,EACjBC,QAAS,wCAGGC,EAAc,SACVC,EAAcC,EAAeC,EAAaC,GACzD,OAAOT,EAASU,IAAT,2BAAiCJ,EAAjC,sBAAmDC,EAAnD,gBAAgEC,EAAhE,gBAA2EC,KAFvEJ,EAAc,SAIXC,EAAcC,EAAeC,EAAaC,GAExD,OAAOT,EAASU,IAAT,2BAAiCJ,EAAjC,sBAAmDC,EAAnD,gBAAgEC,EAAhE,gBAA2EC,KANvEJ,EAAc,SAQftB,GACV,OAAOiB,EAASW,KAAT,cAA6B,CACnCC,UAAW,CACV7B,KAAMA,MAXGsB,EAAc,SAefQ,GACV,OAAOb,EAASc,OAAT,yBAAkCD,KAhB9BR,EAAc,SAkBfQ,EAAY9B,GACtB,OAAOiB,EAASe,IAAT,cAEN,CACCH,UAAW,CACVI,IAAKH,EACL9B,KAAMA,MAxBEsB,EAAc,SA4BjBQ,EAAYP,EAAcW,GAClC,OAAOjB,EAASU,IAAT,mCAAyCG,EAAzC,iBAAoDP,EAApD,sBAAsEW,KA7BlEZ,EAAc,SA+BZa,EAAgBC,GAC7B,OAAOnB,EAASe,IAAT,eAA4B,CAACI,MAAOA,EAAOC,QAASF,KAhChDb,EAAc,SAkCfQ,EAAYQ,EAAkBC,GACxC,OAAOtB,EAASW,KAAT,cAA6B,CACnCY,KAAM,CACLC,aAAcX,EACdQ,WACAC,aAvCSjB,EAAc,SA2CfQ,GACV,OAAOb,EAASc,OAAT,yBAAkCD,KA5C9BR,EAAc,SA8CfQ,EAAYQ,EAAkBC,GACxC,OAAOtB,EAASe,IAAT,cAEN,CACCQ,KAAM,CACLP,IAAKH,EACLQ,WACAC,aAMQG,EAAmB,SACtBC,GAWR,OAVc1B,EAASW,KAAT,gBAA+B,CAC5Ce,QACAC,KAAM,6CACNC,QAAQ,wNALEH,EAAmB,SAcnBI,EAAkBC,GAC7B,OAAO9B,EAASW,KAAT,yBAAwC,CAACkB,WAAUC,wBAgB/CC,EAAU,SAMhBL,EAAeG,GAAuC,IAArBG,EAAoB,wDAC1D,OAAOhC,EAASW,KAAT,aAA4B,CAACe,QAAOG,WAAUG,gBAP1CD,EAAU,WAWrB,OAAO/B,EAASc,OAAT,YAXIiB,EAAU,SAabE,GAER,OAAOjC,EAASW,KAAT,gCAAoCsB,KCtGzCC,EAAkC,CAClCC,QAAQ,EACRC,YAAa,CACTpB,IAAK,GACLU,MAAO,GACP3C,KAAM,GACNsD,OAAQ,GACRC,qBAAsB,EACtBC,QAAS,aACTC,QAAS,aACTC,SAAS,EACTC,UAAU,EACVV,YAAY,EACZW,MAAO,KA2BTC,GAAU,SAACX,GAAD,MAA0B,CACtCY,KAAM,sBACNZ,SAiDWa,GA1EM,WAAqF,IAApFC,EAAmF,uDAAzDb,EAAec,EAA0C,uCAErG,OAAQA,EAAOH,MACX,IAAK,sBACD,OAAO,eACAE,EADP,CAEIX,YAAaY,EAAOf,KACpBE,QAAQ,IAEhB,IAAK,eACD,OAAO,eACAY,EADP,CAEIZ,QAAQ,IAGhB,IAAK,gBACD,OAAO,eAAIY,EAAX,CAAkBZ,OAAQa,EAAOb,OAAQC,YAAaY,EAAOZ,cAEjE,QACI,OAAOW,IC1Cb5E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxC4E,OAAQ,CACPzE,OAAQH,EAAMI,QAAQ,EAAG,EAAG,GAC5BgB,gBAAiB,UACjB,UAAW,CACVA,gBAAiB,gBA6BLyD,GAlBI,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,QAAQpE,EAAoB,EAApBA,KAEtBC,EAAUb,KAEhB,OACC,kBAACgB,EAAA,EAAD,CACC0D,KAAK,SACLO,WAAS,EACThE,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiE,OACnBI,SAAUF,GAETpE,ICbEZ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCiF,KAAM,CACJC,OAAQ,SAGVC,MAAO,CACLhF,OAAQ,UAGViF,MAAO,CACLjF,OAAQH,EAAMI,QAAQ,EAAG,GACzBiF,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdvB,OAAQ,CACN7D,OAAQH,EAAMI,QAAQ,GACtBgB,gBAAiBpB,EAAMwF,QAAQC,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPC,UAAW7F,EAAMI,QAAQ,IAE3BwE,OAAQ,CACNzE,OAAQH,EAAMI,QAAQ,EAAG,EAAG,QAIzB,SAAS0F,KAEd,IAAMhC,EAASiC,aAAmD,SAAArB,GAAK,OAAIA,EAAMsB,MAAMlC,UAEjFnD,EAAUb,KACVmG,EAAWC,cAEXC,EAAcC,YAAU,CAC5BC,cAAe,CACbhD,MAAO,GACPG,SAAU,GACVG,YAAY,GAEd2C,SAAU,SAAAC,GAAW,IACZlD,EAA+BkD,EAA/BlD,MAAOG,EAAwB+C,EAAxB/C,SAAUG,EAAc4C,EAAd5C,WACxBsC,EFGoB,SAAC5C,EAAeG,GAAhB,IAAkCG,EAAlC,+DAAkE,SAACsC,GACzFvC,EAAcL,EAAOG,EAAUG,GAC1B6C,MAAK,SAAAC,GACER,EAAS1B,GAAQkC,EAAI7C,WENtB8C,CAAWrD,EAAOG,EAAUG,OAKzC,OAAIG,EACK,kBAAC,IAAD,CAAUlD,GAAI,aAIrB,kBAAC+F,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,OAAO7F,UAAWL,EAAQsE,MAClD,kBAAC6B,EAAA,EAAD,MAEA,kBAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGlG,UAAWL,EAAQwE,MAAO0B,UAAWM,IAAOC,UAAW,EAAGC,QAAM,GAC/F,yBAAKrG,UAAWL,EAAQyE,OACtB,kBAACkC,EAAA,EAAD,CAAQtG,UAAWL,EAAQqD,QACzB,kBAAC,IAAD,OAEF,kBAACvC,EAAA,EAAD,CAAYoF,UAAU,KAAK9F,QAAQ,MAAnC,SAGA,0BAAMuF,SAAUH,EAAOoB,aACjBvG,UAAWL,EAAQgF,KAAM6B,YAAU,GACvC,kBAACC,EAAA,EAAD,CACE1G,QAAQ,WACRZ,OAAO,SACPuH,UAAQ,EACR3C,WAAS,EACTvC,GAAG,QACHmF,MAAM,gBACNjH,KAAK,QACLkH,aAAa,QACbC,WAAS,EACTC,SAAU3B,EAAO4B,aACjBC,MAAO7B,EAAOI,OAAOlD,QAEvB,kBAACoE,EAAA,EAAD,CACE1G,QAAQ,WACRZ,OAAO,SACPuH,UAAQ,EACR3C,WAAS,EACTrE,KAAK,WACLiH,MAAM,WACNnD,KAAK,WACLhC,GAAG,WAEHsF,SAAU3B,EAAO4B,aACjBC,MAAO7B,EAAOI,OAAO/C,WAEvB,kBAACyE,EAAA,EAAD,CACEC,QAAS,kBAACC,EAAA,EAAD,CAAU3F,GAAG,aACH9B,KAAK,aACLoH,SAAU3B,EAAO4B,aACjBC,MAAO7B,EAAOI,OAAO5C,WAAYtD,MAAM,YAC1DsH,MAAM,gBAER,kBAAC,GAAD,CAAYjH,KAAM,WAClB,kBAACiG,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMI,MAAI,EAACC,IAAE,GACX,kBAAC,IAAD,CAASpG,GAAG,qBACV,kBAACwH,EAAA,EAAD,CAEErH,QAAQ,SAFV,sBAQJ,kBAAC4F,EAAA,EAAD,CAAMI,MAAI,GACR,kBAAC,IAAD,CAASnG,GAAG,aACV,kBAACwH,EAAA,EAAD,CACErH,QAAQ,SACP,yC,kCCnIjB8C,GAAqC,CACrCwE,cAAc,GCGLC,GAAoB,WAC7B,IAAMrC,EAAWC,cACXmC,EAAetC,aAAuC,SAAArB,GAAK,OAAIA,EAAM6D,SAASF,gBAC9ElC,EAASC,YAAU,CACrBoC,SAAU,SAACjC,GACP,OAAKA,EAAOlD,MAKPkD,EAAO/C,cAAZ,EACW,CACHA,SAAU,wBANP,CACHH,MAAO,sBASnBgD,cAAe,CACXhD,MAAO,GACPG,SAAU,IAEd8C,SAAU,SAAAC,GDNQ,IAAC3C,ECOfqC,GDPerC,ECOK2C,EDPN,uCAA8B,WAAON,GAAP,SAAAwC,EAAA,+EAE3B/E,EAAiBE,GAFU,cAG5CqC,EAP+B,CACvCzB,KAAM,6BAA8BwD,OAML,IAHqB,gDAKhDU,QAAQC,IAAR,MALgD,yDAA9B,2DCWtB,OAAIN,EACO,kBAAC,IAAD,CAAUzH,GAAI,WAIrB,kBAAC+F,EAAA,EAAD,CAAMC,WAAS,EAACgC,QAAQ,UACpB,kBAACjC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACX,0BAAMV,SAAUH,EAAOoB,cACnB,kBAACsB,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,4CAIJ,kBAACC,GAAA,EAAD,KACI,kBAACtB,EAAA,EAAD,eACIE,MAAM,QACNxH,OAAO,UACHgG,EAAO6C,cAAc,WAE5B7C,EAAO8C,OAAO5F,MAAQ,6BAAM8C,EAAO8C,OAAO5F,OAAe,KAC1D,kBAACoE,EAAA,EAAD,eACIjD,KAAK,WACLmD,MAAM,WACNxH,OAAO,UACHgG,EAAO6C,cAAc,cAE5B7C,EAAO8C,OAAOzF,SAAW,6BAAM2C,EAAO8C,OAAO5F,OAAe,KAC7D,kBAACvC,EAAA,EAAD,CAAQ0D,KAAM,SAAUzD,QAAS,YAAaV,MAAO,WAArD,kB,UCpDxB6I,GAA4C,CAC/C5E,MAAO,GACP6E,SAAS,EACTC,SAAS,GAuBGC,GAAa,SAAC/E,GAAD,MAAoB,CAC7CE,KAAM,uBACNF,UAGYgF,GAAe,SAACH,GAAD,MAAuB,CAClD3E,KAAM,yBACN2E,YAEYI,GAAe,SAACH,GAAD,MAAuB,CAClD5E,KAAM,yBACN4E,YAsBcI,GArDiB,WACN,IADO9E,EACR,uDAD6CwE,GACrEvE,EAAwB,uCACxB,OAAQA,EAAOH,MACd,IAAK,uBACJ,OAAO,eACHE,EADJ,CACWJ,MAAOK,EAAOL,QAE1B,IAAK,yBACJ,OAAO,eACHI,EADJ,CACWyE,QAASxE,EAAOwE,UAE5B,IAAK,yBACJ,OAAO,eACHzE,EADJ,CACW0E,QAASzE,EAAOyE,UAE5B,QACC,OAAO1E,I,QC3BJ+E,GAAsBC,aAAW,CACtCzE,KAAM,CACL,2BAA4B,CAC3B3E,YAAa,QACbqJ,YAAa,GAEd,iCAAkC,CACjCC,gBAAiB,EACjBC,QAAS,oBARgBH,CAWzBjC,KAEG3H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxC8J,MAAO,CACNC,aAAc,YAoCDC,GAvBI,SAAC,GAAsE,IAAD,IAApE1F,aAAoE,SAArD6B,EAAqD,EAArDA,OAAQ3B,EAA6C,EAA7CA,KAAMmD,EAAuC,EAAvCA,MAAOK,EAAgC,EAAhCA,MAAOF,EAAyB,EAAzBA,SAEzDnH,EAAUb,KAEhB,OACC,kBAAC2J,GAAD,eAAqBzI,UAAWL,EAAQmJ,MACnBxF,MAAOA,EACP2F,WAAY3F,EACZqD,MAAOA,EACP5C,WAAS,EACT2C,UAAQ,EACR3G,QAAQ,WACRyD,KAAMA,GACF2B,EARzB,CASqB2B,SAAU,SAACoC,GACVpC,EAAUoC,EAAMC,cAAcnC,QAE/BA,MAAOA,M,+BCxCxBlI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxCoF,MAAO,CACNS,UAAW7F,EAAMI,QAAQ,GACzBiF,QAAS,OACTC,cAAe,SACfC,WAAY,UAEbvB,OAAQ,CACP7D,OAAQH,EAAMI,QAAQ,GACtBgB,gBAAiB,WAElBuE,KAAM,CACLC,MAAO,OACPC,UAAW7F,EAAMI,QAAQ,QAwCZgK,GA9BK,SAAC,GAA2C,IAA1CC,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,SAAUC,EAAqB,EAArBA,MAMzC,IAAM5J,EAAUb,KAEhB,OACC,kBAAC0K,GAAA,EAAD,CAAW3D,UAAU,OAAO4D,SAAS,MACpC,kBAAC3D,EAAA,EAAD,MACA,yBAAK9F,UAAWL,EAAQyE,OACvB,kBAACkC,EAAA,EAAD,CAAQtG,UAAWL,EAAQqD,QAC1B,kBAAC,KAAD,OAED,kBAACvC,EAAA,EAAD,CAAYoF,UAAU,KAAK9F,QAAQ,MACjCwJ,GAEF,0BAAMvJ,UAAWL,EAAQgF,KAAMW,SAhBlC,WACC+D,MAgBG,kBAAC1D,EAAA,EAAD,CAAMC,WAAS,EAACxG,QAAS,GACxB,kBAACuG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,IACbsD,QC5CKI,GAAmB,WAE/B,IAAMzE,EAAWC,cAEXC,EAASC,YAAU,CACxBuE,gBAAgB,EAChBC,kBAAkB,EAClBpC,SAAU,SAACjC,GACV,OAAKA,EAAOlD,MAKF,4CAA4CwH,KAAKtE,EAAOlD,YAA7D,EACG,CACNA,MAAO,yBAND,CACNA,MAAO,sBASVgD,cAAe,CACdhD,MAAO,IAERiD,SAAU,SAAAC,GAAW,IACblD,EAASkD,EAATlD,MACP4C,EHkB8B,SAAC5C,GAAD,OAAmB,SAAC4C,GACpDA,EAASsD,IAAa,IACtBnG,EAA0BC,GAAOmD,MAChC,SAAAC,GACCR,EAASqD,GAAa7C,EAAI7C,KAAKuF,UAC/BlD,EAASoD,GAAW,KACpBpD,EAASsD,IAAa,OAEtBuB,OAAM,SAAAxG,GAAU,IACVyG,EAAYzG,EAAZyG,SACYC,GAAeD,EAA3BE,QAFS,aAEkBF,EAFlB,cAKhB,OAFA9E,EAASqD,IAAa,IACtBrD,EAASsD,IAAa,IACftD,EAASoD,GAAW2B,EAAYpH,KAAKU,YG/BlC4G,CAAkB7H,EAAM8H,YAI7B7G,EAAQyB,aAAsC,SAAArB,GAAK,OAAIA,EAAM0G,kBAAkB9G,SAE/E8E,GADUrD,aAAuC,SAAArB,GAAK,OAAIA,EAAM0G,kBAAkBjC,WACxEpD,aAAuC,SAAArB,GAAK,OAAIA,EAAM0G,kBAAkBhC,YAExF,OACC,kBAAC,GAAD,CAAaiB,SAAUlE,EAAOoB,aAAcgD,MAAO,kBACjDpE,EAAO8C,OAAO5F,MAAQ,6BAAM8C,EAAO8C,OAAO5F,OAAe,KACzDiB,EAAQ,6BAAMA,GAAe,KAC9B,kBAAC,GAAD,CAAYA,QAAS6B,EAAO8C,OAAO5F,MAAO8C,OAAM,eAAMA,EAAO6C,cAAc,UAC/DxE,KAAM,QAASmD,MAAO,qBAClC,kBAAC,GAAD,CAAYjH,KAAM,OAAQoE,QAASsE,M,SCtClCF,GAA4C,CAC/C5E,MAAO,GACP6E,SAAS,EACTC,SAAS,GAuBJE,GAAe,SAACH,GAAD,MAAuB,CAC3C3E,KAAM,yBACN2E,YAEKI,GAAe,SAACH,GAAD,MAAuB,CAC3C5E,KAAM,yBACN4E,YAEYC,GAAa,SAAC/E,GAAD,MAAoB,CAC7CE,KAAM,uBACNF,UA4Bc+G,GA1DiB,WACN,IADO3G,EACR,uDAD6CwE,GACrEvE,EAAwB,uCACxB,OAAQA,EAAOH,MACd,IAAK,yBACJ,OAAO,eACHE,EADJ,CACWyE,QAASxE,EAAOwE,UAE5B,IAAK,yBACJ,OAAO,eACHzE,EADJ,CACW0E,QAASzE,EAAOyE,UAE5B,IAAK,uBACJ,OAAO,eACH1E,EADJ,CACWJ,MAAOK,EAAOL,QAE1B,QACC,OAAOI,ICpBG4G,GAAmB,WAE/B,IAAMC,EAAmBC,OAAaC,MAAM,CAC3CjI,SAAUgI,OAAa9D,SAAS,0BAChCgE,eAAgBF,OAAaG,KAAK,WAAY,CAC7CC,GAAI,SAAAC,GAAG,SAAKA,GAAOA,EAAIC,OAAS,IAChCtF,KAAMgF,OAAaO,MAClB,CAACP,KAAQ,aACT,yCAKIQ,EAASC,cAATD,MACD/F,EAAWC,cAEXC,EAASC,YAAU,CACxBuE,gBAAgB,EAChBC,kBAAkB,EAClBvE,cAAe,CACd7C,SAAU,GACVkI,eAAgB,IAEjBH,mBACAjF,SAAU,SAAAC,GAAW,IACb/C,EAAY+C,EAAZ/C,SACPyC,EDgB6B,SAACzC,EAChCwI,GAD+B,OACb,SAAC/F,GACnBA,EAASsD,IAAa,IACtBnG,EAA6BI,EAAUwI,GAAOxF,MAC7C,SAAAC,GACoB,MAAfA,EAAIyF,SACPjG,EAASqD,IAAa,IACtBrD,EAASoD,GAAW,KACpBpD,EAASsD,IAAa,QAGvBuB,OAAM,SAAAxG,GAAU,IACVyG,EAAYzG,EAAZyG,SACYC,GAAeD,EAA3BE,QAFS,aAEkBF,EAFlB,cAKhB,OAFA9E,EAASqD,IAAa,IACtBrD,EAASsD,IAAa,IACftD,EAASoD,GAAW2B,EAAYpH,KAAKU,YChClC6H,CAAiB3I,EAAUwI,OAIhC1H,EAAQyB,aAAsC,SAAArB,GAAK,OAAIA,EAAM0H,eAAe9H,SAC5E6E,EAAUpD,aAAuC,SAAArB,GAAK,OAAIA,EAAM0H,eAAejD,WAC/EC,EAAUrD,aAAuC,SAAArB,GAAK,OAAIA,EAAM0H,eAAehD,WAErF,OAAID,GACHzJ,OAAO2M,QAAQ,mCACR,kBAAC,IAAD,CAAUzL,GAAI,YAIrB,kBAAC,GAAD,CAAayJ,SAAUlE,EAAOoB,aAAcgD,MAAO,oBACjDpE,EAAO8C,OAAOzF,SAAW,6BAAM2C,EAAO8C,OAAOzF,UAAkB,KAC/Dc,EAAQ,6BAAMA,GAAe,KAC9B,kBAAC,GAAD,CAAYA,QAAS6B,EAAO8C,OAAOzF,SACvB2C,OAAM,eAAMA,EAAO6C,cAAc,aACjCxE,KAAM,WAAYmD,MAAO,uBACpCxB,EAAO8C,OAAOyC,eAAiB,6BAAMvF,EAAO8C,OAAOyC,gBAAwB,KAC5E,kBAAC,GAAD,CAAYpH,QAAS6B,EAAO8C,OAAOyC,eACvBvF,OAAM,eAAMA,EAAO6C,cAAc,mBACjCxE,KAAM,WAAYmD,MAAO,yBACrC,kBAAC,GAAD,CAAYjH,KAAM,OAAQoE,QAASsE,M,qBCpDhCtJ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4E,OAAQ,CACNzE,OAAQH,EAAMI,QAAQ,EAAG,EAAG,GAC5BgB,gBAAiB,UACjB,UAAW,CACTA,gBAAiB,gBAKVkL,GAAU,WAErB,IAAMxI,EAASiC,aAAmD,SAAArB,GAAK,OAAIA,EAAMsB,MAAMlC,UACjFC,EAAcgC,aAA6C,SAAArB,GAAK,OAAIA,EAAMsB,MAAMjC,eAE/EV,EAAsDU,EAAtDV,MAAO3C,EAA+CqD,EAA/CrD,KAAMsD,EAAyCD,EAAzCC,OAAQC,EAAiCF,EAAjCE,qBAAsBC,EAAWH,EAAXG,QAE5C+B,EAAWC,cACXvF,EAAUb,KAEhB,IAAKgE,EACH,OAAO,kBAAC,IAAD,CAAUlD,GAAI,WAQvB,OACE,yBAAKI,UAAWuL,KAAEC,cAChB,yBAAKxL,UAAWuL,KAAEE,eAChB,yBAAKzL,UAAW,aACd,wCAAcN,GACd,8CAAoB2C,GACpB,+CAAqBW,GACrB,6DAAmCC,GACnC,gDAAsBC,GAEtB,4BAAQM,KAAK,SAASkI,QAfR,WACpBzG,GXwC0B,SAACA,GAC3BvC,IACK8C,MAAK,SAAAC,GACoB,oEAAlBA,EAAI7C,KAAK+I,MACT1G,EAvBQ,CACpBzB,KAAM,wBWR8CxD,UAAWL,EAAQiE,QAAjE,YARJ,O,6BCTFsE,GAAiC,CACpC0D,UAAW,GACX3K,KAAM,EACN4K,UAAW,GACXC,cAAe,EACfC,cAAe,GACfC,oBAAqB,GAuDTC,GAAW,SAACrJ,EAAUzB,EAAWC,GAAtB,MAAsC,CAC7DoC,KAAM,kBACNoI,UAAWhJ,EAAKgJ,UAChB3K,KAAM2B,EAAK3B,KACX4K,UAAWjJ,EAAKiJ,UAChBG,oBAAqBpJ,EAAKoJ,oBAC1BF,cAAe3K,EACf4K,cAAe3K,IAQH8K,GAAmB,SAACjL,EAAcW,GAAf,OAA+B,SAACqD,EAC/DkH,GAAsC,IAAD,EACEA,IAAWC,aAA3CN,EAD8B,EAC9BA,cAAeC,EADe,EACfA,cACtB/K,EAA4BC,EAAMW,EAAKkK,EAAeC,GAAevG,MACpE,SAAAC,GACCR,EAASgH,GAASxG,EAAI7C,KAAMkJ,EAAeC,OAE3CjC,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,Y,sEC5G5BtE,GAAQqN,eAERvN,GAAYC,aAAW,SAACC,GAAD,OAC5BC,YAAa,CACZqN,MAAO,CACNjI,QAAS,OACTE,WAAY,SACZgI,eAAgB,UAEjBnI,MAAO,CACNhE,gBAAiBpB,EAAMwF,QAAQgI,WAAWpI,MAC1CqI,OAAQ,iBACRC,UAAW1N,EAAM2N,QAAQ,GACzB9D,QAAS7J,EAAMI,QAAQ,EAAG,EAAG,IAE9BwN,OAAQ,CACPhI,MAAO,QACPiI,aAAc,eAaF,SAASC,GAAT,GAAqE,IAA/CC,EAA8C,EAA9CA,OAAOC,EAAuC,EAAvCA,YAAYzD,EAA2B,EAA3BA,MAAMD,EAAqB,EAArBA,SACvD3J,EAAUb,KAEhB,SAASmO,IACRD,IAGD,OACC,6BACC,kBAACE,GAAA,EAAD,CACCC,kBAAgB,yBAChBC,mBAAiB,+BACjBpN,UAAWL,EAAQ2M,MACnBe,KAAMN,EACNE,QAASA,EACTK,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACdC,QAAS,MAGV,kBAACC,GAAA,EAAD,CAAMC,GAAIb,GACT,yBAAK/M,UAAWL,EAAQyE,OACvB,kBAACyJ,GAAA,EAAD,KACC,kBAAC/N,EAAA,EAAD,CAAQ4L,QAAS,kBAAMuB,KAAW5N,MAAM,WAAxC,UAED,kBAACoB,EAAA,EAAD,CAAYZ,MAAO,CAACgJ,QAAS7J,GAAMI,QAAQ,IAAKyG,UAAU,KAC9C9F,QAAQ,MAClBwJ,GAEDD,M,cCzDDxK,GAAYC,YAAW,CAC5BkF,KAAM,CACLW,MAAO,MACPP,QAAS,OACTkI,eAAgB,gBAChBhI,WAAY,UAEbqI,OAAQ,CACPhI,MAAO,QACPiI,aAAc,UAEfiB,OAAQ,CACPC,YAAa,UASA,SAASC,GAAT,GAAqD,IAA/BC,EAA8B,EAA9BA,SAASC,EAAqB,EAArBA,SACvCvO,EAAUb,KADkD,EAExCqP,IAAMC,SAAmB,CAACH,EAAUC,IAFI,oBAE3DlH,EAF2D,KAEpDqH,EAFoD,KAI5DpJ,EAAWC,cAYjB,OACC,yBAAKlF,UAAWL,EAAQsE,MACvB,kBAACqK,GAAA,EAAD,CAAQtO,UAAWL,EAAQmO,OAC1B9G,MAAOA,EACP7F,IAAK8M,EACLM,KAAM,EACNnN,IAAK8M,EACLpH,SAjBkB,SAACoC,EAAYsF,GAC7BA,GACHH,EAASG,IAgBRrB,kBAAgB,eAChBsB,kBAAkB,OAEnB,kBAAC3O,EAAA,EAAD,CACC4L,QAhB0B,WF4EH,IAACvK,EAAaC,EE3EvC6D,GF2E0B9D,EE3EL6F,EAAM,GF2EY5F,EE3ET4F,EAAM,GF2EmB,SAAC/B,EACzDkH,GAAsC,IAAD,EACXA,IAAWC,aAA9BnL,EAD8B,EAC9BA,KAAM4K,EADwB,EACxBA,UACb7K,EAA2BC,EAAM4K,EAAW1K,EAAKC,GAAKoE,MACtD,SAAAC,GACCR,EAASgH,GAASxG,EAAI7C,KAAKzB,EAAIC,OAE9B0I,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,cEnE9BvD,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiN,QAJpB,U,cCtDWP,eACRjN,QAAQ,GACd,IAAMN,GAAYC,YAAW,CAC5B2P,WAAY,CACXrK,QAAS,OACTkI,eAAgB,SAChB1H,UAAW,UAmDE8J,GAtCI,SAAC,GAOF,IANjBzN,EAMgB,EANhBA,MACAD,EAKgB,EALhBA,KACA2N,EAIgB,EAJhBA,mBACAC,EAGgB,EAHhBA,aACAC,EAEgB,EAFhBA,YACAC,EACgB,EADhBA,oBAcMpP,EAAUb,KAEhB,OACC,6BACC,kBAACkQ,GAAA,EAAD,CACChP,UAAWL,EAAQ+O,WACnB7I,UAAU,MACV3E,MAAOA,EACPD,KAAMA,EACN2N,mBAAoBA,EACpBC,aArBsB,SAAC3F,EACzB+F,GACAJ,EAAaI,IAoBXH,YAAaA,EACbC,oBAlB6B,SAC/B7F,GAEA6F,GAAqB7F,EAAMgG,OAAOlI,Y,kDChCtBqF,eACRjN,QAAQ,GAEd,IAAMN,GAAYC,YAAW,CAC5BoQ,MAAO,CACNC,SAAU,KAEXC,QAAS,CACRC,WAAY,UAmCCC,GApBG,SAAC,GAAmC,IAAlCF,EAAiC,EAAjCA,QAAQ/F,EAAyB,EAAzBA,SAErB3J,EAAUb,KAEhB,OACC,kBAAC0Q,GAAA,EAAD,CAAOxP,UAAWL,EAAQwP,MAAOM,aAAW,gBAC3C,kBAACC,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,KACEN,EAAQO,KAAI,SAAAC,GAAI,OAAI,kBAACC,GAAA,EAAD,CAAW9P,UAAWL,EAAQ0P,QACnBU,MAAOF,EAAKE,OAAQF,EAAKnQ,WAI3D,kBAACsQ,GAAA,EAAD,KACE1G,KChBDpB,GAA0B,CAC5B+H,MAAO,GACPC,gBAAiB,EACjBC,SAAU,EACVC,SAAU,EACVnP,KAAM,EACN4K,UAAW,EACXrK,GAAI,IAeA6O,GAAW,SAACzN,EAAiBpB,GAAlB,MAAkC,CACjDgC,KAAM,kBACNZ,OACApB,OAMW8O,GAAa,SAAC9O,GAAD,OAAgB,SAACyD,EAAyBkH,GAAsC,IAAD,EAC7EA,IAAWoE,aAA9BtP,EADgG,EAChGA,KAAM4K,EAD0F,EAC1FA,UACb7K,EAAqBQ,EAAIP,EAAM4K,GAAWrG,MACxC,SAAAC,GACER,EAASoL,GAAS5K,EAAI7C,KAAMpB,OAE9BsI,OAAM,SAAAxG,GACNoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,YAIvBkN,GAAe,SAACvP,EAAcW,GAAf,OAA+B,SAACqD,EAAyBkH,GAAsC,IAClH3K,EAAM2K,IAAWoE,aAAjB/O,GACPR,EAAqBQ,EAAIP,EAAMW,GAAK4D,MAClC,SAAAC,GACER,EAASoL,GAAS5K,EAAI7C,KAAMpB,OAE9BsI,OAAM,SAAAxG,GACNoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,Y,+DCpD9BtE,GAAQqN,eACRvN,GAAYC,YAAW,CAC5B8J,QAAS,CACRA,QAAS,GACP+D,OAAQ,CACVhI,MAAO,QAASiI,aAAc,UAC5B1N,OAAQ,CACVsR,WAAYzR,GAAMI,QAAQ,IACxBsR,SAAU,CACZ9L,MAAO,WAyMM+L,GArMDxC,IAAMyC,MAAK,WAExB,IAAIC,EAAUC,cAERnR,EAAUb,KAJoB,EAMFsP,mBAAS,GANP,oBAM7B2C,EAN6B,KAMlBC,EANkB,OAOJ5C,mBAAS,GAPL,oBAO7B6C,EAP6B,KAOnBC,EAPmB,OAQN9C,mBAAS,IARH,oBAQ7B+C,EAR6B,KAQpBC,EARoB,OASUhD,mBAAS,IATnB,oBAS7BiD,EAT6B,KASZC,EATY,OAUIlD,mBAAS,IAVb,oBAU7BmD,EAV6B,KAUfC,EAVe,OAY0BpD,oBAAS,GAZnC,oBAY7BqD,EAZ6B,KAYJC,EAZI,OAagCtD,oBAAS,GAbzC,oBAa7BuD,EAb6B,KAaDC,EAbC,KAyB9BlO,EAAQqB,aAAmC,SAAArB,GAAK,OAAIA,EAAM0I,gBACzDR,EAAmDlI,EAAnDkI,UAAW3K,EAAwCyC,EAAxCzC,KAAM4K,EAAkCnI,EAAlCmI,UAAWG,EAAuBtI,EAAvBsI,oBA1BC,EA2BNjH,aAAmC,SAAArB,GAAK,OAAIA,EAAMsB,SAAzElC,EA3B6B,EA2B7BA,OAAQC,EA3BqB,EA2BrBA,YACTkC,EAAWC,cAEX2M,EAAY9O,EAAYV,MAE9ByP,qBAAU,WACT7M,EAASiH,GAAiB6E,EAAWE,MACnC,CAACpF,EAAW5K,IAEf,IAUM8Q,EAAkB,SAACvQ,GACxByD,ENwD0B,SAACzD,GAAD,OAAgB,SAACyD,EAAyBkH,GAAsC,IAAD,EAChFA,IAAWC,aAA9BnL,EADmG,EACnGA,KAAM4K,EAD6F,EAC7FA,UACb7K,EAAuBQ,GAAIgE,MAC1B,SAAAC,GACCR,EAASiH,GAAiBjL,EAAM4K,OAEhC/B,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,WM/DvB0O,CAAaxQ,KAkBjByQ,EAAiC,SAACzQ,GACvCgQ,EAAgBhQ,GAChBoQ,GAA8B,GAPP,SAACpQ,GACxB,IAAI0Q,EAAqBtG,EAAUuG,MAAK,SAACC,GAAD,OAAkBA,EAAGzQ,MAAQH,KACrE8P,EAAmBY,EAASxS,MAM5B2S,CAAgB7Q,IAuBX8Q,EAAcC,uBAAY,WAE/B,MADY,OAASC,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,IAAMF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,IAAMF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,MAErI,IAEH,OAAI5P,EACK,6BACN,kBAAC6P,GAAA,EAAD,CAAgB9M,UAAWM,KAC1B,kBAACR,EAAA,EAAD,CACC9F,MAAO,CAACgF,UAAW7F,GAAMI,QAAQ,IACjCwG,WAAS,EACTgN,UAAU,MACVhL,QAAQ,gBACRrD,WAAW,UAEX,kBAACoB,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACd,kBAACvF,EAAA,EAAD,CAAYT,UAAWL,EAAQR,OAAQY,QAAQ,MAA/C,UAED,kBAAC4F,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACd,kBAACgI,GAAD,CAAaE,SAAU,GAAID,SAAU,KAEtC,kBAACtI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACd,kBAAClG,EAAA,EAAD,CACC4L,QAAS,WAtCfgG,GAA2B,IAuCrB3R,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiN,OACnBiG,UAAW,kBAAC,KAAD,OALZ,cAWF,kBAAC,GAAD,CAAWxD,QAzCG,CAAC,CAAC3P,KAAM,OAAQqQ,MAAO,WAAY,CAACrQ,KAAM,aAAcqQ,MAAO,UAAW,CAC3FrQ,KAAM,WACNqQ,MAAO,UACL,CAACrQ,KAAM,OAAQqQ,MAAO,SAAU,CAACrQ,KAAM,SAAUqQ,MAAO,UAAW,CACrErQ,KAAM,SACNqQ,MAAO,QACL,CAACrQ,KAAM,UAAWqQ,MAAO,WAoCtBnE,EAAUgE,KAAI,SAAChO,GAAD,OAAoB,kBAAC+N,GAAA,EAAD,CAAUmD,IAAKlR,EAAID,KACpD,kBAACmO,GAAA,EAAD,CAAW9P,UAAWL,EAAQ+Q,SAAU7K,UAAU,KAAKkN,MAAM,OAC3DnR,EAAIlC,MAEN,kBAACoQ,GAAA,EAAD,CAAWC,MAAM,UAAUnO,EAAIoR,YAC/B,kBAAClD,GAAA,EAAD,CAAWC,MAAM,UAChB,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOiT,KACxB5G,QAAS,kBAlFOlK,EAkFiBI,EAAID,IAjF/CkP,EAAQqC,KAAK,eACbjO,EAASqL,GAAW9O,IAFK,IAACA,GAmFhBxB,UAAWL,EAAQkJ,QAAS4G,aAAW,SACzC,kBAAC,KAAD,CAAY0D,SAAS,YAGvB,kBAACrD,GAAA,EAAD,CAAWC,MAAM,SAChB,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOiT,KACxB5G,QAAS,kBApFGlK,EAoFiBI,EAAID,IAnF3CkP,EAAQqC,KAAK,oBACbjO,EAASqL,GAAW9O,IAFC,IAACA,GAqFZxB,UAAWL,EAAQkJ,QAAS4G,aAAW,OACzC,kBAAC,KAAD,CAAY0D,SAAS,YAGvB,kBAACrD,GAAA,EAAD,CAAWC,MAAM,UAChB,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOwS,IAAcjQ,EAAIwR,UAAY,UAAYd,KAClEtO,SAAU6N,IAAcjQ,EAAIwR,UAC5BpT,UAAWL,EAAQkJ,QAAS4G,aAAW,SACvC/D,QAAS,kBAAMqG,EAAgBnQ,EAAID,OACrC,kBAAC,KAAD,CAAYwR,SAAS,YAGvB,kBAACrD,GAAA,EAAD,CAAWC,MAAM,QAEhB,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOwS,IAAcjQ,EAAIwR,UAAY,UAAYd,KAClEtO,SAAU6N,IAAcjQ,EAAIwR,UAC5B1H,QAAS,kBAAMuG,EAA+BrQ,EAAID,MAClD3B,UAAWL,EAAQkJ,QAAS4G,aAAW,UACzC,kBAAC,KAAD,CAAe0D,SAAS,YAG1B,kBAACrD,GAAA,EAAD,CAAWC,MAAM,SAASnO,EAAIuB,QAAQkQ,MAAM,GAAI,WAIpD,kBAAC,GAAD,CAAYnS,MAAO8K,EAAqB/K,KAAMA,EAAO,EAClD2N,mBAAoB,CAAC,EAAG,GAAI,IAAKC,aAtJlB,SAACI,GACrB+B,EAAa/B,EAAU,GACvBhK,EAASiH,GAAiB+C,EAAU,EAAGgC,KAqJlCnC,YAAajD,EAAWkD,oBAnJJ,SAACnN,GAC1BsP,EAAYtP,GACZqD,EAASiH,GAAiB6E,EAAWnP,OAkJnC,kBAACkL,GAAD,CAAaE,YAzFe,WAC9B0E,GAA2B,IAwFyB3E,OAAQ0E,EACtDlI,MAAO,gBAEV,0BAAMjE,SAvIkB,WNyDD,IAAC5F,EMxD3BuF,GNwD2BvF,EMxDLyR,ENwDsB,SAAClM,EAAyBkH,GAAsC,IAAD,EAClFA,IAAWC,aAA9BnL,EADqG,EACrGA,KAAM4K,EAD+F,EAC/FA,UACb7K,EAAuBtB,GAAM8F,MAC5B,SAAAC,GACCR,EAASiH,GAAiBjL,EAAM4K,OAEhC/B,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,aM9DhCoO,GAA2B,KAsIvB,kBAAC/L,EAAA,EAAD,CAAMC,WAAS,EAACxG,QAAS,GACxB,kBAAC,GAAD,CAAY4H,MAAOmK,EAChB3N,KAAM,OAAQmD,MAAO,eACrBG,SAAUsK,IACb,kBAAC,GAAD,CAAY1R,KAAM,YAIrB,kBAACoN,GAAD,CAAaE,YA7GwB,WACvC4E,GAA8B,IA4G+B7E,OAAQ4E,EAC/DpI,MAAO,oBACV,0BAAMjE,SA7IkB,WNyED,IAAC9D,EAAY9B,EMxEvCuF,GNwE2BzD,EMxEL+P,ENwEiB7R,EMxEH2R,ENwEoB,SAACpM,EAC1DkH,GAAsC,IAAD,EACXA,IAAWC,aAA9BnL,EAD8B,EAC9BA,KAAM4K,EADwB,EACxBA,UACb7K,EAAuBQ,EAAI9B,GAAM8F,MAChC,SAAAC,GACCR,EAASiH,GAAiBjL,EAAM4K,OAEhC/B,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,aM/EhCsO,GAA8B,KA4I1B,kBAACjM,EAAA,EAAD,CAAMC,WAAS,EAACxG,QAAS,GACxB,kBAAC,GAAD,CACC4H,MAAOqK,EACP7N,KAAM,OAAQmD,MAAO,oBACrBG,SAAUwK,IAEX,kBAAC,GAAD,CAAY5R,KAAM,+BAMjB,kBAAC,IAAD,CAAUE,GAAI,cClOhBd,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxCoF,MAAO,CACNS,UAAW7F,EAAMI,QAAQ,GACzBiF,QAAS,OACTC,cAAe,SACfC,WAAY,UAEbvB,OAAQ,CACP7D,OAAQH,EAAMI,QAAQ,GACtBgB,gBAAiBpB,EAAMwF,QAAQC,UAAUC,MAE1CC,KAAM,CACLC,MAAO,OACPC,UAAW7F,EAAMI,QAAQ,IAE1BwE,OAAQ,CACPzE,OAAQH,EAAMI,QAAQ,EAAG,EAAG,QAiCfkU,GA7BI,WAClB,IAAM3T,EAAUb,KAEhB,OACC,kBAAC0K,GAAA,EAAD,CAAW3D,UAAU,OAAO4D,SAAS,MACpC,kBAAC3D,EAAA,EAAD,MACA,yBAAK9F,UAAWL,EAAQyE,OACvB,kBAAC3D,EAAA,EAAD,CAAYoF,UAAU,KAAK9F,QAAQ,MAAnC,OAGA,kBAACU,EAAA,EAAD,CAAYoF,UAAU,KAAK9F,QAAQ,MAAnC,0BAGA,kBAAC,IAAD,CAASH,GAAI,YACZ,kBAACE,EAAA,EAAD,CACC0D,KAAK,SACLO,WAAS,EACThE,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiE,QALpB,eCrBC5E,GAAQqN,eACdrN,GAAMI,QAAQ,GAEd,IAAMN,GAAYC,YAAW,CAC5B8J,QAAS,CACRA,QAAS,GACP+D,OAAQ,CACVhI,MAAO,QAASiI,aAAc,UAC5B1N,OAAQ,CACVsR,WAAYzR,GAAMI,QAAQ,IACxBsR,SAAU,CACZ9L,MAAO,WA6MM2O,GAzMD,WACb,IAAM5T,EAAUb,KACVmG,EAAWC,cAEXxB,EAAQqB,aAAmC,SAAArB,GAAK,OAAIA,EAAM6M,gBAJ7C,EAKWxL,aAAmC,SAAArB,GAAK,OAAIA,EAAMsB,SAAzElC,EALY,EAKZA,OACAmN,GANY,EAKJlN,YACuCW,EAA/CuM,OAAOC,EAAwCxM,EAAxCwM,gBAAiBjP,EAAuByC,EAAvBzC,KAAM4K,EAAiBnI,EAAjBmI,UANlB,GAMmCnI,EAANlC,GAC9BuD,aAAmC,SAAArB,GAAK,OAAIA,EAAM0I,aAAaR,aAE9CwC,mBAAS,IATzB,oBASX2C,EATW,KASAC,EATA,OAUc5C,mBAAS,GAVvB,oBAUX6C,EAVW,KAUDC,EAVC,OAWc9C,mBAAS,IAXvB,oBAWXpM,EAXW,KAWDwR,EAXC,OAYUpF,mBAAS,IAZnB,oBAYXnM,EAZW,KAYHwR,EAZG,OAa4BrF,mBAAS,IAbrC,oBAaXsF,EAbW,KAaMC,EAbN,OAcwBvF,mBAAS,IAdjC,oBAcXwF,EAdW,KAcIC,EAdJ,OAe4CzF,oBAAS,GAfrD,oBAeX0F,EAfW,KAecC,EAfd,OAgBkD3F,oBAAS,GAhB3D,oBAgBX4F,EAhBW,KAgBiBC,EAhBjB,OAiBsB7F,mBAAS,IAjB/B,oBAiBX8F,GAjBW,KAiBGC,GAjBH,QAkBY/F,oBAAS,GAlBrB,sBAkBXgG,GAlBW,MAoCZC,IApCY,MAoCU,WAC1BpP,EHSwB,SAACjD,EAAgBC,GAAjB,OAAmC,SAACgD,EAAwBkH,GAAsC,IACtH3K,EAAM2K,IAAWoE,aAAjB/O,GACPR,EAAuBQ,EAAIQ,EAAUC,GAAQuD,MAC5C,SAAAC,GACCR,EAASqL,GAAW9O,OAGpBsI,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,WGjBrBgR,CAAatS,EAAUC,IAChC8R,GAA2B,KAEzBlD,GAAUC,cAMRiB,GAAkB,SAACvQ,GHuBC,IAACK,EGtBzBoD,GHsByBpD,EGtBHL,EHsBsB,SAACyD,EAAyBkH,GAAsC,IACvG3K,EAAM2K,IAAWoE,aAAjB/O,GACPR,EAAuBa,GAAQ2D,MAC7B,SAAAC,GACER,EAASqL,GAAW9O,OAEtBsI,OAAM,SAAAxG,GACNoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,cGf5BiR,GAAiC,SAAC/S,GACtC2S,GAAgB3S,GAChByS,GAA8B,GAbR,SAACzS,GACvB,IAAMU,EAAiB+N,EAAMkC,MAAK,SAACC,GAAD,OAAkBA,EAAGzQ,MAAQH,KAC/DmS,EAAmBzR,EAAKF,UACxB6R,EAAiB3R,EAAKD,QAWtBoQ,CAAgB7Q,IAyBZ8Q,GAAcC,uBAAY,WAG9B,MAFY,OAASC,KAAKC,MAAsB,IAAhBD,KAAKE,UACjC,IAAMF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,IAAMF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,MAEnF,IAEH,OAAI5P,EAEA,6BACE,kBAAC6P,GAAA,EAAD,CAAgB9M,UAAWM,KACzB,kBAACR,EAAA,EAAD,CACE9F,MAAO,CAACgF,UAAW7F,GAAMI,QAAQ,IACjCwG,WAAS,EACTgN,UAAU,MACVhL,QAAQ,gBACRrD,WAAW,UAEX,kBAACoB,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACb,kBAACvF,EAAA,EAAD,CAAYT,UAAWL,EAAQR,OAAQY,QAAQ,MAA/C,UAEDqU,GAAU,kBAACzO,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACxB,kBAAClG,EAAA,EAAD,CACE4L,QAAS,WAlFrBqI,GAA2B,IAmFfhU,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiN,OACnBiG,UAAW,kBAAC,KAAD,OALb,aASQ,KAEV,kBAAClN,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GACb,kBAAClG,EAAA,EAAD,CACE4L,QAjFS,WACrBmF,GAAQqC,KAAK,WAiFDnT,QAAQ,YACRV,MAAM,UACNW,UAAWL,EAAQiN,OACnBiG,UAAW,kBAAC,KAAD,OALb,cAWJ,kBAAC,GAAD,CAAWxD,QArDD,CAChB,CAAC3P,KAAM,WAAYqQ,MAAO,WAC1B,CAACrQ,KAAM,SAAUqQ,MAAO,UACxB,CAACrQ,KAAM,QAASqQ,MAAO,UACvB,CAACrQ,KAAM,SAAUqQ,MAAO,UACxB,CAACrQ,KAAM,SAAUqQ,MAAO,QACxB,CAACrQ,KAAM,UAAWqQ,MAAO,WAgDhBE,EAAML,KAAI,SAAChO,GAAD,OACT,kBAAC+N,GAAA,EAAD,CAAUmD,IAAKlR,EAAID,KACjB,kBAACmO,GAAA,EAAD,CAAW9P,UAAWL,EAAQ+Q,SAAU7K,UAAU,KAAKkN,MAAM,OAC1DnR,EAAII,UAEP,kBAAC8N,GAAA,EAAD,CAAWC,MAAM,UAAUnO,EAAIK,QAC/B,kBAAC6N,GAAA,EAAD,CAAWC,MAAM,UAAUnO,EAAIE,OAC/B,kBAACgO,GAAA,EAAD,CAAWC,MAAM,UACf,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOiT,MACftS,UAAWL,EAAQkJ,QAAS4G,aAAW,SACjD/D,QAAS,kBAAMqG,GAAgBnQ,EAAID,OACnC,kBAAC,KAAD,CAAYwR,SAAS,YAGzB,kBAACrD,GAAA,EAAD,CAAWC,MAAM,QACf,kBAACkD,GAAA,EAAD,CAAYpT,MAAO,CAACR,MAAOiT,MACftS,UAAWL,EAAQkJ,QAAS4G,aAAW,SACvC/D,QAAS,kBAAM6I,GAA+B3S,EAAID,OAC5D,kBAAC,KAAD,CAAewR,SAAS,YAG5B,kBAACrD,GAAA,EAAD,CAAWC,MAAM,SAASnO,EAAIuB,QAAQkQ,MAAM,GAAI,WAMxD,kBAAC,GAAD,CAAYnS,MAAOgP,EAAiBjP,KAAMA,EAAO,EACrC2N,mBAAoB,CAAC,EAAG,GAAI,IAAKC,aA3F/B,SAACI,GACrB+B,EAAa/B,EAAU,GACvBhK,EAASuL,GAAavB,EAAU,EAAGgC,KA0FjBnC,YAAajD,EAAWkD,oBAxFjB,SAACnN,GAC1BsP,EAAYtP,GACZqD,EAASuL,GAAaO,EAAWnP,OAuF3B,kBAACkL,GAAD,CAAaE,YAAa,WAnI9B+G,GAA2B,IAmI8BhH,OAAQ+G,EAAyBvK,MAAO,gBAE3F,0BAAMjE,SAAU,kBAAM+O,OACpB,kBAAC1O,EAAA,EAAD,CAAMC,WAAS,EAACxG,QAAS,GACvB,kBAAC,GAAD,CAAY4H,MAAOhF,EACPwB,KAAM,OAAQmD,MAAO,iBACrBG,SAAU0M,IACtB,kBAAC,GAAD,CAAYxM,MAAO/E,EACPuB,KAAM,OAAQmD,MAAO,eACrBG,SAAU2M,IACtB,kBAAC,GAAD,CAAY/T,KAAM,YAIxB,kBAACoN,GAAD,CAAaE,YA/GqB,WACtCiH,GAA8B,IA8GiClH,OAAQiH,EAA4BzK,MAAO,kBAEpG,0BAAMjE,SA5Hc,WAC1BL,EHuBwB,SAACpD,EAAgB6R,EAAyBE,GAA1C,OAAoE,SAAC3O,EAAyBkH,GAAsC,IACvJ3K,EAAM2K,IAAWoE,aAAjB/O,GACPR,EAAuBa,EAAQ6R,EAAiBE,GAAepO,MAC7D,SAAAC,GACER,EAASqL,GAAW9O,OAEtBsI,OAAM,SAAAxG,GACNoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,WG9BvBkR,CAAaN,GAAcR,EAAiBE,IACrDK,GAA8B,KA2HtB,kBAACtO,EAAA,EAAD,CAAMC,WAAS,EAACxG,QAAS,GACvB,kBAAC,GAAD,CACE4H,MAAO0M,EACPlQ,KAAM,OAAQmD,MAAO,mBACrBG,SAAU6M,IAEZ,kBAAC,GAAD,CACE3M,MAAO4M,EACPpQ,KAAM,OAAQmD,MAAO,iBACrBG,SAAU+M,IAEZ,kBAAC,GAAD,CAAYnU,KAAM,6BAMvB,kBAAC,IAAD,CAAUE,GAAI,Y,yCChOjBZ,GAAQqN,eACdrN,GAAMI,QAAQ,GAEd,IAAMN,GAAYC,YAAW,CAC5B8J,QAAS,CACRA,QAAS,GACP4L,cAAe,CACjB7P,MAAO,QACPV,OAAQ,OACR2I,aAAc,SACd6H,aAAc,OACdlI,WAAY,UACZC,OAAQ,oBACRtN,OAAQ,OACRE,MAAO,WACLsV,YAAa,CACftV,MAAO,UACPF,OAAQ,MACRG,YAAa,UACbC,eAAgB,OAChBsJ,QAAS,UACTsK,SAAU,YACV1G,OAAQ,qBACNtN,OAAQ,CACVsR,WAAYzR,GAAMI,QAAQ,IACxB8C,KAAM,CACR0C,MAAO,QACPV,OAAQ,QACR/E,OAAQ,OACRsN,OAAQ,oBACRiI,aAAc,OACdE,eAAgB,cAChBrU,SAAU,WACViM,WAAY,QACZnI,QAAS,OACTE,WAAY,SACZgI,eAAgB,YAMZsI,GAAS,CAAC,wCAAW,iCAAS,gEAAe,yDAAa,4BAE1DC,GAAU,SAAC7E,GAChB,IAAM8E,EAAM9E,EAAM+E,QAAO,SAACC,EAAK/S,GAAN,OAAe+S,GAAO,EAAI/S,EAAKJ,QAAU,EAAII,EAAKJ,SAAQ,GAC7EoT,EAAO1C,KAAKE,SAAWqC,EACvBtP,EAAMwK,EAAM+E,QAAO,SAACC,EAAkC/S,EAAMiT,GACjE,IAAMC,EAASH,EAAIF,KAAO,EAAI7S,EAAKJ,QAAU,EAAII,EAAKJ,OACtD,MAAO,CAACiT,IAAKK,EAAQ5T,GAAI4T,EAASF,EAAOC,EAAIF,EAAIzT,MAC/C,CAACuT,IAAK,EAAGvT,IAAK,IACjB,OAAOyO,EAAMxK,EAAIjE,GAAK,IAoGR6T,GAhGD,SAACC,GACX,IAAM3V,EAAUb,KACVmG,EAAWC,cAFe,EAIEkJ,oBAAkB,GAJpB,oBAIzBmH,EAJyB,KAIdC,EAJc,OAKEpH,oBAAkB,GALpB,iCAMEA,oBAAkB,IANpB,oBAMzBqH,EANyB,KAMdC,EANc,OAONtH,oBAAkB,GAPZ,oBAOzBuH,EAPyB,KAOlBC,EAPkB,KASzB3F,EAASlL,aAAY,SAAC8Q,GAAD,OAA6BA,EAAMtF,gBAAxDN,MACAzO,EAAMyJ,cAANzJ,GAVyB,EAYR4M,mBAAmB,CACvCzM,IAAK,OACLQ,aAAc,GAEdF,OAAQ,cACRD,SAAU,gBACVF,MAAO,EACPgU,MAAO,EAEPtS,KAAM,GACNuS,OAAQ,EACRC,QAAS,GAET9S,QAAS,GACTC,QAAS,KA1BmB,oBAYzBjB,EAZyB,KAYnB+T,EAZmB,KA6BnCnE,qBAAU,WAMT,OALI6D,IACH1Q,EAASqL,GAAW9O,IACpBoU,GAAS,IAEN3F,EAAMnF,OAAS,GAAGmL,EAAQnB,GAAQ7E,IAC/B,eAEL,CAAChL,EAAUzD,EAAIyO,EAAO0F,IAEzB,IAeMO,EAAiB,SAACf,GJzBE,IAACtT,EAAcC,EI0BxCmD,GJ1B0BpD,EI0BLK,EAAKP,IJ1BcG,EI0BTqT,EAAI,EJ1BsB,SAAClQ,EAAyBkH,GAAsC,IACnH3K,EAAM2K,IAAWoE,aAAjB/O,GACPR,EAA0Ba,EAAQC,GAAO0D,MACxC,SAAAC,GACCR,EAASqL,GAAW9O,OAEpBsI,OAAM,SAAAxG,GACPoE,QAAQC,IAAIrE,EAAMyG,SAASnH,KAAKU,cIsB9B,OACI,yBAAKtD,UAAWuL,KAAE4K,eACbZ,EACG,oCACI,yBAAKvV,UAAWuL,KAAE6K,gBACd,kBAAC,KAAD,CAAeX,UAAWA,EAAWY,cAAc,cAC/C,yBAAKrW,UAAS,UAAKL,EAAQuC,KAAb,YAAqBqJ,KAAErJ,MAAQoU,aAjBxC,WACzBZ,GAAa,KAiBW,wBAAI1V,UAAWuL,KAAEhC,OAAQrH,EAAKF,WAElC,yBAAKhC,UAAWL,EAAQuC,KAAMqU,YAjBxB,WAC1Bb,GAAa,KAiBW,wBAAI1V,UAAWuL,KAAEhC,OAAQrH,EAAKD,WAI1C,6BACI,kBAACnC,EAAA,EAAD,CAAQ4L,QAAS,kBAAM8J,GAAa,IAAQxV,UAAWL,EAAQ8U,eAA/D,WAIR,oCACI,6BACI,yBAAKzU,UAAWL,EAAQuC,MACnBA,EAAKD,QAET4S,GAAOjF,KAAI,SAAC4G,EAAGrB,GAAJ,OACvB,kBAACrV,EAAA,EAAD,CAAQgT,IAAK,SAAWqC,EAAGzJ,QAAS,kBAAMwK,EAAef,IACrDnV,UAAWL,EAAQgV,aAAc6B,MAE1B,6BAAK,kBAAC1W,EAAA,EAAD,CAAQ4L,QA/CrB,WACd8J,GAAa,GACTvF,EAAMnF,OAAS,GAClBmL,EAAQnB,GAAQ7E,KA4CmCjQ,UAAWL,EAAQ8U,eAA5C,aCxGdgC,OAjCf,WAEI,OACI,yBAAKzW,UAAU,OACX,gCACI,kBAAC,EAAD,OAEJ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO0W,KAAM,oBACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,SACNC,OAAQ,kBAAM,kBAAC7R,GAAD,SACrB,kBAAC,IAAD,CAAO4R,KAAM,YACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,oBACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,4BACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,SACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,cACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,SACNC,OAAQ,kBAAM,kBAAC,GAAD,SACrB,kBAAC,IAAD,CAAOD,KAAM,IACNC,OAAQ,kBAAM,kBAAC,GAAD,Y,mBCnC/BzO,GAAiC,CACnC0O,eAAe,GCKbC,GAAWC,aAAgB,CAC/BvP,SrBH6B,WAAsE,IAArE7D,EAAoE,uDAAvCb,GAAec,EAAwB,uCAEhG,OAAQA,EAAOH,MACX,IAAK,6BACD,OAAO,eAAIE,EAAX,CAAkB2D,aAAc1D,EAAOqD,QAC3C,QACI,OAAOtD,IqBFjB0G,kBAAmB5B,GACnB4C,eAAgBf,GAChBrF,MAAOvB,GACP2I,aZ0B0B,WACF,IADG1I,EACJ,uDAD8BwE,GACtDvE,EAAwB,uCACxB,OAAQA,EAAOH,MACd,IAAK,kBACJ,OAAO,eACHE,EADJ,CACWkI,UAAWjI,EAAOoT,WAC5B9V,KAAM0C,EAAO1C,KACb4K,UAAWlI,EAAOkI,UAClBG,oBAAqBrI,EAAOqI,oBAC5BF,cAAenI,EAAOmI,cACtBC,cAAepI,EAAOoI,gBAExB,IAAK,iBACJ,OAAO,eACHrI,EADJ,CAECzC,KAAM0C,EAAO1C,KACb4K,UAAWlI,EAAOkI,YAGpB,IAAK,kBACJ,OAAO,eACHnI,EADJ,CACWkI,UAAWjI,EAAOiI,UAC5B3K,KAAM0C,EAAO1C,KACb4K,UAAWlI,EAAOkI,UAClBG,oBAAqBrI,EAAOqI,oBAC5BF,cAAenI,EAAOmI,cACtBC,cAAepI,EAAOoI,gBAExB,QACC,OAAOrI,IYtDR6M,aPuB0B,WAC0B,IADzB7M,EACwB,uDADLwE,GACnBvE,EAAwB,uCACnD,OAAQA,EAAOH,MACb,IAAK,kBACH,OAAO,eACFE,EADL,GACeC,EAAOf,KADtB,CAC4BpB,GAAImC,EAAOnC,KAEzC,QACE,OAAOkC,IO9BXsT,IDTwB,WAAqF,IAApFtT,EAAmF,uDAAxDwE,GAAcvE,EAA0C,uCAC1G,OAAQA,EAAOH,MAKX,IAAK,qBACD,OAAO,eAAIE,EAAX,CAAkBkT,cAAejT,EAAOiT,gBAC5C,QACI,OAAO,eAAIlT,OCGVmS,GAAQoB,aAAYJ,GAAUK,aAAgBC,OAK3DzY,OAAOmX,MAAQA,GChBfuB,IAAST,OACL,kBAAC,IAAMU,WAAP,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUxB,MAAOA,IACb,kBAAC,GAAD,SAIZyB,SAASC,eAAe,S7B0HtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlS,MAAK,SAAAmS,GACJA,EAAaC,gBAEd9N,OAAM,SAAAxG,GACLoE,QAAQpE,MAAMA,EAAMf,a,mB8BhJ5BsV,EAAOC,QAAU,CAAC,cAAgB,gC","file":"static/js/main.5f5f9b96.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport {Button, createStyles, Theme} from '@material-ui/core';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tbtn: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcolor: '#e4b61a',\r\n\t\t\tborderColor: '#e4b61a',\r\n\t\t\ttextDecoration:'none'\r\n\t\t},\r\n\t}),\r\n);\r\n\r\ntype PropsType = {\r\n\tlink: string,\r\n\tname: string\r\n}\r\n\r\nconst NavbarButton = ({link,name}:PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<NavLink to={link} style={{textDecoration: 'none'}}>\r\n\t\t\t<Button variant='outlined' className={classes.btn}\r\n\t\t\t        size={'small'}>{name}</Button>\r\n\t\t</NavLink>\r\n\t);\r\n};\r\n\r\nexport default NavbarButton;\r\n","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n\tAppBar,\r\n\tBox,\r\n\tcreateStyles,\r\n\tTheme,\r\n\tToolbar,\r\n\tTypography\r\n} from '@material-ui/core';\r\nimport NavbarButton from '../../common/NavbarButton';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tmarginAutoItem: {\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\tnavbar: {\r\n\t\t\tbackgroundColor: '#2c3258'\r\n\t\t},\r\n\t\tbtn: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcolor: '#e4b61a',\r\n\t\t\tborderColor: '#e4b61a',\r\n\t\t\ttextDecoration:'none'\r\n\t\t},\r\n\t}),\r\n);\r\n\r\nconst Navbar = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<AppBar position=\"static\" className={classes.navbar}>\r\n\t\t\t<Toolbar>\r\n\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\tCards\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box className={classes.marginAutoItem}>\r\n\t\t\t\t\t<NavbarButton link={'/profile'} name={'Profile'}/>\r\n\t\t\t\t\t<NavbarButton link={'/login'} name={'login'}/>\r\n\t\t\t\t\t<NavbarButton link={'/register'} name={'register'}/>\r\n\t\t\t\t\t<NavbarButton link={'/passwordRecovery'} name={'Recovery'}/>\r\n\t\t\t\t\t<NavbarButton link={'/set-new-password'} name={'New password'}/>\r\n\t\t\t\t\t<NavbarButton link={'/packs'} name={'Packs of cards'}/>\r\n\t\t\t\t\t<NavbarButton link={'/сards'} name={'Сards'}/>\r\n\t\t\t\t\t<NavbarButton link={'/learn'} name={'Learn'}/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\r\n\t);\r\n};\r\nexport default Navbar;\r\n\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://neko-back.herokuapp.com/2.0',\r\n});\r\n\r\nexport const mainContent = {\r\n\tgetPacksOfCards(page: number, count: number, min: number, max: number) {\r\n\t\treturn instance.get(`/cards/pack?page=${page}&pageCount=${count}&min=${min}&max=${max}`);\r\n\t},\r\n\tgetRangedCards(page: number, count: number, min: number, max: number) {\r\n\r\n\t\treturn instance.get(`/cards/pack?page=${page}&pageCount=${count}&min=${min}&max=${max}`);\r\n\t},\r\n\taddNewPack(name: string) {\r\n\t\treturn instance.post(`/cards/pack`, {\r\n\t\t\tcardsPack: {\r\n\t\t\t\tname: name\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tdeletePack(id: string) {\r\n\t\treturn instance.delete(`/cards/pack?id=${id}`);\r\n\t},\r\n\tupdatePack(id: string, name: string) {\r\n\t\treturn instance.put(\r\n\t\t\t`/cards/pack`,\r\n\t\t\t{\r\n\t\t\t\tcardsPack: {\r\n\t\t\t\t\t_id: id,\r\n\t\t\t\t\tname: name\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\tgetCards(id: string, page: number, row: number) {\r\n\t\treturn instance.get(`/cards/card?cardsPack_id=${id}&page=${page}&pageCount=${row}`);\r\n\t},\r\n\tsendCardGrade(cardId: string, grade: number) {\r\n\t\treturn instance.put(`/cards/grade`,{grade: grade, card_id: cardId});\r\n\t},\r\n\taddNewCard(id: string, question: string, answer: string) {\r\n\t\treturn instance.post(`/cards/card`, {\r\n\t\t\tcard: {\r\n\t\t\t\tcardsPack_id: id,\r\n\t\t\t\tquestion,\r\n\t\t\t\tanswer\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tdeleteCard(id: string) {\r\n\t\treturn instance.delete(`/cards/card?id=${id}`);\r\n\t},\r\n\tupdateCard(id: string, question: string, answer: string) {\r\n\t\treturn instance.put(\r\n\t\t\t`/cards/card`,\r\n\t\t\t{\r\n\t\t\t\tcard: {\r\n\t\t\t\t\t_id: id,\r\n\t\t\t\t\tquestion,\r\n\t\t\t\t\tanswer\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n};\r\n\r\nexport const passwordRecovery = {\r\n\tgetToken(email: string) {\r\n\t\tlet promise = instance.post(`/auth/forgot/`, {\r\n\t\t\temail,\r\n\t\t\tfrom: 'password-reset-server <noreply@noreply.it>',\r\n\t\t\tmessage: `\r\n\t\t\t\t\t<div style=\"background-color: lime; padding: 15px\">\r\n\t\t\t\t\tpassword recovery link: \r\n\t\t\t\t\t<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t`\r\n\t\t});\r\n\t\treturn promise;\r\n\t},\r\n\tnewPassword(password: string, resetPasswordToken: string) {\r\n\t\treturn instance.post(`/auth/set-new-password`, {password, resetPasswordToken});\r\n\t}\r\n};\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId: string) {\r\n\t\treturn instance.get(`profile/` + userId);\r\n\t},\r\n\tgetStatus(userId: string) {\r\n\t\treturn instance.get(`profile/status/` + userId);\r\n\t},\r\n\tupdateStatus(status: string) {\r\n\t\treturn instance.put(`profile/status`, {status: status});\r\n\t}\r\n};\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.post<UsersDataType>(`auth/me`).then((res) => {\r\n\t\t\treturn res.data;\r\n\t\t});\r\n\t},\r\n\tlogin(email: string, password: string, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe});\r\n\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/me`);\r\n\t},\r\n\tregister(data: RegisterDataType) {\r\n\r\n\t\treturn instance.post(`/auth/register`, {...data});\r\n\t}\r\n};\r\n\r\ntype RegisterDataType = {\r\n\temail: string,\r\n\tpassword: string\r\n}\r\nexport type UsersDataType = {\r\n\t_id: string;\r\n\temail: string | undefined;\r\n\tname: string;\r\n\tavatar?: string;\r\n\tpublicCardPacksCount: number; // количество колод\r\n\tcreated: any;\r\n\tupdated: any;\r\n\tisAdmin: boolean;\r\n\tverified: boolean; // подтвердил ли почту\r\n\trememberMe: boolean;\r\n\terror: string;\r\n}\r\n\r\nexport type CardDataType = {\r\n\tcards: Array<CardsType>,\r\n\tcardsTotalCount?: number,\r\n\tmaxGrade?: number,\r\n\tminGrade?: number,\r\n\tpage?: number,\r\n\tpageCount?: number\r\n}\r\nexport type CardsType = {\r\n\tanswer: string,\r\n\tquestion: string,\r\n\tcardsPack_id: string,\r\n\tgrade: number,\r\n\trating: number,\r\n\tshots: number,\r\n\ttype: string,\r\n\tcreated: string,\r\n\tupdated: string,\r\n\t__v: number,\r\n\t_id: string,\r\n}","import {Dispatch} from 'redux';\r\nimport {authAPI, UsersDataType} from '../api/api';\r\nimport {AppRootStateType} from './redux-store';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\n\r\nexport type LoginReducerType = {\r\n    isAuth?: boolean,\r\n    userProfile: UsersDataType\r\n};\r\n\r\nlet internalState: LoginReducerType = {\r\n    isAuth: false,\r\n    userProfile: {\r\n        _id: '',\r\n        email: '',\r\n        name: '',\r\n        avatar: '',\r\n        publicCardPacksCount: 0,\r\n        created: 'YYYY-MM-DD',\r\n        updated: 'YYYY-MM-DD',\r\n        isAdmin: false,\r\n        verified: false,\r\n        rememberMe: false,\r\n        error: '',\r\n    }\r\n};\r\n\r\nconst loginReducer = (state: LoginReducerType = internalState, action: ActionTypes): LoginReducerType => {\r\n\r\n    switch (action.type) {\r\n        case 'login/SET_USER_DATA':\r\n            return {\r\n                ...state,\r\n                userProfile: action.data,\r\n                isAuth: true\r\n            };\r\n        case 'login/LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuth: false\r\n            };\r\n        // Андрея - не трогать\r\n        case 'login/AUTH-ME':\r\n            return {...state, isAuth: action.isAuth, userProfile: action.userProfile};\r\n// Андрея - не трогать\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst loginAC = (data: UsersDataType) => ({\r\n    type: 'login/SET_USER_DATA',\r\n    data\r\n} as const);\r\n\r\nconst logoutAC = () => ({\r\n    type: 'login/LOGOUT',\r\n} as const);\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof loginAC>\r\n    | ReturnType<typeof logoutAC>\r\n    // Андрея - не трогать\r\n    | ReturnType<typeof authMeAC>\r\n// Андрея - не трогать\r\n\r\nexport const setLoginTC = (email: string, password: string, rememberMe: boolean = false) => (dispatch: Dispatch<ActionTypes>) => {\r\n    authAPI.login(email, password, rememberMe)\r\n        .then(res => {\r\n                dispatch(loginAC(res.data))\r\n            }\r\n        )\r\n};\r\n\r\nexport const logoutTC = () => (dispatch: Dispatch) => {\r\n    authAPI.logout()\r\n        .then(res => {\r\n            if (res.data.info === 'logOut success —ฅ/ᐠ.̫ .ᐟ\\\\ฅ—') {\r\n                dispatch(logoutAC())\r\n            }\r\n        })\r\n}\r\n\r\n// Андрея - не трогать\r\nexport const authMeAC = (isAuth: boolean, userProfile: UsersDataType) => ({\r\n    type: 'login/AUTH-ME',\r\n    isAuth,\r\n    userProfile\r\n} as const);\r\n\r\nexport const authMeTC = () => async (dispatch: ThunkDispatch<AppRootStateType, {}, ActionTypes>) => {\r\n    try {\r\n        const res = await authAPI.me();\r\n        dispatch(authMeAC(true, res));\r\n    } catch (e) {\r\n        console.log(e.response.data.error)\r\n    }\r\n}\r\n// Андрея - не трогать\r\n\r\n\r\nexport default loginReducer\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t\tbackgroundColor: '#e4b61a',\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: '#2c3258'\r\n\t\t}\r\n\t},\r\n}));\r\n\r\n\r\ntype PropsType = {\r\n\tdisable?: boolean\r\n\tname: string\r\n}\r\n\r\nconst FormButton = ({disable,name}:PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\ttype=\"submit\"\r\n\t\t\tfullWidth\r\n\t\t\tvariant=\"contained\"\r\n\t\t\tcolor=\"primary\"\r\n\t\t\tclassName={classes.submit}\r\n\t\t\tdisabled={disable}\r\n\t\t>\r\n\t\t\t{name}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default FormButton;\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {useFormik} from 'formik';\r\nimport {setLoginTC} from '../../../redux/login-reducer';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport FormButton from '../../../common/FormBtn';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n\r\n  },\r\n  centr: {\r\n    margin: '0 auto'\r\n  },\r\n\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport function LoginPage() {\r\n\r\n  const isAuth = useSelector<AppRootStateType, boolean | undefined>(state => state.login.isAuth)\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch()\r\n\r\n  const formik: any = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      rememberMe: false\r\n    },\r\n    onSubmit: values => {\r\n      const {email, password, rememberMe} = values\r\n      dispatch(setLoginTC(email, password, rememberMe))\r\n      // console.log(JSON.stringify(values, null, 2));\r\n    },\r\n  });\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline/>\r\n      {/*<Grid item xs={false} sm={4} md={7} className={classes.image} />*/}\r\n      <Grid item xs={12} sm={8} md={5} className={classes.centr} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon/>\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          <form onSubmit={formik.handleSubmit}\r\n                className={classes.form} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={formik.handleChange}\r\n              value={formik.values.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              // autoComplete=\"current-password\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.password}\r\n            />\r\n            <FormControlLabel\r\n              control={<Checkbox id=\"rememberMe\"\r\n                                 name=\"rememberMe\"\r\n                                 onChange={formik.handleChange}\r\n                                 value={formik.values.rememberMe} color=\"primary\"/>}\r\n              label=\"Remember me\"\r\n            />\r\n            <FormButton name={'Log in'}/>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <NavLink to='/passwordRecovery'>\r\n                  <Link\r\n\r\n                    variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </NavLink>\r\n\r\n              </Grid>\r\n              <Grid item>\r\n                <NavLink to='/register'>\r\n                  <Link\r\n                    variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </NavLink>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\n\r\n\r\nlet internalState: RegisterReducerType = {\r\n    isRegistered: false\r\n};\r\n\r\nexport const registerReducer = (state: RegisterReducerType = internalState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case \"register/SET-IS-REGISTERED\":\r\n            return {...state, isRegistered: action.value}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setRegisterAC = (value: boolean) => ({\r\n    type: 'register/SET-IS-REGISTERED', value\r\n})\r\n\r\nexport const RegisterTC = (data: RegisterParamsType) => async (dispatch: Dispatch<ActionsType>) => {\r\n    try {\r\n        let response = await authAPI.register(data)\r\n            dispatch(setRegisterAC(true))\r\n    } catch (e) {\r\n        console.log(e)\r\n    }\r\n\r\n}\r\n\r\n//types\r\ntype RegisterReducerType = {\r\n    isRegistered: boolean\r\n};\r\ntype ActionsType = ReturnType<typeof setRegisterAC>\r\ntype ThunkDispatch = Dispatch<ActionsType>\r\n\r\ntype RegisterParamsType = {\r\n    email: string\r\n    password: string\r\n}","import React from 'react';\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Button, FormControl, FormGroup, FormLabel, Grid, TextField} from \"@material-ui/core\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {RegisterTC} from \"../../../redux/register-reducer\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\n\r\nexport const RegisterContainer = () => {\r\n    const dispatch = useDispatch()\r\n    const isRegistered = useSelector<AppRootStateType, boolean>(state => state.register.isRegistered)\r\n    const formik = useFormik({\r\n        validate: (values: any) => {\r\n            if (!values.email) {\r\n                return {\r\n                    email: 'Email is required'\r\n                }\r\n            }\r\n            if (!values.password) {\r\n                return {\r\n                    password: 'Password is required'\r\n                }\r\n            }\r\n        },\r\n        initialValues: {\r\n            email: '',\r\n            password: ''\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(RegisterTC(values))\r\n        }\r\n    })\r\n\r\n    if (isRegistered) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <Grid container justify=\"center\">\r\n            <Grid item xs={4}>\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <FormControl>\r\n                        <FormLabel>\r\n                            <p>\r\n                                Registration\r\n                            </p>\r\n                        </FormLabel>\r\n                        <FormGroup>\r\n                            <TextField\r\n                                label=\"Email\"\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('email')}\r\n                            />\r\n                            {formik.errors.email ? <div>{formik.errors.email}</div> : null}\r\n                            <TextField\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('password')}\r\n                            />\r\n                            {formik.errors.password ? <div>{formik.errors.email}</div> : null}\r\n                            <Button type={'submit'} variant={'contained'} color={'primary'}>Register</Button>\r\n                        </FormGroup>\r\n                    </FormControl>\r\n                </form>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\n","import {passwordRecovery} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\n\r\nexport type PasswordRecoveryReducerType = {\r\n\terror: string\r\n\tsuccess: boolean\r\n\tloading: boolean\r\n};\r\n\r\nlet initialState: PasswordRecoveryReducerType = {\r\n\terror: '',\r\n\tsuccess: false,\r\n\tloading: false\r\n};\r\n\r\nconst passwordRecoveryReducer = (state: PasswordRecoveryReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'pwRecovery/SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state, error: action.error\r\n\t\t\t};\r\n\t\tcase 'pwRecovery/SET_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, success: action.success\r\n\t\t\t};\r\n\t\tcase 'pwRecovery/SET_LOADING':\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: action.loading\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setErrorAC = (error: string) => ({\r\n\ttype: 'pwRecovery/SET_ERROR',\r\n\terror\r\n} as const);\r\n\r\nexport const setSuccessAC = (success: boolean) => ({\r\n\ttype: 'pwRecovery/SET_SUCCESS',\r\n\tsuccess\r\n} as const);\r\nexport const setLoadingAC = (loading: boolean) => ({\r\n\ttype: 'pwRecovery/SET_LOADING',\r\n\tloading\r\n} as const);\r\n\r\ntype ActionTypes = ReturnType<typeof setErrorAC> | ReturnType<typeof setSuccessAC> | ReturnType<typeof setLoadingAC>\r\n\r\nexport const recoverPasswordTC = (email: string) => (dispatch: Dispatch<ActionTypes>) => {\r\n\tdispatch(setLoadingAC(true))\r\n\tpasswordRecovery.getToken(email).then(\r\n\t\tres => {\r\n\t\t\tdispatch(setSuccessAC(res.data.success));\r\n\t\t\tdispatch(setErrorAC(''));\r\n\t\t\tdispatch(setLoadingAC(false))\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconst {response} = error;\r\n\t\tconst {request, ...errorObject} = response;\r\n\t\tdispatch(setSuccessAC(false));\r\n\t\tdispatch(setLoadingAC(false))\r\n\t\treturn dispatch(setErrorAC(errorObject.data.error));\r\n\t});\r\n};\r\n\r\nexport default passwordRecoveryReducer;","import React from 'react';\r\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst ValidationTextField = withStyles({\r\n\troot: {\r\n\t\t'& input:valid + fieldset': {\r\n\t\t\tborderColor: 'green',\r\n\t\t\tborderWidth: 2,\r\n\t\t},\r\n\t\t'& input:valid:focus + fieldset': {\r\n\t\t\tborderLeftWidth: 6,\r\n\t\t\tpadding: '4px !important',\r\n\t\t},\r\n\t},\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tinput: {\r\n\t\tmarginBottom: '10px'\r\n\t}\r\n}));\r\n\r\ntype PropsType = {\r\n\terror?: boolean | string\r\n\tformik?: any\r\n\ttype?: string\r\n\tlabel?: string\r\n\tvalue?: string\r\n\tonChange?: any\r\n}\r\n\r\nconst InputField = ({error = false, formik, type, label, value, onChange}: PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<ValidationTextField className={classes.input}\r\n\t\t                     error={error}\r\n\t\t                     helperText={error}\r\n\t\t                     label={label}\r\n\t\t                     fullWidth\r\n\t\t                     required\r\n\t\t                     variant=\"outlined\"\r\n\t\t                     type={type}\r\n\t\t                     {...formik}\r\n\t\t                     onChange={(event) => {\r\n\t\t\t                     onChange( event.currentTarget.value)\r\n\t\t                     }}\r\n\t\t                     value={value}\r\n\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default InputField;\r\n","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: '#2c3258',\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%',\r\n\t\tmarginTop: theme.spacing(3),\r\n\t},\r\n}));\r\n\r\ntype PropsType = {\r\n\tonsubmit: any\r\n\ttitle: string\r\n\tchildren: any\r\n}\r\n\r\nconst FormWrapper = ({onsubmit, children, title}:PropsType) => {\r\n\r\n\tfunction onSubmit() {\r\n\t\tonsubmit()\r\n\t}\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline/>\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOpenIcon/>\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<form className={classes.form} onSubmit={onSubmit}>\r\n\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t{children}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormWrapper;\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {recoverPasswordTC} from '../../../redux/passwordRecovery-reducer';\r\nimport {useFormik} from 'formik';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport FormWrapper from '../../../common/FormWrapper';\r\n\r\nexport const PasswordRecovery = () => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formik = useFormik({\r\n\t\tvalidateOnBlur: true,\r\n\t\tvalidateOnChange: false,\r\n\t\tvalidate: (values) => {\r\n\t\t\tif (!values.email) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\temail: 'Email is required'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\temail: 'Invalid email address'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitialValues: {\r\n\t\t\temail: ''\r\n\t\t},\r\n\t\tonSubmit: values => {\r\n\t\t\tconst {email} = values;\r\n\t\t\tdispatch(recoverPasswordTC(email.trim()));\r\n\t\t},\r\n\t});\r\n\r\n\tconst error = useSelector<AppRootStateType, string>(state => state.pwRecoveryRequest.error);\r\n\tconst success = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.success);\r\n\tconst loading = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.loading);\r\n\r\n\treturn (\r\n\t\t<FormWrapper onsubmit={formik.handleSubmit} title={'Reset password'}>\r\n\t\t\t{formik.errors.email ? <div>{formik.errors.email}</div> : null}\r\n\t\t\t{error ? <div>{error}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.email} formik={{...formik.getFieldProps('email')}}\r\n\t\t\t            type={'email'} label={'Enter your email'}/>\r\n\t\t\t<FormButton name={'Send'} disable={loading}/>\r\n\t\t</FormWrapper>\r\n\t);\r\n};\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {passwordRecovery} from '../api/api';\r\n\r\nexport type PssawordCreationReducerType = {\r\n\terror: string\r\n\tsuccess: boolean\r\n\tloading: boolean\r\n};\r\n\r\nlet initialState: PssawordCreationReducerType = {\r\n\terror: '',\r\n\tsuccess: false,\r\n\tloading: false,\r\n};\r\n\r\nconst pssawordCreationReducer = (state: PssawordCreationReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'pwCreation/SET_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, success: action.success\r\n\t\t\t};\r\n\t\tcase 'pwCreation/SET_LOADING':\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: action.loading\r\n\t\t\t};\r\n\t\tcase 'pwCreation/SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state, error: action.error\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nconst setSuccessAC = (success: boolean) => ({\r\n\ttype: 'pwCreation/SET_SUCCESS',\r\n\tsuccess\r\n} as const);\r\nconst setLoadingAC = (loading: boolean) => ({\r\n\ttype: 'pwCreation/SET_LOADING',\r\n\tloading\r\n} as const);\r\nexport const setErrorAC = (error: string) => ({\r\n\ttype: 'pwCreation/SET_ERROR',\r\n\terror\r\n} as const);\r\n\r\ntype ActionTypes =\r\n\tReturnType<typeof setErrorAC>\r\n\t| ReturnType<typeof setSuccessAC>\r\n\t| ReturnType<typeof setLoadingAC>\r\n\r\nexport const setNewPasswordTC = (password: string,\r\n\ttoken: string) => (dispatch: Dispatch<ActionTypes>) => {\r\n\tdispatch(setLoadingAC(true));\r\n\tpasswordRecovery.newPassword(password, token).then(\r\n\t\tres => {\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tdispatch(setSuccessAC(true));\r\n\t\t\t\tdispatch(setErrorAC(''));\r\n\t\t\t\tdispatch(setLoadingAC(false));\r\n\t\t\t}\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconst {response} = error;\r\n\t\tconst {request, ...errorObject} = response;\r\n\t\tdispatch(setSuccessAC(false));\r\n\t\tdispatch(setLoadingAC(false));\r\n\t\treturn dispatch(setErrorAC(errorObject.data.error));\r\n\t});\r\n};\r\n\r\nexport default pssawordCreationReducer;","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport * as Yup from 'yup';\r\nimport {useFormik} from 'formik';\r\nimport {setNewPasswordTC} from '../../../redux/pssawordCreation-reducer';\r\nimport {useParams, Redirect} from 'react-router-dom';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport FormWrapper from '../../../common/FormWrapper';\r\n\r\nexport const PasswordCreation = () => {\r\n\r\n\tconst validationSchema = Yup.object().shape({\r\n\t\tpassword: Yup.string().required('This field is required'),\r\n\t\tchangepassword: Yup.string().when('password', {\r\n\t\t\tis: val => (val && val.length > 0 ? true : false),\r\n\t\t\tthen: Yup.string().oneOf(\r\n\t\t\t\t[Yup.ref('password')],\r\n\t\t\t\t'Both password need to be the same'\r\n\t\t\t)\r\n\t\t})\r\n\t});\r\n\r\n\tconst {token} = useParams();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formik = useFormik({\r\n\t\tvalidateOnBlur: true,\r\n\t\tvalidateOnChange: false,\r\n\t\tinitialValues: {\r\n\t\t\tpassword: '',\r\n\t\t\tchangepassword: ''\r\n\t\t},\r\n\t\tvalidationSchema,\r\n\t\tonSubmit: values => {\r\n\t\t\tconst {password} = values;\r\n\t\t\tdispatch(setNewPasswordTC(password, token));\r\n\t\t}\r\n\t});\r\n\r\n\tconst error = useSelector<AppRootStateType, string>(state => state.passwordUpdate.error);\r\n\tconst success = useSelector<AppRootStateType, boolean>(state => state.passwordUpdate.success);\r\n\tconst loading = useSelector<AppRootStateType, boolean>(state => state.passwordUpdate.loading);\r\n\r\n\tif (success) {\r\n\t\twindow.confirm('Your password has been changed!');\r\n\t\treturn <Redirect to={'/login'}/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormWrapper onsubmit={formik.handleSubmit} title={'Set new password'}>\r\n\t\t\t{formik.errors.password ? <div>{formik.errors.password}</div> : null}\r\n\t\t\t{error ? <div>{error}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.password}\r\n\t\t\t            formik={{...formik.getFieldProps('password')}}\r\n\t\t\t            type={'password'} label={'Enter new password'}/>\r\n\t\t\t{formik.errors.changepassword ? <div>{formik.errors.changepassword}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.changepassword}\r\n\t\t\t            formik={{...formik.getFieldProps('changepassword')}}\r\n\t\t\t            type={'password'} label={'Confirm new password'}/>\r\n\t\t\t<FormButton name={'Send'} disable={loading}/>\r\n\t\t</FormWrapper>\r\n\r\n\t);\r\n};\r\n\r\n","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {logoutTC} from \"../../redux/login-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"./Profile.module.css\";\r\nimport {UsersDataType} from '../../api/api';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: '#e4b61a',\r\n    '&:hover': {\r\n      backgroundColor: '#2c3258'\r\n    }\r\n  },\r\n}));\r\n\r\nexport const Profile = () => {\r\n\r\n  const isAuth = useSelector<AppRootStateType, boolean | undefined>(state => state.login.isAuth);\r\n  const userProfile = useSelector<AppRootStateType, UsersDataType>(state => state.login.userProfile);\r\n\r\n  const {email, name, avatar, publicCardPacksCount, created} = userProfile;\r\n\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles();\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to={'/login'}/>\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logoutTC())\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={s.profileBlock}>\r\n      <div className={s.profileHeader}>\r\n        <div className={'container'}>\r\n          <div>Profile {name}</div>\r\n          <div>Profile email {email}</div>\r\n          <div>Profile avatar {avatar}</div>\r\n          <div>Profile publicCardPacksCount {publicCardPacksCount}</div>\r\n          <div>Profile created {created}</div>\r\n\r\n          <button type=\"submit\" onClick={logoutHandler} className={classes.submit}>Log out</button>\r\n        </div>\r\n        )\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {Dispatch} from 'redux';\r\nimport {mainContent} from '../api/api';\r\nimport {AppRootStateType} from './redux-store';\r\n\r\nexport type PacksReducerType = {\r\n\tcardPacks: PackType[] | [],\r\n\tpage: number,\r\n\tpageCount: number\r\n\tcardPacksTotalCount: number\r\n\tminCardsCount: number\r\n\tmaxCardsCount: number\r\n};\r\n\r\nexport type PackType = {\r\n\tcardsCount: number\r\n\tcreated: string\r\n\tgrade: number\r\n\tmore_id: string\r\n\tname: string\r\n\tpath: string\r\n\tprivate: boolean\r\n\trating: number\r\n\tshots: number\r\n\ttype: string\r\n\tupdated: string\r\n\tuser_id: string\r\n\tuser_name: string\r\n\t__v: number\r\n\t_id: string\r\n}\r\n\r\nlet initialState: PacksReducerType = {\r\n\tcardPacks: [],\r\n\tpage: 0,\r\n\tpageCount: 10,\r\n\tminCardsCount: 0,\r\n\tmaxCardsCount: 20,\r\n\tcardPacksTotalCount: 1\r\n\r\n};\r\n\r\nexport const packsReducer = (state: PacksReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'packs/SET_PACKS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, cardPacks: action.cardsPacks,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount,\r\n\t\t\t\tcardPacksTotalCount: action.cardPacksTotalCount,\r\n\t\t\t\tminCardsCount: action.minCardsCount,\r\n\t\t\t\tmaxCardsCount: action.maxCardsCount\r\n\t\t\t};\r\n\t\tcase 'packs/SET_PAGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount\r\n\r\n\t\t\t};\r\n\t\tcase 'packs/SET_RANGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state, cardPacks: action.cardPacks,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount,\r\n\t\t\t\tcardPacksTotalCount: action.cardPacksTotalCount,\r\n\t\t\t\tminCardsCount: action.minCardsCount,\r\n\t\t\t\tmaxCardsCount: action.maxCardsCount,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setPackOfCards = (cardsPacks: PackType[], page:number,\r\n\tpageCount:number, cardPacksTotalCount: number, minCardsCount: number,\r\n\tmaxCardsCount:number ) => ({\r\n\ttype: 'packs/SET_PACKS',\r\n\tcardsPacks,\r\n\tpage,\r\n\tpageCount,\r\n\tcardPacksTotalCount,\r\n\tminCardsCount,\r\n\tmaxCardsCount\r\n} as const);\r\n\r\nexport const setPage = (page: number, pageCount: number) => ({\r\n\ttype: 'packs/SET_PAGE',\r\n\tpage,\r\n\tpageCount\r\n} as const);\r\n\r\nexport const setRange = (data: any,min:number,max:number) => ({\r\n\ttype: 'packs/SET_RANGE',\r\n\tcardPacks: data.cardPacks,\r\n\tpage: data.page,\r\n\tpageCount: data.pageCount,\r\n\tcardPacksTotalCount: data.cardPacksTotalCount,\r\n\tminCardsCount: min,\r\n\tmaxCardsCount: max,\r\n} as const);\r\n\r\ntype ActionTypes =\r\n\tReturnType<typeof setPackOfCards>\r\n\t| ReturnType<typeof setPage>\r\n\t| ReturnType<typeof setRange>\r\n\r\nexport const getPackOfCardsTC = (page: number, row: number) => (dispatch: Dispatch<ActionTypes>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {minCardsCount, maxCardsCount} = getState().packsReducer\r\n\tmainContent.getPacksOfCards(page, row, minCardsCount, maxCardsCount).then(\r\n\t\tres => {\r\n\t\t\tdispatch(setRange(res.data, minCardsCount, maxCardsCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const changeRange = (min: number, max: number) => (dispatch: Dispatch<ActionTypes>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.getRangedCards(page, pageCount, min, max).then(\r\n\tres => {\r\n\t\tdispatch(setRange(res.data,min,max));\r\n\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\r\n\t});\r\n};\r\n\r\nexport const addNewPackTC = (name: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.addNewPack(name).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\nexport const deletePackTC = (id: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.deletePack(id).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const updatePackTC = (id: string, name: string) => (dispatch: Dispatch<any>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.updatePack(id, name).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n","import React from 'react';\r\nimport {makeStyles, Theme, createStyles, createMuiTheme} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport {Button, DialogActions, Typography} from '@material-ui/core';\r\n\r\nconst theme = createMuiTheme();\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tmodal: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t\tborder: '2px solid #000',\r\n\t\t\tboxShadow: theme.shadows[5],\r\n\t\t\tpadding: theme.spacing(2, 4, 3),\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\twidth: '250px',\r\n\t\t\talignContent: 'center',\r\n\r\n\t\t},\r\n\t}),\r\n);\r\n\r\ntype PropsType = {\r\n\tisOpen: boolean\r\n\thandleClose: () => void\r\n\ttitle?: string\r\n\tchildren?: any\r\n}\r\n\r\nexport default function ModalWindow({isOpen,handleClose,title,children}:PropsType) {\r\n\tconst classes = useStyles();\r\n\r\n\tfunction onClose() {\r\n\t\thandleClose()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Modal\r\n\t\t\t\taria-labelledby=\"transition-modal-title\"\r\n\t\t\t\taria-describedby=\"transition-modal-description\"\r\n\t\t\t\tclassName={classes.modal}\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tcloseAfterTransition\r\n\t\t\t\tBackdropComponent={Backdrop}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\ttimeout: 500,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Fade in={isOpen}>\r\n\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t<Button onClick={() => onClose()} color='primary'>Close</Button>\r\n\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t<Typography style={{padding: theme.spacing(2)}} component=\"h3\"\r\n\t\t\t\t\t\t            variant=\"h3\">\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fade>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { changeRange } from '../redux/packs-reducer';\r\nimport {useDispatch} from 'react-redux';\r\nimport FormButton from './FormBtn';\r\nimport {Button} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\n\r\nconst useStyles = makeStyles({\r\n\troot: {\r\n\t\twidth: '80%',\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'space-between',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tbutton: {\r\n\t\twidth: '100px',\r\n\t\talignContent: 'center',\r\n\t},\r\n\tslider: {\r\n\t\tmarginRight: '30px'\r\n\t}\r\n});\r\n\r\ntype PropsType = {\r\n\tminRange: number\r\n\tmaxRange: number\r\n}\r\n\r\nexport default function RangeSlider({minRange,maxRange}:PropsType) {\r\n\tconst classes = useStyles();\r\n\tconst [value, setValue] = React.useState<number[]>([minRange, maxRange]);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleChange = (event: any, newValue: number | number[] | any) => {\r\n\t\tif (newValue) {\r\n\t\t\tsetValue(newValue as number[]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onApplyChangeHandler = () => {\r\n\t\tdispatch(changeRange(value[0],value[1]))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Slider className={classes.slider}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tmin={minRange}\r\n\t\t\t\tstep={5}\r\n\t\t\t\tmax={maxRange}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\taria-labelledby=\"range-slider\"\r\n\t\t\t\tvalueLabelDisplay=\"on\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={onApplyChangeHandler}\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t>\r\n\t\t\t\tAPPLY\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\nconst useStyles = makeStyles({\r\n\tpagination: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tmarginTop: '20px'\r\n\t}\r\n});\r\n\r\ntype PropsType = {\r\n\tcount: number\r\n\tpage: number\r\n\trowsPerPageOptions: Array<number>\r\n\tonChangePage: (value: number) => void\r\n\tonChangeRowsPerPage: (value:number) => void\r\n\trowsPerPage: number\r\n}\r\n\r\nconst Pagination = ({\r\n\tcount,\r\n\tpage,\r\n\trowsPerPageOptions,\r\n\tonChangePage,\r\n\trowsPerPage,\r\n\tonChangeRowsPerPage\r\n}: PropsType) => {\r\n\r\n\tconst handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null,\r\n\t\tnewPage: number) => {\r\n\t\tonChangePage(newPage)\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (\r\n\t\tevent: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n\t) => {\r\n\t\tonChangeRowsPerPage(+event.target.value);\r\n\t};\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<TablePagination\r\n\t\t\t\tclassName={classes.pagination}\r\n\t\t\t\tcomponent=\"div\"\r\n\t\t\t\tcount={count}\r\n\t\t\t\tpage={page}\r\n\t\t\t\trowsPerPageOptions={rowsPerPageOptions}\r\n\t\t\t\tonChangePage={handleChangePage}\r\n\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n","import React  from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tminWidth: 650,\r\n\t},\r\n\theading: {\r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\r\n});\r\n\r\ntype DataType = {\r\n\tname: string\r\n\talign: any\r\n}\r\n\r\ntype PropsType = {\r\n\theading: Array<DataType>\r\n\tchildren?: any\r\n}\r\n\r\nconst TableData = ({heading,children}: PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{heading.map(elem => <TableCell className={classes.heading}\r\n\t\t\t\t\t                                align={elem.align}>{elem.name}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody>\r\n\t\t\t\t{children}\r\n\t\t\t</TableBody>\r\n\t\t</Table>\r\n\t);\r\n};\r\n\r\nexport default TableData;\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {mainContent} from '../api/api';\r\nimport {AppRootStateType} from './redux-store';\r\n\r\nexport type StateType = {\r\n  cards: CardType[],\r\n  cardsTotalCount: number\r\n  maxGrade: number\r\n  minGrade: number\r\n  page: number\r\n  pageCount: number\r\n  id: string\r\n};\r\n\r\nexport type CardType = {\r\n  answer: string\r\n  question: string\r\n  cardsPack_id: string\r\n  grade: number\r\n  rating: number\r\n  shots: number\r\n  type: string\r\n  created: string\r\n  updated: string\r\n  __v?: number\r\n  _id: string,\r\n  more_id?: string\r\n}\r\n\r\nlet initialState: StateType = {\r\n  cards: [],\r\n  cardsTotalCount: 0,\r\n  maxGrade: 0,\r\n  minGrade: 0,\r\n  page: 1,\r\n  pageCount: 4,\r\n  id: ''\r\n};\r\n\r\nexport const cardsReducer = (state: StateType = initialState,\r\n                             action: ActionTypes) => {\r\n  switch (action.type) {\r\n    case 'cards/SET_CARDS':\r\n      return {\r\n        ...state, ...action.data, id: action.id\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setCards = (data: StateType, id: string) => ({\r\n  type: 'cards/SET_CARDS',\r\n  data,\r\n  id\r\n})\r\n\r\ntype ActionTypes =\r\n  ReturnType<typeof setCards>\r\n\r\nexport const getCardsTC = (id: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {page, pageCount} = getState().cardsReducer;\r\n  mainContent.getCards(id, page, pageCount).then(\r\n    res => {\r\n      dispatch(setCards(res.data, id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const getNewPageTC = (page: number, row: number) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.getCards(id, page, row).then(\r\n    res => {\r\n      dispatch(setCards(res.data, id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const addNewCardTC = (question:string,answer:string) => (dispatch: Dispatch<any>,getState: () => AppRootStateType) => {\r\n\tconst {id} = getState().cardsReducer;\r\n\tmainContent.addNewCard(id, question, answer).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const sendGradeTC = (cardId:string,grade:number) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {id} = getState().cardsReducer;\r\n\tmainContent.sendCardGrade(cardId, grade).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const deleteCardTC = (cardId: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.deleteCard(cardId).then(\r\n    res => {\r\n      dispatch(getCardsTC(id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const updateCardTC = (cardId: string, currentQuestion: string, currentAnswer: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.updateCard(cardId, currentQuestion, currentAnswer).then(\r\n    res => {\r\n      dispatch(getCardsTC(id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};","import React, {useCallback, useEffect, useState} from 'react';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {\r\n\taddNewPackTC, deletePackTC, getPackOfCardsTC, PackType, updatePackTC\r\n} from '../../../redux/packs-reducer';\r\nimport {Typography, Grid, Button, IconButton} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport ModalWindow from '../../../common/Modal';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport RangeSlider from '../../../common/RangeSlider';\r\nimport Pagination from '../../../common/Pagination';\r\nimport TableData from '../../../common/Table';\r\nimport {Redirect} from 'react-router';\r\nimport {getCardsTC} from '../../../redux/cards-reducer';\r\nimport {useHistory} from 'react-router-dom';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst theme = createMuiTheme();\r\nconst useStyles = makeStyles({\r\n\tpadding: {\r\n\t\tpadding: 0\r\n\t}, button: {\r\n\t\twidth: '250px', alignContent: 'center',\r\n\t}, margin: {\r\n\t\tmarginLeft: theme.spacing(5),\r\n\t}, distance: {\r\n\t\twidth: '150px'\r\n\t},\r\n});\r\n\r\nconst Packs = React.memo(function () {\r\n\r\n\tlet history = useHistory();\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst [localPage, setlocalPage] = useState(1);\r\n\tconst [localRow, setlocalRow] = useState(4);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [currentPackName, setCurrentPackName] = useState('');\r\n\tconst [updatePackId, setUpdatePackId] = useState('');\r\n\r\n\tconst [isOpenAddPackModalPopup, setIsOpenAddPackModalPopup] = useState(false);\r\n\tconst [isOpenModifyPackModalPopup, setIsOpenModifyPackModalPopup] = useState(false);\r\n\r\n\r\n\tconst onChangePage = (newPage: number) => {\r\n\t\tsetlocalPage(newPage + 1);\r\n\t\tdispatch(getPackOfCardsTC(newPage + 1, localRow));\r\n\t};\r\n\tconst onChangeRowLength = (row: number) => {\r\n\t\tsetlocalRow(row);\r\n\t\tdispatch(getPackOfCardsTC(localPage, row));\r\n\t};\r\n\r\n\tconst state = useSelector<AppRootStateType, any>(state => state.packsReducer);\r\n\tconst {cardPacks, page, pageCount, cardPacksTotalCount} = state;\r\n\tconst {isAuth, userProfile} = useSelector<AppRootStateType, any>(state => state.login);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userEmail = userProfile.email;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(getPackOfCardsTC(localPage, localRow));\r\n\t}, [pageCount, page]);\r\n\r\n\tconst onAddNewPackHandler = () => {\r\n\t\tdispatch(addNewPackTC(newName));\r\n\t\tsetIsOpenAddPackModalPopup(false);\r\n\t};\r\n\r\n\tconst onModifyPackHandler = () => {\r\n\t\tdispatch(updatePackTC(updatePackId, currentPackName));\r\n\t\tsetIsOpenModifyPackModalPopup(false);\r\n\t};\r\n\r\n\tconst onDeleteHandler = (id: string) => {\r\n\t\tdispatch(deletePackTC(id));\r\n\t};\r\n\r\n\tconst onLearningHandler = (id: string) => {\r\n\t\thistory.push('/learn');\r\n\t\tdispatch(getCardsTC(id));\r\n\t};\r\n\r\n\tconst onOpenHandler = (id: string) => {\r\n\t\thistory.push('/сards');\r\n\t\tdispatch(getCardsTC(id));\r\n\t};\r\n\r\n\tconst onUpdateHandler = (id: string) => {\r\n\t\tlet cardPack: PackType = cardPacks.find((el: PackType) => el._id === id);\r\n\t\tsetCurrentPackName(cardPack.name);\r\n\t};\r\n\r\n\tconst handleModifyPackModalPopupOpen = (id: string) => {\r\n\t\tsetUpdatePackId(id);\r\n\t\tsetIsOpenModifyPackModalPopup(true);\r\n\t\tonUpdateHandler(id);\r\n\t};\r\n\r\n\tconst handleModifyPackModalPopupClose = () => {\r\n\t\tsetIsOpenModifyPackModalPopup(false);\r\n\t};\r\n\r\n\tconst handleModifyPopupOpen = () => {\r\n\t\tsetIsOpenAddPackModalPopup(true);\r\n\t};\r\n\r\n\tconst handleModifyPopupClose = () => {\r\n\t\tsetIsOpenAddPackModalPopup(false);\r\n\t};\r\n\r\n\tconst tableCell = [{name: 'Name', align: 'inherit'}, {name: 'Card Count', align: 'center'}, {\r\n\t\tname: 'To learn',\r\n\t\talign: 'center'\r\n\t}, {name: 'Open', align: 'right'}, {name: 'Delete', align: 'center'}, {\r\n\t\tname: 'Modify',\r\n\t\talign: 'left'\r\n\t}, {name: 'Updated', align: 'right'},];\r\n\r\n\tconst randomColor = useCallback(() => {\r\n\t\tlet color = 'rgb(' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ')';\r\n\t\treturn color;\r\n\t}, []);\r\n\r\n\tif (isAuth) {\r\n\t\treturn (<div>\r\n\t\t\t\t<TableContainer component={Paper}>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tstyle={{marginTop: theme.spacing(2)}}\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\tjustify=\"space-between\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t<Typography className={classes.margin} variant=\"h3\">Packs</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t<RangeSlider maxRange={20} minRange={0}/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => handleModifyPopupOpen()}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\tstartIcon={<AddBoxIcon/>}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tADD PACK\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<TableData heading={tableCell}>\r\n\t\t\t\t\t\t{cardPacks.map((row: PackType) => (<TableRow key={row._id}>\r\n\t\t\t\t\t\t\t\t<TableCell className={classes.distance} component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t{row.name}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">{row.cardsCount}</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t<IconButton style={{color: randomColor()}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onLearningHandler(row._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.padding} aria-label=\"learn\">\r\n\t\t\t\t\t\t\t\t\t\t<SchoolIcon fontSize=\"small\"/>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t<IconButton style={{color: randomColor()}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onOpenHandler(row._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.padding} aria-label=\"add\">\r\n\t\t\t\t\t\t\t\t\t\t<AddBoxIcon fontSize=\"small\"/>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t<IconButton style={{color: userEmail !== row.user_name ? '#303030' : randomColor()}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={userEmail !== row.user_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.padding} aria-label=\"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDeleteHandler(row._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize=\"small\"/>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t{/*Modify Button*/}\r\n\t\t\t\t\t\t\t\t\t<IconButton style={{color: userEmail !== row.user_name ? '#303030' : randomColor()}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={userEmail !== row.user_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleModifyPackModalPopupOpen(row._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.padding} aria-label=\"modify\">\r\n\t\t\t\t\t\t\t\t\t\t<AutorenewIcon fontSize=\"small\"/>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.updated.slice(0, -14)}</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>))}\r\n\t\t\t\t\t</TableData>\r\n\t\t\t\t</TableContainer>\r\n\t\t\t\t<Pagination count={cardPacksTotalCount} page={page - 1}\r\n\t\t\t\t\t\t\trowsPerPageOptions={[4, 10, 20]} onChangePage={onChangePage}\r\n\t\t\t\t\t\t\trowsPerPage={pageCount} onChangeRowsPerPage={onChangeRowLength}/>\r\n\t\t\t\t<ModalWindow handleClose={handleModifyPopupClose} isOpen={isOpenAddPackModalPopup}\r\n\t\t\t\t\t\t\t title={'Add' + ' new pack'}>\r\n\r\n\t\t\t\t\t<form onSubmit={onAddNewPackHandler}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<InputField value={newName}\r\n\t\t\t\t\t\t\t\t\t\ttype={'text'} label={'Set new name'}\r\n\t\t\t\t\t\t\t\t\t\tonChange={setNewName}/>\r\n\t\t\t\t\t\t\t<FormButton name={'Send'}/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ModalWindow>\r\n\t\t\t\t<ModalWindow handleClose={handleModifyPackModalPopupClose} isOpen={isOpenModifyPackModalPopup}\r\n\t\t\t\t\t\t\t title={'Modify' + ' pack name'}>\r\n\t\t\t\t\t<form onSubmit={onModifyPackHandler}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<InputField\r\n\t\t\t\t\t\t\t\tvalue={currentPackName}\r\n\t\t\t\t\t\t\t\ttype={'text'} label={'Set new pack name'}\r\n\t\t\t\t\t\t\t\tonChange={setCurrentPackName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<FormButton name={'Send updated pack name'}/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ModalWindow>\r\n\t\t\t</div>);\r\n\t}\r\n\treturn <Redirect to={'/login'}/>;\r\n});\r\nexport default Packs;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%', // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\n const WrongPage = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h1\">\r\n\t\t\t\t\t404\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\r\n\t\t\t\t\tThis page doesnt exist\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<NavLink to={'/profile'}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tGo back\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default WrongPage\r\n\r\n","import React, {useCallback, useState} from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {Button, Grid, IconButton, Typography} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport ModalWindow from '../../../common/Modal';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport TableData from '../../../common/Table';\r\nimport {CardType, deleteCardTC, getNewPageTC, addNewCardTC, updateCardTC} from '../../../redux/cards-reducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Pagination from '../../../common/Pagination';\r\nimport {Redirect, useHistory} from 'react-router-dom';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\tpadding: {\r\n\t\tpadding: 0\r\n\t}, button: {\r\n\t\twidth: '250px', alignContent: 'center',\r\n\t}, margin: {\r\n\t\tmarginLeft: theme.spacing(5),\r\n\t}, distance: {\r\n\t\twidth: '150px'\r\n\t},\r\n});\r\n\r\nconst Cards = () => {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst state = useSelector<AppRootStateType, any>(state => state.cardsReducer);\r\n\tconst {isAuth, userProfile} = useSelector<AppRootStateType, any>(state => state.login);\r\n\tconst {cards, cardsTotalCount, page, pageCount, id} = state;\r\n\tconst cardPacks = useSelector<AppRootStateType, any>(state => state.packsReducer.cardPacks);\r\n\r\n  const [localPage, setlocalPage] = useState(1);\r\n  const [localRow, setlocalRow] = useState(4);\r\n  const [question, setQuestion] = useState('');\r\n  const [answer, setAnswer] = useState('');\r\n  const [currentQuestion, setCurrentQuestion] = useState('');\r\n  const [currentAnswer, setCurrentAnswer] = useState('');\r\n  const [isOpenAddCardModalPopup, setIsOpenAddCardModalPopup] = useState(false);\r\n  const [isOpenModifyCardModalPopup, setIsOpenModifyCardModalPopup] = useState(false);\r\n  const [updateCardId, setUpdateCardId] = useState('');\r\n  const [showBtn, setShowBtn] = useState(true);\r\n\r\n  // if (cardPacks.length) {\r\n  // \tconst userEmail = userProfile.email;\r\n  // \tlet findPack = cardPacks.find((elem: any) => elem._id === id);\r\n  // \tif (findPack) {\r\n  // \t\tfindPack.user_name === userEmail ? setShowBtn(true) : setShowBtn(false);\r\n  // \t}\r\n  // }\r\n\r\n  const handleDialogOpen = () => {\r\n    setIsOpenAddCardModalPopup(true);\r\n  };\r\n\r\n  const handleDialogClose = () => {\r\n    setIsOpenAddCardModalPopup(false);\r\n  };\r\n\r\n  const onAddNewPackHandler = () => {\r\n    dispatch(addNewCardTC(question, answer));\r\n    setIsOpenAddCardModalPopup(false);\r\n  };\r\n  let history = useHistory();\r\n\r\n  const onLearnHandler = () => {\r\n    history.push(\"/learn\");\r\n  };\r\n\r\n  const onDeleteHandler = (id: string) => {\r\n    dispatch(deleteCardTC(id));\r\n  };\r\n\r\n  const onUpdateHandler = (id: string) => {\r\n    const card: CardType = cards.find((el: CardType) => el._id === id);\r\n    setCurrentQuestion(card.question);\r\n    setCurrentAnswer(card.answer);\r\n  };\r\n\r\n  const onModifyCardHandler = () => {\r\n    dispatch(updateCardTC(updateCardId, currentQuestion, currentAnswer));\r\n    setIsOpenModifyCardModalPopup(false);\r\n  };\r\n\r\n  const handleModifyCardModalPopupOpen = (id: string) => {\r\n    setUpdateCardId(id);\r\n    setIsOpenModifyCardModalPopup(true);\r\n    onUpdateHandler(id);\r\n  };\r\n\r\n  const handleModifyCardModalPopupClose = () => {\r\n    setIsOpenModifyCardModalPopup(false);\r\n  };\r\n\r\n\tconst onChangePage = (newPage: number) => {\r\n\t\tsetlocalPage(newPage + 1);\r\n\t\tdispatch(getNewPageTC(newPage + 1, localRow));\r\n\t};\r\n\tconst onChangeRowLength = (row: number) => {\r\n\t\tsetlocalRow(row);\r\n\t\tdispatch(getNewPageTC(localPage, row));\r\n\t};\r\n\r\n  const tableCell = [\r\n    {name: 'Question', align: 'inherit'},\r\n    {name: 'Answer', align: 'center'},\r\n    {name: 'Grade', align: 'center'},\r\n    {name: 'Delete', align: 'center'},\r\n    {name: 'Modify', align: 'left'},\r\n    {name: 'Updated', align: 'right'},\r\n  ];\r\n\r\n  const randomColor = useCallback(() => {\r\n    let color = 'rgb(' + Math.round(Math.random() * 255)\r\n      + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ')';\r\n    return color;\r\n  }, []);\r\n\r\n  if (isAuth) {\r\n    return (\r\n      <div>\r\n        <TableContainer component={Paper}>\r\n          <Grid\r\n            style={{marginTop: theme.spacing(2)}}\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item xs={7}>\r\n              <Typography className={classes.margin} variant=\"h3\">Cards</Typography>\r\n            </Grid>\r\n            {showBtn ? <Grid item xs={2}>\r\n              <Button\r\n                onClick={() => handleDialogOpen()}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<AddBoxIcon/>}\r\n              >\r\n                ADD CARD\r\n              </Button>\r\n            </Grid> : null}\r\n\r\n            <Grid item xs={2}>\r\n              <Button\r\n                onClick={onLearnHandler}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<SchoolIcon/>}\r\n              >\r\n                To learn\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <TableData heading={tableCell}>\r\n            {cards.map((row: CardType) => (\r\n              <TableRow key={row._id}>\r\n                <TableCell className={classes.distance} component=\"th\" scope=\"row\">\r\n                  {row.question}\r\n                </TableCell>\r\n                <TableCell align=\"center\">{row.answer}</TableCell>\r\n                <TableCell align=\"center\">{row.grade}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <IconButton style={{color: randomColor()}}\r\n                              className={classes.padding} aria-label=\"delete\"\r\n                    onClick={() => onDeleteHandler(row._id)}>\r\n                    <DeleteIcon fontSize=\"small\"/>\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell align=\"left\">\r\n                  <IconButton style={{color: randomColor()}}\r\n                              className={classes.padding} aria-label=\"modify\"\r\n                              onClick={() => handleModifyCardModalPopupOpen(row._id)}>\r\n                    <AutorenewIcon fontSize=\"small\"/>\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.updated.slice(0, -14)}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableData>\r\n\r\n        </TableContainer>\r\n        <Pagination count={cardsTotalCount} page={page - 1}\r\n                    rowsPerPageOptions={[4, 10, 20]} onChangePage={onChangePage}\r\n                    rowsPerPage={pageCount} onChangeRowsPerPage={onChangeRowLength}/>\r\n        <ModalWindow handleClose={() => handleDialogClose()} isOpen={isOpenAddCardModalPopup} title={'Add' +\r\n        ' new card'}>\r\n          <form onSubmit={() => onAddNewPackHandler()}>\r\n            <Grid container spacing={2}>\r\n              <InputField value={question}\r\n                          type={'text'} label={'Enter question'}\r\n                          onChange={setQuestion}/>\r\n              <InputField value={answer}\r\n                          type={'text'} label={'Enter answer'}\r\n                          onChange={setAnswer}/>\r\n              <FormButton name={'Send'}/>\r\n            </Grid>\r\n          </form>\r\n        </ModalWindow>\r\n        <ModalWindow handleClose={handleModifyCardModalPopupClose} isOpen={isOpenModifyCardModalPopup} title={'Modify' +\r\n        ' card QA'}>\r\n          <form onSubmit={onModifyCardHandler}>\r\n            <Grid container spacing={2}>\r\n              <InputField\r\n                value={currentQuestion}\r\n                type={'text'} label={'Set new question'}\r\n                onChange={setCurrentQuestion}\r\n              />\r\n              <InputField\r\n                value={currentAnswer}\r\n                type={'text'} label={'Set new answer'}\r\n                onChange={setCurrentAnswer}\r\n              />\r\n              <FormButton name={'Send updated card QA'}/>\r\n            </Grid>\r\n          </form>\r\n        </ModalWindow>\r\n      </div>);\r\n  }\r\n  return <Redirect to={'/login'}/>;\r\n};\r\n\r\nexport default Cards;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {CardType, getCardsTC, sendGradeTC} from '../../../redux/cards-reducer';\r\nimport s from './Learn.module.scss';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Button, createMuiTheme} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\nimport ReactCardFlip from \"react-card-flip\";\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\tpadding: {\r\n\t\tpadding: 0\r\n\t}, buttonControl: {\r\n\t\twidth: '300px',\r\n\t\theight: '40px',\r\n\t\talignContent: 'center',\r\n\t\tborderRadius: '10px',\r\n\t\tbackground: '#2c3258',\r\n\t\tborder: '1px solid #e4b61a',\r\n\t\tmargin: '40px',\r\n\t\tcolor: '#e4b61a'\r\n\t}, buttonGrade: {\r\n\t\tcolor: '#e4b61a',\r\n\t\tmargin: '8px',\r\n\t\tborderColor: '#e4b61a',\r\n\t\ttextDecoration: 'none',\r\n\t\tpadding: '3px 9px',\r\n\t\tfontSize: '0.8125rem',\r\n\t\tborder: '1px solid #e4b61a'\r\n\t}, margin: {\r\n\t\tmarginLeft: theme.spacing(5),\r\n\t}, card: {\r\n\t\twidth: '300px',\r\n\t\theight: '400px',\r\n\t\tmargin: '40px',\r\n\t\tborder: '1px solid #e4b61a',\r\n\t\tborderRadius: '34px',\r\n\t\ttransformStyle: 'preserve-3d',\r\n\t\tposition: 'relative',\r\n\t\tbackground: 'white',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center'\r\n\t}\r\n});\r\n\r\ntype PropsType = {}\r\n\r\nconst grades = ['не знал', 'забыл', 'долго думал', 'перепутал', 'знал'];\r\n\r\nconst getCard = (cards: CardType[]) => {\r\n\tconst sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\r\n\tconst rand = Math.random() * sum;\r\n\tconst res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n\t\tconst newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n\t\treturn {sum: newSum, id: newSum < rand ? i : acc.id};\r\n\t}, {sum: 0, id: -1});\r\n\treturn cards[res.id + 1];\r\n};\r\n\r\n\r\nconst Learn = (props: PropsType) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const [isChecked, setIsChecked] = useState<boolean>(true);\r\n    const [isHovered, setIsHovered] = useState<boolean>(true);\r\n    const [isFlipped, setIsFlipped] = useState<boolean>(false);\r\n    const [first, setFirst] = useState<boolean>(true);\r\n    // const [first, setFirst] = useState<boolean>(0);\r\n    const {cards} = useSelector((store: AppRootStateType) => store.cardsReducer);\r\n    const {id} = useParams();\r\n\r\n    const [card, setCard] = useState<CardType>({\r\n        _id: 'fake',\r\n        cardsPack_id: '',\r\n\r\n        answer: 'answer fake',\r\n        question: 'question fake',\r\n        grade: 1,\r\n        shots: 0,\r\n\r\n        type: '',\r\n        rating: 0,\r\n        more_id: '',\r\n\r\n        created: '',\r\n        updated: '',\r\n    });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (first) {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\t\t\tsetFirst(false);\r\n\t\t}\r\n\t\tif (cards.length > 0) setCard(getCard(cards));\r\n\t\treturn () => {\r\n\t\t};\r\n\t}, [dispatch, id, cards, first]);\r\n\r\n\tconst onNext = () => {\r\n\t\tsetIsChecked(true);\r\n\t\tif (cards.length > 0) {\r\n\t\t\tsetCard(getCard(cards));\r\n\t\t} else {\r\n\r\n        }\r\n    }\r\n    const onHoverHandlerEnable = () => {\r\n        setIsFlipped(true)\r\n    }\r\n    const onHoverHandlerDisable = () => {\r\n        setIsFlipped(false)\r\n    }\r\n\r\n\tconst onGradeHandler = (i: number) => {\r\n\t\tdispatch(sendGradeTC(card._id, i + 1));\r\n\t};\r\n\r\n    return (\r\n        <div className={s.cards_wrapper}>\r\n            {isChecked ? (\r\n                <>\r\n                    <div className={s.card_container}>\r\n                        <ReactCardFlip isFlipped={isFlipped} flipDirection=\"horizontal\">\r\n                            <div className={`${classes.card} ${s.card}`} onMouseEnter={onHoverHandlerEnable}>\r\n                                <h2 className={s.title}>{card.question}</h2>\r\n                            </div>\r\n                            <div className={classes.card} onMouseDown={onHoverHandlerDisable}>\r\n                                <h2 className={s.title}>{card.answer}</h2>\r\n                            </div>\r\n                        </ReactCardFlip>\r\n                    </div>\r\n                    <div>\r\n                        <Button onClick={() => setIsChecked(false)} className={classes.buttonControl}>check</Button>\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <div>\r\n                        <div className={classes.card}>\r\n                            {card.answer}\r\n                        </div>\r\n                        {grades.map((g, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button key={'grade-' + i} onClick={() => onGradeHandler(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonGrade}>{g}</Button>\r\n                        ))}\r\n                        <div><Button onClick={onNext} className={classes.buttonControl}>next</Button></div>\r\n                    </div>\r\n                </>\r\n            )\r\n            }\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Learn;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport {LoginPage} from './components/auth/Login/LoginPage';\r\nimport {RegisterContainer} from './components/auth/Register/RegisterContainer';\r\nimport {PasswordRecovery} from './components/auth/PasswordRecovery/PasswordRecovery';\r\nimport {PasswordCreation} from './components/auth/PasswordCreation/PasswordCreation';\r\nimport {Profile} from \"./components/Profile/Profile\";\r\nimport Packs from './components/Main-content/Packs/Packs';\r\nimport WrongPage from './components/WrongPage';\r\nimport Cards from './components/Main-content/Cards/Cards';\r\nimport Learn from \"./components/Main-content/Learn/Learn\";\r\n\r\nfunction App() {\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <header>\r\n                <Navbar/>\r\n            </header>\r\n            <Switch>\r\n                <Route path={'/profile/:userId?'}\r\n                       render={() => <Profile/>}/>\r\n                <Route path={'/login'}\r\n                       render={() => <LoginPage/>}/>\r\n                <Route path={'/register'}\r\n                       render={() => <RegisterContainer/>}/>\r\n                <Route path={'/passwordRecovery'}\r\n                       render={() => <PasswordRecovery/>}/>\r\n                <Route path={'/set-new-password/:token?'}\r\n                       render={() => <PasswordCreation/>}/>\r\n                <Route path={'/packs'}\r\n                       render={() => <Packs/>}/>\r\n                <Route path={'/сards'}\r\n                       render={() => <Cards/>}/>\r\n                <Route path={'/learn'}\r\n                       render={() => <Learn/>}/>\r\n                <Route path={'*'}\r\n                       render={() => <WrongPage/>}/>\r\n\r\n\r\n            </Switch>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { Dispatch } from \"redux\"\r\nimport {authAPI} from \"../api/api\";\r\n\r\n\r\nconst initialState: InitialStateType = {\r\n    isInitialized: false,\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType  = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        // case 'APP/SET-STATUS':\r\n        //     return {...state, status: action.status}\r\n        // case 'APP/SET-ERROR':\r\n        //     return {...state, error: action.error}\r\n        case \"APP/INITIALIZE-APP\":\r\n            return {...state, isInitialized: action.isInitialized}\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\n\r\nexport const initializeAppAC = (isInitialized: boolean) => ({type: 'APP/INITIALIZE-APP', isInitialized} as const)\r\n\r\n\r\nexport const initializeAppTC = () => (dispatch: Dispatch) => {\r\n    authAPI.me().then(res => {\r\n        try {\r\n            dispatch(initializeAppAC(true))\r\n        } catch (e) {\r\n            dispatch(initializeAppAC(true))\r\n            console.log(e.response.data.error)\r\n        }\r\n\r\n    })\r\n}\r\n\r\nexport type InitialStateType = {\r\n    isInitialized: boolean\r\n}\r\n\r\nexport type InitializeAppActionType = ReturnType<typeof initializeAppAC>\r\n\r\n\r\ntype ActionsType = | InitializeAppActionType\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {registerReducer} from \"./register-reducer\";\r\nimport passwordRecoveryReducer from './passwordRecovery-reducer';\r\nimport pssawordCreationReducer from './pssawordCreation-reducer';\r\nimport loginReducer from './login-reducer';\r\nimport {packsReducer} from \"./packs-reducer\";\r\nimport {cardsReducer} from \"./cards-reducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst reducers = combineReducers({\r\n  register: registerReducer,\r\n  pwRecoveryRequest: passwordRecoveryReducer,\r\n  passwordUpdate: pssawordCreationReducer,\r\n  login: loginReducer,\r\n  packsReducer,\r\n  cardsReducer,\r\n  app: appReducer,\r\n});\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport type AppRootStateType = ReturnType<typeof reducers>\r\n\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport App from './App';\r\nimport {store} from './redux/redux-store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards_wrapper\":\"Learn_cards_wrapper__3oG6C\"};"],"sourceRoot":""}