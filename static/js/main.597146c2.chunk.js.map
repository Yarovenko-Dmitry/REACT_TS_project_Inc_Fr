{"version":3,"sources":["serviceWorker.ts","common/NavbarButton.tsx","components/Navbar/Navbar.tsx","api/api.ts","redux/login-reducer.ts","common/FormBtn.tsx","components/auth/Login/LoginPage.tsx","redux/register-reducer.ts","common/InputField.tsx","common/FormWrapper.tsx","components/auth/Register/RegisterContainer.tsx","redux/passwordRecovery-reducer.ts","components/auth/PasswordRecovery/PasswordRecovery.tsx","redux/pssawordCreation-reducer.ts","components/auth/PasswordCreation/PasswordCreation.tsx","components/Profile/Profile.tsx","redux/packs-reducer.ts","common/Modal.tsx","common/RangeSlider.tsx","common/Pagination.tsx","common/Table.tsx","components/Main-content/Packs/Packs.tsx","components/WrongPage.tsx","redux/cards-reducer.ts","components/Main-content/Cards/Cards.tsx","components/Main-content/Learn/Learn.tsx","redux/app-reducer.ts","App.tsx","redux/redux-store.ts","index.tsx","components/Main-content/Learn/Learn.module.scss"],"names":["Boolean","window","location","hostname","match","useStyles","makeStyles","theme","createStyles","btn","margin","spacing","color","borderColor","textDecoration","NavbarButton","link","name","classes","to","style","Button","variant","className","size","marginAutoItem","navbar","backgroundColor","Navbar","AppBar","position","Toolbar","Typography","Box","instance","axios","create","withCredentials","baseURL","mainContent","page","count","min","max","get","post","cardsPack","id","delete","put","_id","row","cardId","grade","card_id","question","answer","card","cardsPack_id","passwordRecovery","email","from","message","password","resetPasswordToken","authAPI","then","res","data","rememberMe","internalState","isAuth","userProfile","avatar","publicCardPacksCount","created","updated","isAdmin","verified","error","loginReducer","state","action","type","loginAC","submit","FormButton","disable","fullWidth","disabled","root","height","centr","paper","display","flexDirection","alignItems","palette","secondary","main","form","width","marginTop","LoginPage","useSelector","login","dispatch","useDispatch","formik","useFormik","initialValues","validate","values","test","onSubmit","setLoginTC","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","handleSubmit","noValidate","TextField","required","label","autoComplete","autoFocus","onChange","handleChange","value","FormControlLabel","control","Checkbox","Link","isRegistered","registerReducer","ValidationTextField","withStyles","borderWidth","borderLeftWidth","padding","input","marginBottom","InputField","helperText","FormWrapper","onsubmit","children","title","Container","maxWidth","e","preventDefault","RegisterContainer","register","loading","pwRecoveryRequest","success","a","console","log","errors","getFieldProps","initialState","setErrorAC","setSuccessAC","setLoadingAC","passwordRecoveryReducer","PasswordRecovery","validateOnBlur","validateOnChange","catch","response","errorObject","request","recoverPasswordTC","trim","pssawordCreationReducer","PasswordCreation","validationSchema","Yup","shape","changepassword","when","is","val","length","oneOf","token","useParams","status","setNewPasswordTC","passwordUpdate","confirm","Profile","s","profileBlock","profileHeader","onClick","info","cardPacks","pageCount","minCardsCount","maxCardsCount","cardPacksTotalCount","packsReducer","cardsPacks","setRange","getPackOfCardsTC","getState","createMuiTheme","modal","justifyContent","background","border","boxShadow","shadows","button","alignContent","ModalWindow","isOpen","handleClose","onClose","Modal","aria-labelledby","aria-describedby","open","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","DialogActions","slider","marginRight","RangeSlider","minRange","maxRange","React","useState","setValue","Slider","step","event","newValue","valueLabelDisplay","pagination","Pagination","rowsPerPageOptions","onChangePage","rowsPerPage","onChangeRowsPerPage","TablePagination","newPage","target","table","minWidth","heading","fontWeight","TableData","Table","aria-label","TableHead","TableRow","map","elem","TableCell","align","TableBody","marginLeft","distance","Packs","memo","history","useHistory","localPage","setlocalPage","localRow","setlocalRow","newName","setNewName","currentPackName","setCurrentPackName","updatePackId","setUpdatePackId","isOpenAddPackModalPopup","setIsOpenAddPackModalPopup","isOpenModifyPackModalPopup","setIsOpenModifyPackModalPopup","isInitialized","app","userEmail","useEffect","onDeleteHandler","deletePackTC","handleModifyPackModalPopupOpen","cardPack","find","el","onUpdateHandler","randomColor","useCallback","Math","round","random","TableContainer","direction","justify","startIcon","key","scope","cardsCount","IconButton","push","fontSize","user_name","slice","WrongPage","cards","cardsTotalCount","maxGrade","minGrade","cardsReducer","setCards","getCardsTC","getNewPageTC","Cards","setQuestion","setAnswer","currentQuestion","setCurrentQuestion","currentAnswer","setCurrentAnswer","isOpenAddCardModalPopup","setIsOpenAddCardModalPopup","isOpenModifyCardModalPopup","setIsOpenModifyCardModalPopup","updateCardId","setUpdateCardId","showBtn","onAddNewPackHandler","addNewCardTC","handleModifyCardModalPopupOpen","updateCardTC","buttonControl","borderRadius","buttonGrade","transformStyle","grades","getCard","sum","reduce","acc","rand","i","newSum","Learn","props","isChecked","setIsChecked","isDisabled","setIsDisabled","isFlipped","setIsFlipped","first","setFirst","store","shots","rating","more_id","setCard","onGradeHandler","cards_wrapper","left","card_container","flipDirection","g","appReducer","initializeAppAC","App","path","render","top","textAlign","CircularProgress","reducers","combineReducers","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.597146c2.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport {Button, createStyles, Theme} from '@material-ui/core';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tbtn: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcolor: '#e4b61a',\r\n\t\t\tborderColor: '#e4b61a',\r\n\t\t\ttextDecoration:'none'\r\n\t\t},\r\n\t}),\r\n);\r\n\r\ntype PropsType = {\r\n\tlink: string,\r\n\tname: string\r\n}\r\n\r\nconst NavbarButton = ({link,name}:PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<NavLink to={link} style={{textDecoration: 'none'}}>\r\n\t\t\t<Button variant='outlined' className={classes.btn}\r\n\t\t\t        size={'small'}>{name}</Button>\r\n\t\t</NavLink>\r\n\t);\r\n};\r\n\r\nexport default NavbarButton;\r\n","import React from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n\tAppBar,\r\n\tBox,\r\n\tcreateStyles,\r\n\tTheme,\r\n\tToolbar,\r\n\tTypography\r\n} from '@material-ui/core';\r\nimport NavbarButton from '../../common/NavbarButton';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tmarginAutoItem: {\r\n\t\t\tmargin: 'auto'\r\n\t\t},\r\n\t\tnavbar: {\r\n\t\t\tbackgroundColor: '#2c3258'\r\n\t\t},\r\n\t\tbtn: {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tcolor: '#e4b61a',\r\n\t\t\tborderColor: '#e4b61a',\r\n\t\t\ttextDecoration:'none'\r\n\t\t},\r\n\t}),\r\n);\r\n\r\nconst Navbar = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<AppBar position=\"static\" className={classes.navbar}>\r\n\t\t\t<Toolbar>\r\n\t\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\t\tCards\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box className={classes.marginAutoItem}>\r\n\t\t\t\t\t<NavbarButton link={'/profile'} name={'Profile'}/>\r\n\t\t\t\t\t<NavbarButton link={'/login'} name={'login'}/>\r\n\t\t\t\t\t<NavbarButton link={'/register'} name={'register'}/>\r\n\t\t\t\t\t<NavbarButton link={'/passwordRecovery'} name={'Recovery'}/>\r\n\t\t\t\t\t<NavbarButton link={'/set-new-password'} name={'New password'}/>\r\n\t\t\t\t\t<NavbarButton link={'/packs'} name={'Packs of cards'}/>\r\n\t\t\t\t\t<NavbarButton link={'/сards'} name={'Сards'}/>\r\n\t\t\t\t\t<NavbarButton link={'/learn'} name={'Learn'}/>\r\n\t\t\t\t</Box>\r\n\t\t\t</Toolbar>\r\n\t\t</AppBar>\r\n\r\n\t);\r\n};\r\nexport default Navbar;\r\n\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n});\r\n\r\nexport const mainContent = {\r\n  getPacksOfCards(page: number, count: number, min: number, max: number) {\r\n    return instance.get(`cards/pack?page=${page}&pageCount=${count}&min=${min}&max=${max}`);\r\n  },\r\n  getRangedCards(page: number, count: number, min: number, max: number) {\r\n\r\n    return instance.get(`cards/pack?page=${page}&pageCount=${count}&min=${min}&max=${max}`);\r\n  },\r\n  addNewPack(name: string) {\r\n    return instance.post(`cards/pack`, {\r\n      cardsPack: {\r\n        name: name\r\n      }\r\n    });\r\n  },\r\n  deletePack(id: string) {\r\n    return instance.delete(`cards/pack?id=${id}`);\r\n  },\r\n  updatePack(id: string, name: string) {\r\n    return instance.put(\r\n      `cards/pack`,\r\n      {\r\n        cardsPack: {\r\n          _id: id,\r\n          name: name\r\n        }\r\n      });\r\n  },\r\n  getCards(id: string, page: number, row: number) {\r\n    return instance.get(`cards/card?cardsPack_id=${id}&page=${page}&pageCount=${row}`);\r\n  },\r\n  sendCardGrade(cardId: string, grade: number) {\r\n    return instance.put(`cards/grade`, {grade: grade, card_id: cardId});\r\n  },\r\n  addNewCard(id: string, question: string, answer: string) {\r\n    return instance.post(`cards/card`, {\r\n      card: {\r\n        cardsPack_id: id,\r\n        question,\r\n        answer\r\n      }\r\n    });\r\n  },\r\n  deleteCard(id: string) {\r\n    return instance.delete(`cards/card?id=${id}`);\r\n  },\r\n  updateCard(id: string, question: string, answer: string) {\r\n    return instance.put(\r\n      `cards/card`,\r\n      {\r\n        card: {\r\n          _id: id,\r\n          question,\r\n          answer\r\n        }\r\n      });\r\n  },\r\n};\r\n\r\nexport const passwordRecovery = {\r\n  getToken(email: string) {\r\n    let promise = instance.post(`auth/forgot/`, {\r\n      email,\r\n      from: 'password-reset-server <noreply@noreply.it>',\r\n      message: `\r\n\t\t\t\t\t<div style=\"background-color: lime; padding: 15px\">\r\n\t\t\t\t\tpassword recovery link: \r\n\t\t\t\t\t<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t`\r\n    });\r\n    return promise;\r\n  },\r\n  newPassword(password: string, resetPasswordToken: string) {\r\n    return instance.post(`auth/set-new-password`, {password, resetPasswordToken});\r\n  }\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId: string) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId: string) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status: string) {\r\n    return instance.put(`profile/status`, {status: status});\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.post<UsersDataType>(`auth/me`).then((res) => {\r\n      return res.data;\r\n    });\r\n  },\r\n  login(email: string, password: string, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/me`);\r\n  },\r\n  register(data: RegisterDataType) {\r\n\r\n    return instance.post(`auth/register`, {...data});\r\n  }\r\n};\r\n\r\ntype RegisterDataType = {\r\n  email: string,\r\n  password: string\r\n}\r\nexport type UsersDataType = {\r\n  _id: string;\r\n  email: string | undefined;\r\n  name: string;\r\n  avatar?: string;\r\n  publicCardPacksCount: number; // количество колод\r\n  created: any;\r\n  updated: any;\r\n  isAdmin: boolean;\r\n  verified: boolean; // подтвердил ли почту\r\n  rememberMe: boolean;\r\n  error: string;\r\n}\r\n\r\nexport type CardDataType = {\r\n  cards: Array<CardsType>,\r\n  cardsTotalCount?: number,\r\n  maxGrade?: number,\r\n  minGrade?: number,\r\n  page?: number,\r\n  pageCount?: number\r\n}\r\nexport type CardsType = {\r\n  answer: string,\r\n  question: string,\r\n  cardsPack_id: string,\r\n  grade: number,\r\n  rating: number,\r\n  shots: number,\r\n  type: string,\r\n  created: string,\r\n  updated: string,\r\n  __v: number,\r\n  _id: string,\r\n}","import {Dispatch} from 'redux';\r\nimport {authAPI, UsersDataType} from '../api/api';\r\n\r\nexport type LoginReducerType = {\r\n  isAuth?: boolean,\r\n  userProfile: UsersDataType\r\n};\r\n\r\nlet internalState: LoginReducerType = {\r\n  isAuth: false,\r\n  userProfile: {\r\n    _id: '',\r\n    email: '',\r\n    name: '',\r\n    avatar: '',\r\n    publicCardPacksCount: 0,\r\n    created: 'YYYY-MM-DD',\r\n    updated: 'YYYY-MM-DD',\r\n    isAdmin: false,\r\n    verified: false,\r\n    rememberMe: false,\r\n    error: '',\r\n  }\r\n};\r\ndebugger\r\n export const loginReducer = (state: LoginReducerType = internalState, action: ActionTypes): LoginReducerType => {\r\n\r\n  switch (action.type) {\r\n    case 'login/SET_USER_DATA':\r\n      return {\r\n        ...state,\r\n        userProfile: action.data,\r\n        isAuth: true\r\n      };\r\n    case 'login/LOGOUT':\r\n      return {\r\n        ...state,\r\n        isAuth: false\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const loginAC = (data: UsersDataType) => ({\r\n  type: 'login/SET_USER_DATA',\r\n  data\r\n} as const);\r\n\r\nconst logoutAC = () => ({\r\n  type: 'login/LOGOUT',\r\n} as const);\r\n\r\ntype ActionTypes =\r\n  | ReturnType<typeof loginAC>\r\n  | ReturnType<typeof logoutAC>;\r\n\r\nexport const setLoginTC = (email: string, password: string, rememberMe: boolean = false) => (dispatch: Dispatch<ActionTypes>) => {\r\n  authAPI.login(email, password, rememberMe)\r\n    .then(res => {\r\n        dispatch(loginAC(res.data))\r\n      }\r\n    )\r\n};\r\n\r\nexport const logoutTC = () => (dispatch: Dispatch) => {\r\n  authAPI.logout()\r\n    .then(res => {\r\n      if (res.data.info === 'logOut success —ฅ/ᐠ.̫ .ᐟ\\\\ฅ—') {\r\n        dispatch(logoutAC())\r\n      }\r\n    })\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t\tbackgroundColor: '#e4b61a',\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: '#2c3258'\r\n\t\t}\r\n\t},\r\n}));\r\n\r\n\r\ntype PropsType = {\r\n\tdisable?: boolean\r\n\tname: string\r\n}\r\n\r\nconst FormButton = ({disable,name}:PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\ttype=\"submit\"\r\n\t\t\tfullWidth\r\n\t\t\tvariant=\"contained\"\r\n\t\t\tcolor=\"primary\"\r\n\t\t\tclassName={classes.submit}\r\n\t\t\tdisabled={disable}\r\n\t\t>\r\n\t\t\t{name}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default FormButton;\r\n","import React from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {useFormik} from 'formik';\r\nimport {setLoginTC} from '../../../redux/login-reducer';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {NavLink, Redirect} from 'react-router-dom';\r\nimport FormButton from '../../../common/FormBtn';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n\r\n  },\r\n  centr: {\r\n    margin: '0 auto'\r\n  },\r\n\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport function LoginPage() {\r\n\r\n  const isAuth = useSelector<AppRootStateType, boolean | undefined>(state => state.login.isAuth)\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch()\r\n\r\n  const formik: any = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n      rememberMe: false\r\n    },\r\n    validate: (values) => {\r\n      if (!values.email) {\r\n        return {\r\n          email: 'Email is required'\r\n        };\r\n      }\r\n      else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n        return {\r\n          email: 'Invalid email address'\r\n        };\r\n      }\r\n    },\r\n    onSubmit: values => {\r\n      const {email, password, rememberMe} = values\r\n      dispatch(setLoginTC(email, password, rememberMe))\r\n      // console.log(JSON.stringify(values, null, 2));\r\n    },\r\n  });\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'}/>\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline/>\r\n      {/*<Grid item xs={false} sm={4} md={7} className={classes.image} />*/}\r\n      <Grid item xs={12} sm={8} md={5} className={classes.centr} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon/>\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          <form onSubmit={formik.handleSubmit}\r\n                className={classes.form} noValidate>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={formik.handleChange}\r\n              value={formik.values.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              // autoComplete=\"current-password\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.password}\r\n            />\r\n            <FormControlLabel\r\n              control={<Checkbox id=\"rememberMe\"\r\n                                 name=\"rememberMe\"\r\n                                 onChange={formik.handleChange}\r\n                                 value={formik.values.rememberMe} color=\"primary\"/>}\r\n              label=\"Remember me\"\r\n            />\r\n            <FormButton name={'Log in'}/>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <NavLink to='/passwordRecovery'>\r\n                  <Link\r\n\r\n                    variant=\"body2\">\r\n                    Forgot password?\r\n                  </Link>\r\n                </NavLink>\r\n\r\n              </Grid>\r\n              <Grid item>\r\n                <NavLink to='/register'>\r\n                  <Link\r\n                    variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </NavLink>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\n\r\n\r\nlet internalState: RegisterReducerType = {\r\n    isRegistered: false\r\n};\r\n\r\nexport const registerReducer = (state: RegisterReducerType = internalState, action: ActionsType) => {\r\n\r\n    switch (action.type) {\r\n        case \"register/SET-IS-REGISTERED\":\r\n            debugger\r\n            return {...state, isRegistered: action.value}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst setRegisterAC = (value: boolean) => ({\r\n    type: 'register/SET-IS-REGISTERED', value\r\n})\r\n\r\nexport const RegisterTC = (data: RegisterParamsType) => async (dispatch: Dispatch<ActionsType>) => {\r\n    debugger\r\n    try {\r\n        let response = await authAPI.register(data)\r\n        debugger\r\n            dispatch(setRegisterAC(true))\r\n    } catch (e) {\r\n        debugger\r\n        console.log(e)\r\n    }\r\n\r\n}\r\n\r\n//types\r\ntype RegisterReducerType = {\r\n    isRegistered: boolean\r\n};\r\ntype ActionsType = ReturnType<typeof setRegisterAC>\r\ntype ThunkDispatch = Dispatch<ActionsType>\r\n\r\ntype RegisterParamsType = {\r\n    email: string\r\n    password: string\r\n}","import React from 'react';\r\nimport {makeStyles, withStyles} from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst ValidationTextField = withStyles({\r\n    root: {\r\n        '& input:valid + fieldset': {\r\n            borderColor: 'green',\r\n            borderWidth: 2,\r\n        },\r\n        '& input:valid:focus + fieldset': {\r\n            borderLeftWidth: 6,\r\n            padding: '4px !important',\r\n        },\r\n    },\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    input: {\r\n        marginBottom: '10px'\r\n    }\r\n}));\r\n\r\ntype PropsType = {\r\n    error?: boolean | string\r\n    formik?: any\r\n    type?: string\r\n    label?: string\r\n    value?: string\r\n    onChange?: any\r\n}\r\n\r\nconst InputField = ({error = false, formik, type, label, value, onChange}: PropsType) => {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <ValidationTextField className={classes.input}\r\n                             error={error}\r\n                             helperText={error}\r\n                             label={label}\r\n                             fullWidth\r\n                             required\r\n                             variant=\"outlined\"\r\n                             type={type}\r\n                             {...formik}\r\n\r\n        />\r\n    );\r\n};\r\n\r\nexport default InputField;\r\n","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: '#2c3258',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n    },\r\n}));\r\n\r\ntype PropsType = {\r\n    onsubmit: any\r\n    title: string\r\n    children: any\r\n}\r\n\r\nconst FormWrapper = ({onsubmit, children, title}: PropsType) => {\r\n\r\n    function onSubmit(e: any) {\r\n        e.preventDefault()\r\n        onsubmit()\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline/>\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOpenIcon/>\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    {title}\r\n                </Typography>\r\n                <form className={classes.form} onSubmit={onSubmit}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            {children}\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default FormWrapper;\r\n","import React from 'react';\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Button, FormControl, FormGroup, FormLabel, Grid, TextField} from \"@material-ui/core\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {RegisterTC} from \"../../../redux/register-reducer\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\nimport InputField from \"../../../common/InputField\";\r\nimport FormButton from \"../../../common/FormBtn\";\r\nimport FormWrapper from \"../../../common/FormWrapper\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport const RegisterContainer = () => {\r\n    const dispatch = useDispatch()\r\n    const isRegistered = useSelector<AppRootStateType, boolean>(state => state.register.isRegistered)\r\n\r\n    const loading = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.loading);\r\n    const error = useSelector<AppRootStateType, string>(state => state.pwRecoveryRequest.error);\r\n    const success = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.success);\r\n\r\n\r\n    const formik = useFormik({\r\n        validate: (values) => {\r\n            if (!values.email) {\r\n                return {\r\n                    email: 'Email is required'\r\n                };\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                return {\r\n                    email: 'Invalid email address'\r\n                };\r\n            }\r\n        },\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(RegisterTC(values))\r\n        }\r\n    })\r\n\r\n    if (isRegistered) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <FormWrapper onsubmit={formik.handleSubmit} title={'Register'}>\r\n            {formik.errors.email ? <div>{formik.errors.email}</div> : null}\r\n            {error ? <div>{error}</div> : null}\r\n            <InputField error={!!formik.errors.email} formik={{...formik.getFieldProps('email')}}\r\n                        type={'email'} label={'Enter your email'}/>\r\n            <InputField error={!!formik.errors.password} formik={{...formik.getFieldProps('password')}}\r\n                        type={'password'} label={'Enter your password'}/>\r\n            <FormButton name={'Send'} disable={loading}/>\r\n        </FormWrapper>\r\n    )\r\n}\r\n\r\n","import {passwordRecovery} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\n\r\nexport type PasswordRecoveryReducerType = {\r\n\terror: string\r\n\tsuccess: boolean\r\n\tloading: boolean\r\n};\r\n\r\nlet initialState: PasswordRecoveryReducerType = {\r\n\terror: '',\r\n\tsuccess: false,\r\n\tloading: false\r\n};\r\n\r\nconst passwordRecoveryReducer = (state: PasswordRecoveryReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'pwRecovery/SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state, error: action.error\r\n\t\t\t};\r\n\t\tcase 'pwRecovery/SET_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, success: action.success\r\n\t\t\t};\r\n\t\tcase 'pwRecovery/SET_LOADING':\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: action.loading\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setErrorAC = (error: string) => ({\r\n\ttype: 'pwRecovery/SET_ERROR',\r\n\terror\r\n} as const);\r\n\r\nexport const setSuccessAC = (success: boolean) => ({\r\n\ttype: 'pwRecovery/SET_SUCCESS',\r\n\tsuccess\r\n} as const);\r\nexport const setLoadingAC = (loading: boolean) => ({\r\n\ttype: 'pwRecovery/SET_LOADING',\r\n\tloading\r\n} as const);\r\n\r\ntype ActionTypes = ReturnType<typeof setErrorAC> | ReturnType<typeof setSuccessAC> | ReturnType<typeof setLoadingAC>\r\n\r\nexport const recoverPasswordTC = (email: string) => (dispatch: Dispatch<ActionTypes>) => {\r\n\tdispatch(setLoadingAC(true))\r\n\tpasswordRecovery.getToken(email).then(\r\n\t\tres => {\r\n\t\t\tdispatch(setSuccessAC(res.data.success));\r\n\t\t\tdispatch(setErrorAC(''));\r\n\t\t\tdispatch(setLoadingAC(false))\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconst {response} = error;\r\n\t\tconst {request, ...errorObject} = response;\r\n\t\tdispatch(setSuccessAC(false));\r\n\t\tdispatch(setLoadingAC(false))\r\n\t\treturn dispatch(setErrorAC(errorObject.data.error));\r\n\t});\r\n};\r\n\r\nexport default passwordRecoveryReducer;","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {recoverPasswordTC} from '../../../redux/passwordRecovery-reducer';\r\nimport {useFormik} from 'formik';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport FormWrapper from '../../../common/FormWrapper';\r\n\r\nexport const PasswordRecovery = () => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formik = useFormik({\r\n\t\tvalidateOnBlur: true,\r\n\t\tvalidateOnChange: false,\r\n\t\tvalidate: (values) => {\r\n\t\t\tif (!values.email) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\temail: 'Email is required'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\temail: 'Invalid email address'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitialValues: {\r\n\t\t\temail: ''\r\n\t\t},\r\n\t\tonSubmit: values => {\r\n\t\t\tconst {email} = values;\r\n\t\t\tdispatch(recoverPasswordTC(email.trim()));\r\n\t\t},\r\n\t});\r\n\r\n\tconst error = useSelector<AppRootStateType, string>(state => state.pwRecoveryRequest.error);\r\n\tconst success = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.success);\r\n\tconst loading = useSelector<AppRootStateType, boolean>(state => state.pwRecoveryRequest.loading);\r\n\r\n\treturn (\r\n\t\t<FormWrapper onsubmit={formik.handleSubmit} title={'Reset password'}>\r\n\t\t\t{formik.errors.email ? <div>{formik.errors.email}</div> : null}\r\n\t\t\t{error ? <div>{error}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.email} formik={{...formik.getFieldProps('email')}}\r\n\t\t\t            type={'email'} label={'Enter your email'}/>\r\n\t\t\t<FormButton name={'Send'} disable={loading}/>\r\n\t\t</FormWrapper>\r\n\t);\r\n};\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {passwordRecovery} from '../api/api';\r\n\r\nexport type PssawordCreationReducerType = {\r\n\terror: string\r\n\tsuccess: boolean\r\n\tloading: boolean\r\n};\r\n\r\nlet initialState: PssawordCreationReducerType = {\r\n\terror: '',\r\n\tsuccess: false,\r\n\tloading: false,\r\n};\r\n\r\nconst pssawordCreationReducer = (state: PssawordCreationReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'pwCreation/SET_SUCCESS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, success: action.success\r\n\t\t\t};\r\n\t\tcase 'pwCreation/SET_LOADING':\r\n\t\t\treturn {\r\n\t\t\t\t...state, loading: action.loading\r\n\t\t\t};\r\n\t\tcase 'pwCreation/SET_ERROR':\r\n\t\t\treturn {\r\n\t\t\t\t...state, error: action.error\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nconst setSuccessAC = (success: boolean) => ({\r\n\ttype: 'pwCreation/SET_SUCCESS',\r\n\tsuccess\r\n} as const);\r\nconst setLoadingAC = (loading: boolean) => ({\r\n\ttype: 'pwCreation/SET_LOADING',\r\n\tloading\r\n} as const);\r\nexport const setErrorAC = (error: string) => ({\r\n\ttype: 'pwCreation/SET_ERROR',\r\n\terror\r\n} as const);\r\n\r\ntype ActionTypes =\r\n\tReturnType<typeof setErrorAC>\r\n\t| ReturnType<typeof setSuccessAC>\r\n\t| ReturnType<typeof setLoadingAC>\r\n\r\nexport const setNewPasswordTC = (password: string,\r\n\ttoken: string) => (dispatch: Dispatch<ActionTypes>) => {\r\n\tdispatch(setLoadingAC(true));\r\n\tpasswordRecovery.newPassword(password, token).then(\r\n\t\tres => {\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tdispatch(setSuccessAC(true));\r\n\t\t\t\tdispatch(setErrorAC(''));\r\n\t\t\t\tdispatch(setLoadingAC(false));\r\n\t\t\t}\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconst {response} = error;\r\n\t\tconst {request, ...errorObject} = response;\r\n\t\tdispatch(setSuccessAC(false));\r\n\t\tdispatch(setLoadingAC(false));\r\n\t\treturn dispatch(setErrorAC(errorObject.data.error));\r\n\t});\r\n};\r\n\r\nexport default pssawordCreationReducer;","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport * as Yup from 'yup';\r\nimport {useFormik} from 'formik';\r\nimport {setNewPasswordTC} from '../../../redux/pssawordCreation-reducer';\r\nimport {useParams, Redirect} from 'react-router-dom';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport FormWrapper from '../../../common/FormWrapper';\r\n\r\nexport const PasswordCreation = () => {\r\n\r\n\tconst validationSchema = Yup.object().shape({\r\n\t\tpassword: Yup.string().required('This field is required'),\r\n\t\tchangepassword: Yup.string().when('password', {\r\n\t\t\tis: val => (val && val.length > 0 ? true : false),\r\n\t\t\tthen: Yup.string().oneOf(\r\n\t\t\t\t[Yup.ref('password')],\r\n\t\t\t\t'Both password need to be the same'\r\n\t\t\t)\r\n\t\t})\r\n\t});\r\n\r\n\tconst {token} = useParams();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst formik = useFormik({\r\n\t\tvalidateOnBlur: true,\r\n\t\tvalidateOnChange: false,\r\n\t\tinitialValues: {\r\n\t\t\tpassword: '',\r\n\t\t\tchangepassword: ''\r\n\t\t},\r\n\t\tvalidationSchema,\r\n\t\tonSubmit: values => {\r\n\t\t\tconst {password} = values;\r\n\t\t\tdispatch(setNewPasswordTC(password, token));\r\n\t\t}\r\n\t});\r\n\r\n\tconst error = useSelector<AppRootStateType, string>(state => state.passwordUpdate.error);\r\n\tconst success = useSelector<AppRootStateType, boolean>(state => state.passwordUpdate.success);\r\n\tconst loading = useSelector<AppRootStateType, boolean>(state => state.passwordUpdate.loading);\r\n\r\n\tif (success) {\r\n\t\twindow.confirm('Your password has been changed!');\r\n\t\treturn <Redirect to={'/login'}/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormWrapper onsubmit={formik.handleSubmit} title={'Set new password'}>\r\n\t\t\t{formik.errors.password ? <div>{formik.errors.password}</div> : null}\r\n\t\t\t{error ? <div>{error}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.password}\r\n\t\t\t            formik={{...formik.getFieldProps('password')}}\r\n\t\t\t            type={'password'} label={'Enter new password'}/>\r\n\t\t\t{formik.errors.changepassword ? <div>{formik.errors.changepassword}</div> : null}\r\n\t\t\t<InputField error={!!formik.errors.changepassword}\r\n\t\t\t            formik={{...formik.getFieldProps('changepassword')}}\r\n\t\t\t            type={'password'} label={'Confirm new password'}/>\r\n\t\t\t<FormButton name={'Send'} disable={loading}/>\r\n\t\t</FormWrapper>\r\n\r\n\t);\r\n};\r\n\r\n","import React from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {logoutTC} from \"../../redux/login-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from \"./Profile.module.css\";\r\nimport {UsersDataType} from '../../api/api';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    backgroundColor: '#e4b61a',\r\n    '&:hover': {\r\n      backgroundColor: '#2c3258'\r\n    }\r\n  },\r\n}));\r\n\r\nexport const Profile = () => {\r\n\r\n  const isAuth = useSelector<AppRootStateType, boolean | undefined>(state => state.login.isAuth);\r\n  const userProfile = useSelector<AppRootStateType, UsersDataType>(state => state.login.userProfile);\r\n\r\n  const {email, name, avatar, publicCardPacksCount, created} = userProfile;\r\n\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles();\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to={'/login'}/>\r\n  }\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logoutTC())\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={s.profileBlock}>\r\n      <div className={s.profileHeader}>\r\n        <div className={'container'}>\r\n          <div>Profile {name}</div>\r\n          <div>Profile email {email}</div>\r\n          <div>Profile avatar {avatar}</div>\r\n          <div>Profile publicCardPacksCount {publicCardPacksCount}</div>\r\n          <div>Profile created {created}</div>\r\n\r\n          <button type=\"submit\" onClick={logoutHandler} className={classes.submit}>Log out</button>\r\n        </div>\r\n        )\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {Dispatch} from 'redux';\r\nimport {mainContent} from '../api/api';\r\nimport {AppRootStateType} from './redux-store';\r\n\r\nexport type PacksReducerType = {\r\n\tcardPacks: PackType[] | [],\r\n\tpage: number,\r\n\tpageCount: number\r\n\tcardPacksTotalCount: number\r\n\tminCardsCount: number\r\n\tmaxCardsCount: number\r\n};\r\n\r\nexport type PackType = {\r\n\tcardsCount: number\r\n\tcreated: string\r\n\tgrade: number\r\n\tmore_id: string\r\n\tname: string\r\n\tpath: string\r\n\tprivate: boolean\r\n\trating: number\r\n\tshots: number\r\n\ttype: string\r\n\tupdated: string\r\n\tuser_id: string\r\n\tuser_name: string\r\n\t__v: number\r\n\t_id: string\r\n}\r\n\r\nlet initialState: PacksReducerType = {\r\n\tcardPacks: [],\r\n\tpage: 0,\r\n\tpageCount: 10,\r\n\tminCardsCount: 0,\r\n\tmaxCardsCount: 20,\r\n\tcardPacksTotalCount: 1\r\n\r\n};\r\n\r\nexport const packsReducer = (state: PacksReducerType = initialState,\r\n\taction: ActionTypes) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'packs/SET_PACKS':\r\n\t\t\treturn {\r\n\t\t\t\t...state, cardPacks: action.cardsPacks,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount,\r\n\t\t\t\tcardPacksTotalCount: action.cardPacksTotalCount,\r\n\t\t\t\tminCardsCount: action.minCardsCount,\r\n\t\t\t\tmaxCardsCount: action.maxCardsCount\r\n\t\t\t};\r\n\t\tcase 'packs/SET_PAGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount\r\n\r\n\t\t\t};\r\n\t\tcase 'packs/SET_RANGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state, cardPacks: action.cardPacks,\r\n\t\t\t\tpage: action.page,\r\n\t\t\t\tpageCount: action.pageCount,\r\n\t\t\t\tcardPacksTotalCount: action.cardPacksTotalCount,\r\n\t\t\t\tminCardsCount: action.minCardsCount,\r\n\t\t\t\tmaxCardsCount: action.maxCardsCount,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setPackOfCards = (cardsPacks: PackType[], page:number,\r\n\tpageCount:number, cardPacksTotalCount: number, minCardsCount: number,\r\n\tmaxCardsCount:number ) => ({\r\n\ttype: 'packs/SET_PACKS',\r\n\tcardsPacks,\r\n\tpage,\r\n\tpageCount,\r\n\tcardPacksTotalCount,\r\n\tminCardsCount,\r\n\tmaxCardsCount\r\n} as const);\r\n\r\nexport const setPage = (page: number, pageCount: number) => ({\r\n\ttype: 'packs/SET_PAGE',\r\n\tpage,\r\n\tpageCount\r\n} as const);\r\n\r\nexport const setRange = (data: any,min:number,max:number) => ({\r\n\ttype: 'packs/SET_RANGE',\r\n\tcardPacks: data.cardPacks,\r\n\tpage: data.page,\r\n\tpageCount: data.pageCount,\r\n\tcardPacksTotalCount: data.cardPacksTotalCount,\r\n\tminCardsCount: min,\r\n\tmaxCardsCount: max,\r\n} as const);\r\n\r\ntype ActionTypes =\r\n\tReturnType<typeof setPackOfCards>\r\n\t| ReturnType<typeof setPage>\r\n\t| ReturnType<typeof setRange>\r\n\r\nexport const getPackOfCardsTC = (page: number, row: number) => (dispatch: Dispatch<ActionTypes>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {minCardsCount, maxCardsCount} = getState().packsReducer\r\n\tmainContent.getPacksOfCards(page, row, minCardsCount, maxCardsCount).then(\r\n\t\tres => {\r\n\t\t\tdispatch(setRange(res.data, minCardsCount, maxCardsCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const changeRange = (min: number, max: number) => (dispatch: Dispatch<ActionTypes>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.getRangedCards(page, pageCount, min, max).then(\r\n\tres => {\r\n\t\tdispatch(setRange(res.data,min,max));\r\n\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\r\n\t});\r\n};\r\n\r\nexport const addNewPackTC = (name: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.addNewPack(name).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\nexport const deletePackTC = (id: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.deletePack(id).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const updatePackTC = (id: string, name: string) => (dispatch: Dispatch<any>,\r\n\tgetState: () => AppRootStateType) => {\r\n\tconst {page, pageCount} = getState().packsReducer\r\n\tmainContent.updatePack(id, name).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getPackOfCardsTC(page, pageCount));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n","import React from 'react';\r\nimport {makeStyles, Theme, createStyles, createMuiTheme} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport {Button, DialogActions, Typography} from '@material-ui/core';\r\n\r\nconst theme = createMuiTheme();\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tmodal: {\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t},\r\n\t\tpaper: {\r\n\t\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\t\tborder: '2px solid #000',\r\n\t\t\tboxShadow: theme.shadows[5],\r\n\t\t\tpadding: theme.spacing(2, 4, 3),\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\twidth: '250px',\r\n\t\t\talignContent: 'center',\r\n\r\n\t\t},\r\n\t}),\r\n);\r\n\r\ntype PropsType = {\r\n\tisOpen: boolean\r\n\thandleClose: () => void\r\n\ttitle?: string\r\n\tchildren?: any\r\n}\r\n\r\nexport default function ModalWindow({isOpen,handleClose,title,children}:PropsType) {\r\n\tconst classes = useStyles();\r\n\r\n\tfunction onClose() {\r\n\t\thandleClose()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Modal\r\n\t\t\t\taria-labelledby=\"transition-modal-title\"\r\n\t\t\t\taria-describedby=\"transition-modal-description\"\r\n\t\t\t\tclassName={classes.modal}\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tcloseAfterTransition\r\n\t\t\t\tBackdropComponent={Backdrop}\r\n\t\t\t\tBackdropProps={{\r\n\t\t\t\t\ttimeout: 500,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Fade in={isOpen}>\r\n\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t<Button onClick={() => onClose()} color='primary'>Close</Button>\r\n\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t<Typography style={{padding: theme.spacing(2)}} component=\"h3\"\r\n\t\t\t\t\t\t            variant=\"h3\">\r\n\t\t\t\t\t\t\t{title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{children}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fade>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { changeRange } from '../redux/packs-reducer';\r\nimport {useDispatch} from 'react-redux';\r\nimport FormButton from './FormBtn';\r\nimport {Button} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\n\r\nconst useStyles = makeStyles({\r\n\troot: {\r\n\t\twidth: '80%',\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'space-between',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tbutton: {\r\n\t\twidth: '100px',\r\n\t\talignContent: 'center',\r\n\t},\r\n\tslider: {\r\n\t\tmarginRight: '30px'\r\n\t}\r\n});\r\n\r\ntype PropsType = {\r\n\tminRange: number\r\n\tmaxRange: number\r\n}\r\n\r\nexport default function RangeSlider({minRange,maxRange}:PropsType) {\r\n\tconst classes = useStyles();\r\n\tconst [value, setValue] = React.useState<number[]>([minRange, maxRange]);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleChange = (event: any, newValue: number | number[] | any) => {\r\n\t\tif (newValue) {\r\n\t\t\tsetValue(newValue as number[]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onApplyChangeHandler = () => {\r\n\t\tdispatch(changeRange(value[0],value[1]))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Slider className={classes.slider}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tmin={minRange}\r\n\t\t\t\tstep={5}\r\n\t\t\t\tmax={maxRange}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\taria-labelledby=\"range-slider\"\r\n\t\t\t\tvalueLabelDisplay=\"on\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={onApplyChangeHandler}\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclassName={classes.button}\r\n\t\t\t>\r\n\t\t\t\tAPPLY\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}","import React from 'react';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\nconst useStyles = makeStyles({\r\n\tpagination: {\r\n\t\tdisplay: 'flex',\r\n\t\tjustifyContent: 'center',\r\n\t\tmarginTop: '20px'\r\n\t}\r\n});\r\n\r\ntype PropsType = {\r\n\tcount: number\r\n\tpage: number\r\n\trowsPerPageOptions: Array<number>\r\n\tonChangePage: (value: number) => void\r\n\tonChangeRowsPerPage: (value:number) => void\r\n\trowsPerPage: number\r\n}\r\n\r\nconst Pagination = ({\r\n\tcount,\r\n\tpage,\r\n\trowsPerPageOptions,\r\n\tonChangePage,\r\n\trowsPerPage,\r\n\tonChangeRowsPerPage\r\n}: PropsType) => {\r\n\r\n\tconst handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null,\r\n\t\tnewPage: number) => {\r\n\t\tonChangePage(newPage)\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (\r\n\t\tevent: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n\t) => {\r\n\t\tonChangeRowsPerPage(+event.target.value);\r\n\t};\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<TablePagination\r\n\t\t\t\tclassName={classes.pagination}\r\n\t\t\t\tcomponent=\"div\"\r\n\t\t\t\tcount={count}\r\n\t\t\t\tpage={page}\r\n\t\t\t\trowsPerPageOptions={rowsPerPageOptions}\r\n\t\t\t\tonChangePage={handleChangePage}\r\n\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n","import React  from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tminWidth: 650,\r\n\t},\r\n\theading: {\r\n\t\tfontWeight: 'bold'\r\n\t},\r\n\r\n});\r\n\r\ntype DataType = {\r\n\tname: string\r\n\talign: any\r\n}\r\n\r\ntype PropsType = {\r\n\theading: Array<DataType>\r\n\tchildren?: any\r\n}\r\n\r\nconst TableData = ({heading,children}: PropsType) => {\r\n\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t<TableHead>\r\n\t\t\t\t<TableRow>\r\n\t\t\t\t\t{heading.map(elem => <TableCell className={classes.heading}\r\n\t\t\t\t\t                                align={elem.align}>{elem.name}</TableCell>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</TableRow>\r\n\t\t\t</TableHead>\r\n\t\t\t<TableBody>\r\n\t\t\t\t{children}\r\n\t\t\t</TableBody>\r\n\t\t</Table>\r\n\t);\r\n};\r\n\r\nexport default TableData;\r\n\r\n","import React, {useCallback, useEffect, useState} from 'react';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {\r\n  addNewPackTC, deletePackTC, getPackOfCardsTC, PackType, updatePackTC\r\n} from '../../../redux/packs-reducer';\r\nimport {Typography, Grid, Button, IconButton} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport ModalWindow from '../../../common/Modal';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport RangeSlider from '../../../common/RangeSlider';\r\nimport Pagination from '../../../common/Pagination';\r\nimport TableData from '../../../common/Table';\r\nimport {Redirect} from 'react-router';\r\nimport {getCardsTC} from '../../../redux/cards-reducer';\r\nimport {useHistory} from 'react-router-dom';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst theme = createMuiTheme();\r\nconst useStyles = makeStyles({\r\n  padding: {\r\n    padding: 0\r\n  }, button: {\r\n    width: '250px', alignContent: 'center',\r\n  }, margin: {\r\n    marginLeft: theme.spacing(5),\r\n  }, distance: {\r\n    width: '150px'\r\n  },\r\n});\r\n\r\nconst Packs = React.memo(function () {\r\n\r\n  let history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const [localPage, setlocalPage] = useState(1);\r\n  const [localRow, setlocalRow] = useState(4);\r\n  const [newName, setNewName] = useState('');\r\n  const [currentPackName, setCurrentPackName] = useState('');\r\n  const [updatePackId, setUpdatePackId] = useState('');\r\n\r\n  const [isOpenAddPackModalPopup, setIsOpenAddPackModalPopup] = useState(false);\r\n  const [isOpenModifyPackModalPopup, setIsOpenModifyPackModalPopup] = useState(false);\r\n\r\n  const isInitialized = useSelector<AppRootStateType, boolean>((state) => state.app.isInitialized);\r\n  const isAuth = useSelector<AppRootStateType, boolean | undefined>(state => state.login.isAuth);\r\n  const userProfile = useSelector<AppRootStateType, any>(state => state.login.userProfile);\r\n\r\n  const onChangePage = (newPage: number) => {\r\n    setlocalPage(newPage + 1);\r\n    dispatch(getPackOfCardsTC(newPage + 1, localRow));\r\n  };\r\n  const onChangeRowLength = (row: number) => {\r\n    setlocalRow(row);\r\n    dispatch(getPackOfCardsTC(localPage, row));\r\n  };\r\n\r\n  const state = useSelector<AppRootStateType, any>(state => state.packsReducer);\r\n  const {cardPacks, page, pageCount, cardPacksTotalCount} = state;\r\n  // const {isAuth, userProfile} = useSelector<AppRootStateType, any>(state => state.login);\r\n  const dispatch = useDispatch();\r\n\r\n  const userEmail = userProfile.email;\r\n\r\n  useEffect(() => {\r\n    dispatch(getPackOfCardsTC(localPage, localRow));\r\n  }, [pageCount, page]);\r\n\r\n  const onAddNewPackHandler = () => {\r\n    dispatch(addNewPackTC(newName));\r\n    setIsOpenAddPackModalPopup(false);\r\n  };\r\n\r\n  const onModifyPackHandler = () => {\r\n    dispatch(updatePackTC(updatePackId, currentPackName));\r\n    setIsOpenModifyPackModalPopup(false);\r\n  };\r\n\r\n  const onDeleteHandler = (id: string) => {\r\n    dispatch(deletePackTC(id));\r\n  };\r\n\r\n  const onLearningHandler = (id: string) => {\r\n    history.push('/learn/' + id);\r\n  };\r\n\r\n  const onOpenHandler = (id: string) => {\r\n    history.push('/сards/' + id);\r\n  };\r\n\r\n  const onUpdateHandler = (id: string) => {\r\n    let cardPack: PackType = cardPacks.find((el: PackType) => el._id === id);\r\n    setCurrentPackName(cardPack.name);\r\n  };\r\n\r\n  const handleModifyPackModalPopupOpen = (id: string) => {\r\n    setUpdatePackId(id);\r\n    setIsOpenModifyPackModalPopup(true);\r\n    onUpdateHandler(id);\r\n  };\r\n\r\n  const handleModifyPackModalPopupClose = () => {\r\n    setIsOpenModifyPackModalPopup(false);\r\n  };\r\n\r\n  const handleModifyPopupOpen = () => {\r\n    setIsOpenAddPackModalPopup(true);\r\n  };\r\n\r\n  const handleModifyPopupClose = () => {\r\n    setIsOpenAddPackModalPopup(false);\r\n  };\r\n\r\n  const tableCell = [{name: 'Name', align: 'inherit'}, {name: 'Card Count', align: 'center'}, {\r\n    name: 'To learn',\r\n    align: 'center'\r\n  }, {name: 'Open', align: 'right'}, {name: 'Delete', align: 'center'}, {\r\n    name: 'Modify',\r\n    align: 'left'\r\n  }, {name: 'Updated', align: 'right'},];\r\n\r\n  const randomColor = useCallback(() => {\r\n    let color = 'rgb(' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ')';\r\n    return color;\r\n  }, []);\r\n\r\n  if (isAuth) {\r\n    return (<div>\r\n      <TableContainer component={Paper}>\r\n        <Grid\r\n          style={{marginTop: theme.spacing(2)}}\r\n          container\r\n          direction=\"row\"\r\n          justify=\"space-between\"\r\n          alignItems=\"center\"\r\n        >\r\n          <Grid item xs={5}>\r\n            <Typography className={classes.margin} variant=\"h3\">Packs</Typography>\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <RangeSlider maxRange={20} minRange={0}/>\r\n          </Grid>\r\n          <Grid item xs={3}>\r\n            <Button\r\n              onClick={() => handleModifyPopupOpen()}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.button}\r\n              startIcon={<AddBoxIcon/>}\r\n            >\r\n              ADD PACK\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <TableData heading={tableCell}>\r\n          {cardPacks.map((row: PackType) => (<TableRow key={row._id}>\r\n            <TableCell className={classes.distance} component=\"th\" scope=\"row\">\r\n              {row.name}\r\n            </TableCell>\r\n            <TableCell align=\"center\">{row.cardsCount}</TableCell>\r\n            <TableCell align=\"center\">\r\n              <IconButton style={{color: randomColor()}}\r\n                          onClick={() => onLearningHandler(row._id)}\r\n                          className={classes.padding} aria-label=\"learn\">\r\n                <SchoolIcon fontSize=\"small\"/>\r\n              </IconButton>\r\n            </TableCell>\r\n            <TableCell align=\"right\">\r\n              <IconButton style={{color: randomColor()}}\r\n                          onClick={() => onOpenHandler(row._id)}\r\n                          className={classes.padding} aria-label=\"add\">\r\n                <AddBoxIcon fontSize=\"small\"/>\r\n              </IconButton>\r\n            </TableCell>\r\n            <TableCell align=\"center\">\r\n              <IconButton style={{color: userEmail !== row.user_name ? '#303030' : randomColor()}}\r\n                          disabled={userEmail !== row.user_name}\r\n                          className={classes.padding} aria-label=\"delete\"\r\n                          onClick={() => onDeleteHandler(row._id)}>\r\n                <DeleteIcon fontSize=\"small\"/>\r\n              </IconButton>\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              {/*Modify Button*/}\r\n              <IconButton style={{color: userEmail !== row.user_name ? '#303030' : randomColor()}}\r\n                          disabled={userEmail !== row.user_name}\r\n                          onClick={() => handleModifyPackModalPopupOpen(row._id)}\r\n                          className={classes.padding} aria-label=\"modify\">\r\n                <AutorenewIcon fontSize=\"small\"/>\r\n              </IconButton>\r\n            </TableCell>\r\n            <TableCell align=\"right\">{row.updated.slice(0, -14)}</TableCell>\r\n          </TableRow>))}\r\n        </TableData>\r\n      </TableContainer>\r\n      <Pagination count={cardPacksTotalCount} page={page - 1}\r\n                  rowsPerPageOptions={[4, 10, 20]} onChangePage={onChangePage}\r\n                  rowsPerPage={pageCount} onChangeRowsPerPage={onChangeRowLength}/>\r\n      <ModalWindow handleClose={handleModifyPopupClose} isOpen={isOpenAddPackModalPopup}\r\n                   title={'Add' + ' new pack'}>\r\n\r\n        <form onSubmit={onAddNewPackHandler}>\r\n          <Grid container spacing={2}>\r\n            <InputField value={newName}\r\n                        type={'text'} label={'Set new name'}\r\n                        onChange={setNewName}/>\r\n            <FormButton name={'Send'}/>\r\n          </Grid>\r\n        </form>\r\n      </ModalWindow>\r\n      <ModalWindow handleClose={handleModifyPackModalPopupClose} isOpen={isOpenModifyPackModalPopup}\r\n                   title={'Modify' + ' pack name'}>\r\n        <form onSubmit={onModifyPackHandler}>\r\n          <Grid container spacing={2}>\r\n            <InputField\r\n              value={currentPackName}\r\n              type={'text'} label={'Set new pack name'}\r\n              onChange={setCurrentPackName}\r\n            />\r\n            <FormButton name={'Send updated pack name'}/>\r\n          </Grid>\r\n        </form>\r\n      </ModalWindow>\r\n    </div>);\r\n  }\r\n\r\n  if (isInitialized) {\r\n    return <Redirect to={'/packs'}/>;\r\n  }\r\n  return <Redirect to={'/login'}/>;\r\n\r\n\r\n});\r\nexport default Packs;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%', // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\n const WrongPage = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h1\">\r\n\t\t\t\t\t404\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\r\n\t\t\t\t\tThis page doesnt exist\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<NavLink to={'/profile'}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tGo back\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default WrongPage\r\n\r\n","import {Dispatch} from 'redux';\r\nimport {mainContent} from '../api/api';\r\nimport {AppRootStateType} from './redux-store';\r\n\r\nexport type StateType = {\r\n  cards: CardType[],\r\n  cardsTotalCount: number\r\n  maxGrade: number\r\n  minGrade: number\r\n  page: number\r\n  pageCount: number\r\n  id: string\r\n};\r\n\r\nexport type CardType = {\r\n  answer: string\r\n  question: string\r\n  cardsPack_id: string\r\n  grade: number\r\n  rating: number\r\n  shots: number\r\n  type: string\r\n  created: string\r\n  updated: string\r\n  __v?: number\r\n  _id: string,\r\n  more_id?: string\r\n}\r\n\r\nlet initialState: StateType = {\r\n  cards: [],\r\n  cardsTotalCount: 0,\r\n  maxGrade: 0,\r\n  minGrade: 0,\r\n  page: 1,\r\n  pageCount: 4,\r\n  id: ''\r\n};\r\n\r\nexport const cardsReducer = (state: StateType = initialState,\r\n                             action: ActionTypes) => {\r\n  switch (action.type) {\r\n    case 'cards/SET_CARDS':\r\n      return {\r\n        ...state, ...action.data, id: action.id\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setCards = (data: StateType, id: string) => ({\r\n  type: 'cards/SET_CARDS',\r\n  data,\r\n  id\r\n})\r\n\r\ntype ActionTypes =\r\n  ReturnType<typeof setCards>\r\n\r\nexport const getCardsTC = (id: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {page, pageCount} = getState().cardsReducer;\r\n  mainContent.getCards(id, page, pageCount).then(\r\n    res => {\r\n      dispatch(setCards(res.data, id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const getNewPageTC = (page: number, row: number) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.getCards(id, page, row).then(\r\n    res => {\r\n      dispatch(setCards(res.data, id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const addNewCardTC = (question:string,answer:string) => (dispatch: Dispatch<any>,getState: () => AppRootStateType) => {\r\n\tconst {id} = getState().cardsReducer;\r\n\tmainContent.addNewCard(id, question, answer).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const sendGradeTC = (cardId:string,grade:number) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n\tconst {id} = getState().cardsReducer;\r\n\tmainContent.sendCardGrade(cardId, grade).then(\r\n\t\tres => {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\t\t}\r\n\t).catch(error => {\r\n\t\tconsole.log(error.response.data.error)\r\n\t});\r\n};\r\n\r\nexport const deleteCardTC = (cardId: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.deleteCard(cardId).then(\r\n    res => {\r\n      dispatch(getCardsTC(id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};\r\n\r\nexport const updateCardTC = (cardId: string, currentQuestion: string, currentAnswer: string) => (dispatch: Dispatch<any>, getState: () => AppRootStateType) => {\r\n  const {id} = getState().cardsReducer;\r\n  mainContent.updateCard(cardId, currentQuestion, currentAnswer).then(\r\n    res => {\r\n      dispatch(getCardsTC(id));\r\n    }\r\n  ).catch(error => {\r\n    console.log(error.response.data.error)\r\n  });\r\n};","import React, {useCallback, useState} from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {Button, Grid, IconButton, Typography} from '@material-ui/core';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport ModalWindow from '../../../common/Modal';\r\nimport InputField from '../../../common/InputField';\r\nimport FormButton from '../../../common/FormBtn';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport {createMuiTheme, makeStyles} from '@material-ui/core/styles';\r\nimport TableData from '../../../common/Table';\r\nimport {CardType, deleteCardTC, getNewPageTC, addNewCardTC, updateCardTC} from '../../../redux/cards-reducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Pagination from '../../../common/Pagination';\r\nimport {Redirect, useHistory} from 'react-router-dom';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport SchoolIcon from '@material-ui/icons/School';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\tpadding: {\r\n\t\tpadding: 0\r\n\t}, button: {\r\n\t\twidth: '250px', alignContent: 'center',\r\n\t}, margin: {\r\n\t\tmarginLeft: theme.spacing(5),\r\n\t}, distance: {\r\n\t\twidth: '150px'\r\n\t},\r\n});\r\n\r\nconst Cards = () => {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst state = useSelector<AppRootStateType, any>(state => state.cardsReducer);\r\n\tconst {isAuth, userProfile} = useSelector<AppRootStateType, any>(state => state.login);\r\n\tconst {cards, cardsTotalCount, page, pageCount, id} = state;\r\n\tconst cardPacks = useSelector<AppRootStateType, any>(state => state.packsReducer.cardPacks);\r\n\r\n  const [localPage, setlocalPage] = useState(1);\r\n  const [localRow, setlocalRow] = useState(4);\r\n  const [question, setQuestion] = useState('');\r\n  const [answer, setAnswer] = useState('');\r\n  const [currentQuestion, setCurrentQuestion] = useState('');\r\n  const [currentAnswer, setCurrentAnswer] = useState('');\r\n  const [isOpenAddCardModalPopup, setIsOpenAddCardModalPopup] = useState(false);\r\n  const [isOpenModifyCardModalPopup, setIsOpenModifyCardModalPopup] = useState(false);\r\n  const [updateCardId, setUpdateCardId] = useState('');\r\n  const [showBtn, setShowBtn] = useState(true);\r\n\r\n  // if (cardPacks.length) {\r\n  // \tconst userEmail = userProfile.email;\r\n  // \tlet findPack = cardPacks.find((elem: any) => elem._id === id);\r\n  // \tif (findPack) {\r\n  // \t\tfindPack.user_name === userEmail ? setShowBtn(true) : setShowBtn(false);\r\n  // \t}\r\n  // }\r\n\r\n  const handleDialogOpen = () => {\r\n    setIsOpenAddCardModalPopup(true);\r\n  };\r\n\r\n  const handleDialogClose = () => {\r\n    setIsOpenAddCardModalPopup(false);\r\n  };\r\n\r\n  const onAddNewPackHandler = () => {\r\n    dispatch(addNewCardTC(question, answer));\r\n    setIsOpenAddCardModalPopup(false);\r\n  };\r\n  let history = useHistory();\r\n\r\n  const onLearnHandler = () => {\r\n    history.push(\"/learn\");\r\n  };\r\n\r\n  const onDeleteHandler = (id: string) => {\r\n    dispatch(deleteCardTC(id));\r\n  };\r\n\r\n  const onUpdateHandler = (id: string) => {\r\n    const card: CardType = cards.find((el: CardType) => el._id === id);\r\n    setCurrentQuestion(card.question);\r\n    setCurrentAnswer(card.answer);\r\n  };\r\n\r\n  const onModifyCardHandler = () => {\r\n    dispatch(updateCardTC(updateCardId, currentQuestion, currentAnswer));\r\n    setIsOpenModifyCardModalPopup(false);\r\n  };\r\n\r\n  const handleModifyCardModalPopupOpen = (id: string) => {\r\n    setUpdateCardId(id);\r\n    setIsOpenModifyCardModalPopup(true);\r\n    onUpdateHandler(id);\r\n  };\r\n\r\n  const handleModifyCardModalPopupClose = () => {\r\n    setIsOpenModifyCardModalPopup(false);\r\n  };\r\n\r\n\tconst onChangePage = (newPage: number) => {\r\n\t\tsetlocalPage(newPage + 1);\r\n\t\tdispatch(getNewPageTC(newPage + 1, localRow));\r\n\t};\r\n\tconst onChangeRowLength = (row: number) => {\r\n\t\tsetlocalRow(row);\r\n\t\tdispatch(getNewPageTC(localPage, row));\r\n\t};\r\n\r\n  const tableCell = [\r\n    {name: 'Question', align: 'inherit'},\r\n    {name: 'Answer', align: 'center'},\r\n    {name: 'Grade', align: 'center'},\r\n    {name: 'Delete', align: 'center'},\r\n    {name: 'Modify', align: 'left'},\r\n    {name: 'Updated', align: 'right'},\r\n  ];\r\n\r\n  const randomColor = useCallback(() => {\r\n    let color = 'rgb(' + Math.round(Math.random() * 255)\r\n      + ',' + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 255) + ')';\r\n    return color;\r\n  }, []);\r\n\r\n  if (isAuth) {\r\n    return (\r\n      <div>\r\n        <TableContainer component={Paper}>\r\n          <Grid\r\n            style={{marginTop: theme.spacing(2)}}\r\n            container\r\n            direction=\"row\"\r\n            justify=\"space-between\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item xs={7}>\r\n              <Typography className={classes.margin} variant=\"h3\">Cards</Typography>\r\n            </Grid>\r\n            {showBtn ? <Grid item xs={2}>\r\n              <Button\r\n                onClick={() => handleDialogOpen()}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<AddBoxIcon/>}\r\n              >\r\n                ADD CARD\r\n              </Button>\r\n            </Grid> : null}\r\n\r\n            <Grid item xs={2}>\r\n              <Button\r\n                onClick={onLearnHandler}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                startIcon={<SchoolIcon/>}\r\n              >\r\n                To learn\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <TableData heading={tableCell}>\r\n            {cards.map((row: CardType) => (\r\n              <TableRow key={row._id}>\r\n                <TableCell className={classes.distance} component=\"th\" scope=\"row\">\r\n                  {row.question}\r\n                </TableCell>\r\n                <TableCell align=\"center\">{row.answer}</TableCell>\r\n                <TableCell align=\"center\">{row.grade}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <IconButton style={{color: randomColor()}}\r\n                              className={classes.padding} aria-label=\"delete\"\r\n                    onClick={() => onDeleteHandler(row._id)}>\r\n                    <DeleteIcon fontSize=\"small\"/>\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell align=\"left\">\r\n                  <IconButton style={{color: randomColor()}}\r\n                              className={classes.padding} aria-label=\"modify\"\r\n                              onClick={() => handleModifyCardModalPopupOpen(row._id)}>\r\n                    <AutorenewIcon fontSize=\"small\"/>\r\n                  </IconButton>\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.updated.slice(0, -14)}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableData>\r\n\r\n        </TableContainer>\r\n        <Pagination count={cardsTotalCount} page={page - 1}\r\n                    rowsPerPageOptions={[4, 10, 20]} onChangePage={onChangePage}\r\n                    rowsPerPage={pageCount} onChangeRowsPerPage={onChangeRowLength}/>\r\n        <ModalWindow handleClose={() => handleDialogClose()} isOpen={isOpenAddCardModalPopup} title={'Add' +\r\n        ' new card'}>\r\n          <form onSubmit={() => onAddNewPackHandler()}>\r\n            <Grid container spacing={2}>\r\n              <InputField value={question}\r\n                          type={'text'} label={'Enter question'}\r\n                          onChange={setQuestion}/>\r\n              <InputField value={answer}\r\n                          type={'text'} label={'Enter answer'}\r\n                          onChange={setAnswer}/>\r\n              <FormButton name={'Send'}/>\r\n            </Grid>\r\n          </form>\r\n        </ModalWindow>\r\n        <ModalWindow handleClose={handleModifyCardModalPopupClose} isOpen={isOpenModifyCardModalPopup} title={'Modify' +\r\n        ' card QA'}>\r\n          <form onSubmit={onModifyCardHandler}>\r\n            <Grid container spacing={2}>\r\n              <InputField\r\n                value={currentQuestion}\r\n                type={'text'} label={'Set new question'}\r\n                onChange={setCurrentQuestion}\r\n              />\r\n              <InputField\r\n                value={currentAnswer}\r\n                type={'text'} label={'Set new answer'}\r\n                onChange={setCurrentAnswer}\r\n              />\r\n              <FormButton name={'Send updated card QA'}/>\r\n            </Grid>\r\n          </form>\r\n        </ModalWindow>\r\n      </div>);\r\n  }\r\n  return <Redirect to={'/login'}/>;\r\n};\r\n\r\nexport default Cards;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {CardType, getCardsTC, sendGradeTC} from '../../../redux/cards-reducer';\r\nimport s from './Learn.module.scss';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Button, createMuiTheme} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {AppRootStateType} from \"../../../redux/redux-store\";\r\nimport ReactCardFlip from \"react-card-flip\";\r\n// @ts-ignore\r\nimport Zoom from 'react-reveal/Zoom';\r\n\r\nconst theme = createMuiTheme();\r\ntheme.spacing(2);\r\n\r\nconst useStyles = makeStyles({\r\n\tpadding: {\r\n\t\tpadding: 0\r\n\t}, buttonControl: {\r\n\t\twidth: '300px',\r\n\t\theight: '40px',\r\n\t\talignContent: 'center',\r\n\t\tborderRadius: '10px',\r\n\t\tbackground: '#2c3258',\r\n\t\tborder: '1px solid #e4b61a',\r\n\t\tmargin: '40px',\r\n\t\tcolor: '#e4b61a'\r\n\t}, buttonGrade: {\r\n\t\tcolor: '#e4b61a',\r\n\t\tmargin: '8px',\r\n\t\tborderColor: '#e4b61a',\r\n\t\ttextDecoration: 'none',\r\n\t\tpadding: '3px 9px',\r\n\t\tfontSize: '0.8125rem',\r\n\t\tborder: '1px solid #e4b61a'\r\n\t}, margin: {\r\n\t\tmarginLeft: theme.spacing(5),\r\n\t}, card: {\r\n\t\twidth: '300px',\r\n\t\theight: '400px',\r\n\t\tmargin: '40px',\r\n\t\tborder: '1px solid #e4b61a',\r\n\t\tborderRadius: '34px',\r\n\t\ttransformStyle: 'preserve-3d',\r\n\t\tposition: 'relative',\r\n\t\tbackground: 'white',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center'\r\n\t}\r\n});\r\n\r\ntype PropsType = {}\r\n\r\nconst grades = ['не знал', 'забыл', 'долго думал', 'перепутал', 'знал'];\r\n\r\nconst getCard = (cards: CardType[]) => {\r\n\tconst sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\r\n\tconst rand = Math.random() * sum;\r\n\tconst res = cards.reduce((acc: { sum: number, id: number }, card, i) => {\r\n\t\tconst newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n\t\treturn {sum: newSum, id: newSum < rand ? i : acc.id};\r\n\t}, {sum: 0, id: -1});\r\n\treturn cards[res.id + 1];\r\n};\r\n\r\n\r\nconst Learn = (props: PropsType) => {\r\n\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n\r\n    const [isChecked, setIsChecked] = useState<boolean>(true);\r\n    const [isDisabled, setIsDisabled] = useState<boolean>(false);\r\n    const [isFlipped, setIsFlipped] = useState<boolean>(false);\r\n    const [first, setFirst] = useState<boolean>(true);\r\n    // const [first, setFirst] = useState<boolean>(0);\r\n    const {cards} = useSelector((store: AppRootStateType) => store.cardsReducer);\r\n    const {id} = useParams();\r\n\r\n    const [card, setCard] = useState<CardType>({\r\n        _id: 'fake',\r\n        cardsPack_id: '',\r\n\r\n        answer: 'answer fake',\r\n        question: 'question fake',\r\n        grade: 1,\r\n        shots: 0,\r\n\r\n        type: '',\r\n        rating: 0,\r\n        more_id: '',\r\n\r\n        created: '',\r\n        updated: '',\r\n    });\r\n\r\n\tuseEffect(() => {\r\n\t\tif (first) {\r\n\t\t\tdispatch(getCardsTC(id));\r\n\t\t\tsetFirst(false);\r\n\t\t}\r\n\t\tif (cards.length > 0) setCard(getCard(cards));\r\n\t\treturn () => {\r\n\t\t};\r\n\t}, [dispatch, id, cards, first]);\r\n\r\n\tconst onNext = () => {\r\n\t\tsetIsChecked(true);\r\n\t\tsetIsDisabled(false)\r\n\t\tif (cards.length > 0) {\r\n\t\t\tsetCard(getCard(cards));\r\n\t\t} else {\r\n\r\n        }\r\n    }\r\n    const onClickHandlerEnable = () => {\r\n        setIsFlipped(true)\r\n    }\r\n    const onClickHandlerDisable = () => {\r\n        setIsFlipped(false)\r\n    }\r\n\r\n\tconst onGradeHandler = (i: number) => {\r\n\t\tdispatch(sendGradeTC(card._id, i + 1));\r\n\t\tsetIsDisabled(true)\r\n\t};\r\n\r\n\r\n    return (\r\n        <div className={s.cards_wrapper}>\r\n            {isChecked ? (\r\n                <>\r\n                <Zoom left>\r\n                    <div className={s.card_container}>\r\n                        <ReactCardFlip isFlipped={isFlipped} flipDirection=\"horizontal\">\r\n                            <div className={`${classes.card} ${s.card}`} onClick={onClickHandlerEnable}>\r\n                                <h2 className={s.title}>{card.question}</h2>\r\n                            </div>\r\n                            <div className={classes.card} onClick={onClickHandlerDisable}>\r\n                                <h2 className={s.title}>{card.answer}</h2>\r\n                            </div>\r\n                        </ReactCardFlip>\r\n                    </div>\r\n                    </Zoom>\r\n                    <div>\r\n                        <Button onClick={() => setIsChecked(false)} className={classes.buttonControl}>check</Button>\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <div>\r\n                        <div className={`${classes.card} ${s.card}`}>\r\n\t\t\t\t\t\t\t<h2 className={s.title}>{card.answer}</h2>\r\n                        </div>\r\n                        {grades.map((g, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button key={'grade-' + i} onClick={() => onGradeHandler(i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonGrade} disabled={isDisabled}>{g}</Button>\r\n                        ))}\r\n                        <div><Button onClick={onNext} className={classes.buttonControl}>next</Button></div>\r\n                    </div>\r\n                </>\r\n            )\r\n            }\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default Learn;","import {Dispatch} from \"redux\"\r\nimport {authAPI} from \"../api/api\";\r\nimport {loginAC} from './login-reducer';\r\n\r\n\r\nconst initialState: InitialStateType = {\r\n  isInitialized: false,\r\n}\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n  switch (action.type) {\r\n    // case 'APP/SET-STATUS':\r\n    //     return {...state, status: action.status}\r\n    // case 'APP/SET-ERROR':\r\n    //     return {...state, error: action.error}\r\n    case \"APP/INITIALIZE-APP\":\r\n      return {...state, isInitialized: action.isInitialized}\r\n    default:\r\n      return {...state}\r\n  }\r\n}\r\n\r\n\r\nexport const initializeAppAC = (isInitialized: boolean) => ({type: 'APP/INITIALIZE-APP', isInitialized} as const)\r\n\r\n\r\nexport const initializeAppTC = () => async (dispatch: Dispatch) => {\r\n  try {\r\n    const res = await authAPI.me()\r\n    dispatch(initializeAppAC(true))\r\n    dispatch(loginAC(res))\r\n  } catch (e) {\r\n    dispatch(initializeAppAC(true))\r\n    console.log(e.response.data.error)\r\n  }\r\n}\r\n\r\nexport type InitialStateType = {\r\n  isInitialized: boolean\r\n}\r\n\r\nexport type InitializeAppActionType = ReturnType<typeof initializeAppAC>\r\n\r\n\r\ntype ActionsType = | InitializeAppActionType\r\n","import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport {LoginPage} from './components/auth/Login/LoginPage';\r\nimport {RegisterContainer} from './components/auth/Register/RegisterContainer';\r\nimport {PasswordRecovery} from './components/auth/PasswordRecovery/PasswordRecovery';\r\nimport {PasswordCreation} from './components/auth/PasswordCreation/PasswordCreation';\r\nimport {Profile} from \"./components/Profile/Profile\";\r\nimport Packs from './components/Main-content/Packs/Packs';\r\nimport WrongPage from './components/WrongPage';\r\nimport Cards from './components/Main-content/Cards/Cards';\r\nimport Learn from \"./components/Main-content/Learn/Learn\";\r\nimport {initializeAppTC} from './redux/app-reducer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppRootStateType} from './redux/redux-store';\r\nimport {CircularProgress} from '@material-ui/core';\r\n\r\nfunction App() {\r\n\r\n  const isInitialized = useSelector<AppRootStateType, boolean>((state) => state.app.isInitialized);\r\n\r\n  const dispatch = useDispatch();\r\n  console.log('befor isInitialized ', isInitialized)\r\n  useEffect(() => {\r\n    dispatch(initializeAppTC())\r\n  }, [])\r\n  console.log('after isInitialized ', isInitialized)\r\n\r\n  if (!isInitialized) {\r\n    return <div\r\n      style={{position: 'fixed', top: '30%', textAlign: 'center', width: '100%'}}>\r\n      <CircularProgress/>\r\n    </div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header>\r\n        <Navbar/>\r\n      </header>\r\n      <Switch>\r\n        <Route path={'/profile/:userId?'}\r\n               render={() => <Profile/>}/>\r\n        <Route path={'/login'}\r\n               render={() => <LoginPage/>}/>\r\n        <Route path={'/register'}\r\n               render={() => <RegisterContainer/>}/>\r\n        <Route path={'/passwordRecovery'}\r\n               render={() => <PasswordRecovery/>}/>\r\n        <Route path={'/set-new-password/:token?'}\r\n               render={() => <PasswordCreation/>}/>\r\n        <Route path={'/packs'}\r\n               render={() => <Packs/>}/>\r\n        <Route path={'/сards/:id'}\r\n               render={() => <Cards/>}/>\r\n        <Route path={'/learn/:id'}\r\n               render={() => <Learn/>}/>\r\n        <Route path={'*'}\r\n               render={() => <WrongPage/>}/>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {registerReducer} from \"./register-reducer\";\r\nimport passwordRecoveryReducer from './passwordRecovery-reducer';\r\nimport pssawordCreationReducer from './pssawordCreation-reducer';\r\nimport {loginReducer} from './login-reducer';\r\nimport {packsReducer} from \"./packs-reducer\";\r\nimport {cardsReducer} from \"./cards-reducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\ndebugger\r\n\r\nconsole.log(' registerReducer', registerReducer );\r\nconsole.log(' passwordRecoveryReducer', passwordRecoveryReducer );\r\nconsole.log(' pssawordCreationReducer', pssawordCreationReducer );\r\nconsole.log(' loginReducer', loginReducer );\r\nconsole.log(' packsReducer', packsReducer );\r\nconsole.log(' cardsReducer', cardsReducer );\r\nconsole.log(' appReducer', appReducer );\r\ndebugger\r\nconst reducers = combineReducers({\r\n  login: loginReducer,\r\n  register: registerReducer,\r\n  pwRecoveryRequest: passwordRecoveryReducer,\r\n  passwordUpdate: pssawordCreationReducer,\r\n  packsReducer,\r\n  cardsReducer,\r\n  app: appReducer,\r\n});\r\n\r\nexport const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport type AppRootStateType = ReturnType<typeof reducers>\r\n\r\n// @ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from 'react-redux';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport App from './App';\r\nimport {store} from './redux/redux-store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </HashRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards_wrapper\":\"Learn_cards_wrapper__3oG6C\"};"],"sourceRoot":""}