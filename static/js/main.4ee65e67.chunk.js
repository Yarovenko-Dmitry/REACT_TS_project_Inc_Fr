(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{129:function(e,t,a){e.exports=a(159)},134:function(e,t,a){},138:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(7),c=a.n(s);a(134),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(17),i=a(30),l=(a(138),a(31)),u=a.n(l),m=function(){return n.a.createElement("nav",null,n.a.createElement(i.b,{to:"/profile",className:u.a.btn,activeClassName:u.a.active},"profile"),n.a.createElement(i.b,{to:"/login",className:u.a.btn,activeClassName:u.a.active},"login"),n.a.createElement(i.b,{to:"/register",className:u.a.btn,activeClassName:u.a.active},"registration"),n.a.createElement(i.b,{to:"/passwordRecovery",className:u.a.btn,activeClassName:u.a.active},"recovery"),n.a.createElement(i.b,{to:"/set-new-password",className:u.a.btn,activeClassName:u.a.active},"create a new pw"))},d=a(10),p=function(){return n.a.createElement("div",null,"ProfileContainer")},E=a(20),w=function(){return n.a.createElement("div",null,"LoginPage",n.a.createElement(v,null))},b=function(e){var t={};e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required"},v=function(){return n.a.createElement("div",null,n.a.createElement(E.d,{initialValues:{email:"",password:""},validate:b,onSubmit:function(e,t){t.setSubmitting}},(function(e){var t=e.isSubmitting;return n.a.createElement(E.c,null,n.a.createElement(E.b,{type:"email",name:"email",placeholder:"email"}),n.a.createElement(E.a,{name:"email",component:"div"}),n.a.createElement(E.b,{type:"password",name:"password",placeholder:"password"}),n.a.createElement(E.a,{name:"password",component:"div"}),n.a.createElement("button",{type:"submit",disabled:t},"Submit"))})))},f=a(188),h=a(196),g=a(192),y=a(193),S=a(194),_=a(195),O=a(101),R=a.n(O),j=a(117),N=a(26),C=a(118),T=a.n(C).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),k=function(e){return T.post("/auth/forgot/",{email:e,from:"password-reset-server <noreply@noreply.it>",message:"\n\t\t\t\t\t<div style=\"background-color: lime; padding: 15px\">\n\t\t\t\t\tpassword recovery link: \n\t\t\t\t\t<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t"})},q=function(e,t){return T.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},P=function(e){return T.post("/auth/register",Object(N.a)({},e))},I={isRegistered:!1},U=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.register.isRegistered})),a=Object(E.e)({validate:function(e){},initialValues:{email:"",password:""},onSubmit:function(t){var a;e((a=t,function(){var e=Object(j.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(a);case 3:e.sent,t({type:"register/SET-IS-REGISTERED",value:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}});return t?n.a.createElement(d.a,{to:"/login"}):n.a.createElement(f.a,{container:!0,justify:"center"},n.a.createElement(f.a,{item:!0,xs:4},n.a.createElement("form",{onSubmit:a.handleSubmit},n.a.createElement(h.a,null,n.a.createElement(g.a,null,n.a.createElement("p",null,"Registration")),n.a.createElement(y.a,null,n.a.createElement(S.a,Object.assign({label:"Email",margin:"normal"},a.getFieldProps("email"))),n.a.createElement(S.a,Object.assign({type:"password",label:"Password",margin:"normal"},a.getFieldProps("password"))),n.a.createElement(_.a,{type:"submit",variant:"contained",color:"primary"},"Register"))))))},x=a(56),A=a.n(x),L=a(90),B={error:"",success:!1,loading:!1},D=function(e){return{type:"pwRecovery/SET_ERROR",error:e}},G=function(e){return{type:"pwRecovery/SET_SUCCESS",success:e}},F=function(e){return{type:"pwRecovery/SET_LOADING",loading:e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pwRecovery/SET_ERROR":return Object(N.a)({},e,{error:t.error});case"pwRecovery/SET_SUCCESS":return Object(N.a)({},e,{success:t.success});case"pwRecovery/SET_LOADING":return Object(N.a)({},e,{loading:t.loading});default:return e}},V=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.pwRecoveryRequest.error})),a=Object(o.c)((function(e){return e.pwRecoveryRequest.success})),r=Object(o.c)((function(e){return e.pwRecoveryRequest.loading})),s=Object(E.e)({initialValues:{email:""},onSubmit:function(t){var a=t.email;e(function(e){return function(t){t(F(!0)),k(e).then((function(e){t(G(e.data.success)),t(D("")),t(F(!1))})).catch((function(e){var a=e.response,r=(a.request,Object(L.a)(a,["request"]));return t(G(!1)),t(F(!1)),t(D(r.data.error))}))}}(a.trim()))}});return n.a.createElement("section",null,n.a.createElement("div",{className:A.a.container},n.a.createElement("div",{className:A.a.wrapper},n.a.createElement("div",{className:A.a.form},n.a.createElement("h1",null,"Forgot password?"),n.a.createElement("form",{onSubmit:s.handleSubmit},n.a.createElement("div",{className:A.a.error},t),a&&n.a.createElement("div",{className:A.a.success},"An email with further instructions has been sent to the address provided. Please check your email!"),n.a.createElement("input",Object.assign({type:"email",required:!0,placeholder:"Enter your email"},s.getFieldProps("email"))),n.a.createElement("button",{disabled:r,className:A.a.btn},"Send"))))))},$=a(57),Z=a.n($),W=a(73),z={error:"",success:!1,loading:!1},K=function(e){return{type:"pwCreation/SET_SUCCESS",success:e}},M=function(e){return{type:"pwCreation/SET_LOADING",loading:e}},Y=function(e){return{type:"pwCreation/SET_ERROR",error:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pwCreation/SET_SUCCESS":return Object(N.a)({},e,{success:t.success});case"pwCreation/SET_LOADING":return Object(N.a)({},e,{loading:t.loading});case"pwCreation/SET_ERROR":return Object(N.a)({},e,{error:t.error});default:return e}},Q=W.a().shape({password:W.c().required("This field is required"),changepassword:W.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:W.c().oneOf([W.b("password")],"Both password need to be the same")})}),X=function(){var e=Object(o.c)((function(e){return e.passwordUpdate.error})),t=Object(o.c)((function(e){return e.passwordUpdate.success})),a=Object(o.c)((function(e){return e.passwordUpdate.loading})),r=Object(d.f)().token,s=Object(o.b)(),c=Object(E.e)({initialValues:{password:"",changepassword:""},validationSchema:Q,onSubmit:function(e){var t=e.password;s(function(e,t){return function(a){a(M(!0)),q(e,t).then((function(e){200===e.status&&(a(K(!0)),a(Y("")),a(M(!1)))})).catch((function(e){var t=e.response,r=(t.request,Object(L.a)(t,["request"]));return a(K(!1)),a(M(!1)),a(Y(r.data.error))}))}}(t,r))}});return t?(window.confirm("Your password has been changed!"),n.a.createElement(d.a,{to:"/"})):n.a.createElement("section",null,n.a.createElement("div",{className:Z.a.container},n.a.createElement("div",{className:Z.a.wrapper},n.a.createElement("div",{className:Z.a.form},n.a.createElement("h1",null,"Set new password"),n.a.createElement("form",{onSubmit:c.handleSubmit},n.a.createElement("div",{className:Z.a.error},c.errors.changepassword),n.a.createElement("div",{className:Z.a.error},e),n.a.createElement("span",{className:"error",style:{color:"red"}},c.errors.password),n.a.createElement("input",{placeholder:"Enter new password",required:!0,type:"password",name:"password",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.password}),n.a.createElement("span",{className:"error",style:{color:"red"}},c.errors.password),n.a.createElement("input",{placeholder:"Confirm Password",required:!0,type:"password",name:"changepassword",onBlur:c.handleBlur,onChange:c.handleChange,value:c.values.changepassword}),n.a.createElement("button",{disabled:a||c.errors.changepassword||c.errors.password,className:Z.a.btn},"Send"))))))};var ee=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement(m,null)),n.a.createElement(d.b,{path:"/profile/:userId?",render:function(){return n.a.createElement(p,null)}}),n.a.createElement(d.b,{path:"/login",render:function(){return n.a.createElement(w,null)}}),n.a.createElement(d.b,{path:"/register",render:function(){return n.a.createElement(U,null)}}),n.a.createElement(d.b,{path:"/passwordRecovery",render:function(){return n.a.createElement(V,null)}}),n.a.createElement(d.b,{path:"/set-new-password/:token?",render:function(){return n.a.createElement(X,null)}}))},te=a(70),ae=a(123),re=Object(te.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register/SET-IS-REGISTERED":return Object(N.a)({},e,{isRegistered:t.value});default:return e}},pwRecoveryRequest:J,passwordUpdate:H}),ne=Object(te.d)(re,Object(te.a)(ae.a));window.store=ne,c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,null,n.a.createElement(o.a,{store:ne},n.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={btn:"Navbar_btn__2LLvD",active:"Navbar_active__1q7UT"}},56:function(e,t,a){e.exports={form:"recoveryPage_form__90bKw",btn:"recoveryPage_btn__3mJme",error:"recoveryPage_error__13rTi",success:"recoveryPage_success__2budS"}},57:function(e,t,a){e.exports={form:"passwordCreation_form__2d75P",btn:"passwordCreation_btn__1hty7",error:"passwordCreation_error__2_fJR",success:"passwordCreation_success__3qztO"}}},[[129,1,2]]]);
//# sourceMappingURL=main.4ee65e67.chunk.js.map