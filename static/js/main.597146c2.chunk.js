(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{133:function(e,a,t){},185:function(e,a,t){e.exports=t(218)},190:function(e,a,t){},194:function(e,a,t){},218:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),o=t.n(c);t(190),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(7),l=t(23),s=(t(194),t(255)),u=t(284),d=t(259),m=t(260),p=t(165),g=t(278),f=t(257),b=Object(s.a)((function(e){return Object(u.a)({btn:{margin:e.spacing(1),color:"#e4b61a",borderColor:"#e4b61a",textDecoration:"none"}})})),E=function(e){var a=e.link,t=e.name,n=b();return r.a.createElement(l.b,{to:a,style:{textDecoration:"none"}},r.a.createElement(f.a,{variant:"outlined",className:n.btn,size:"small"},t))},h=Object(s.a)((function(e){return Object(u.a)({marginAutoItem:{margin:"auto"},navbar:{backgroundColor:"#2c3258"},btn:{margin:e.spacing(1),color:"#e4b61a",borderColor:"#e4b61a",textDecoration:"none"}})})),v=function(){var e=h();return r.a.createElement(d.a,{position:"static",className:e.navbar},r.a.createElement(m.a,null,r.a.createElement(p.a,{variant:"h6"},"Cards"),r.a.createElement(g.a,{className:e.marginAutoItem},r.a.createElement(E,{link:"/profile",name:"Profile"}),r.a.createElement(E,{link:"/login",name:"login"}),r.a.createElement(E,{link:"/register",name:"register"}),r.a.createElement(E,{link:"/passwordRecovery",name:"Recovery"}),r.a.createElement(E,{link:"/set-new-password",name:"New password"}),r.a.createElement(E,{link:"/packs",name:"Packs of cards"}),r.a.createElement(E,{link:"/\u0441ards",name:"\u0421ards"}),r.a.createElement(E,{link:"/learn",name:"Learn"}))))},O=t(14),C=t(285),w=t(262),j=t(282),k=t(265),y=t(283),S=t(267),R=t(220),P=t(261),x=t(157),N=t.n(x),_=t(52),T=t(11),A=t(156),I=t.n(A).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),D=function(e,a,t,n){return I.get("cards/pack?page=".concat(e,"&pageCount=").concat(a,"&min=").concat(t,"&max=").concat(n))},q=function(e,a,t,n){return I.get("cards/pack?page=".concat(e,"&pageCount=").concat(a,"&min=").concat(t,"&max=").concat(n))},M=function(e){return I.post("cards/pack",{cardsPack:{name:e}})},L=function(e){return I.delete("cards/pack?id=".concat(e))},G=function(e,a){return I.put("cards/pack",{cardsPack:{_id:e,name:a}})},z=function(e,a,t){return I.get("cards/card?cardsPack_id=".concat(e,"&page=").concat(a,"&pageCount=").concat(t))},U=function(e,a){return I.put("cards/grade",{grade:a,card_id:e})},W=function(e,a,t){return I.post("cards/card",{card:{cardsPack_id:e,question:a,answer:t}})},Z=function(e){return I.delete("cards/card?id=".concat(e))},F=function(e,a,t){return I.put("cards/card",{card:{_id:e,question:a,answer:t}})},Y=function(e){return I.post("auth/forgot/",{email:e,from:"password-reset-server <noreply@noreply.it>",message:"\n\t\t\t\t\t<div style=\"background-color: lime; padding: 15px\">\n\t\t\t\t\tpassword recovery link: \n\t\t\t\t\t<a href='http://localhost:3000/#/set-new-password/$token$'>link</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t"})},B=function(e,a){return I.post("auth/set-new-password",{password:e,resetPasswordToken:a})},$=function(){return I.post("auth/me").then((function(e){return e.data}))},V=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I.post("auth/login",{email:e,password:a,rememberMe:t})},Q=function(){return I.delete("auth/me")},J=function(e){return I.post("auth/register",Object(T.a)({},e))},K={isAuth:!1,userProfile:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:"YYYY-MM-DD",updated:"YYYY-MM-DD",isAdmin:!1,verified:!1,rememberMe:!1,error:""}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"login/SET_USER_DATA":return Object(T.a)({},e,{userProfile:a.data,isAuth:!0});case"login/LOGOUT":return Object(T.a)({},e,{isAuth:!1});default:return e}},X=function(e){return{type:"login/SET_USER_DATA",data:e}},ee=Object(s.a)((function(e){return{submit:{margin:e.spacing(3,0,2),backgroundColor:"#e4b61a","&:hover":{backgroundColor:"#2c3258"}}}})),ae=function(e){var a=e.disable,t=e.name,n=ee();return r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:a},t)},te=Object(s.a)((function(e){return{root:{height:"100vh"},centr:{margin:"0 auto"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ne(){var e=Object(i.c)((function(e){return e.login.isAuth})),a=te(),t=Object(i.b)(),n=Object(_.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?void 0:{email:"Invalid email address"}:{email:"Email is required"}},onSubmit:function(e){var a=e.email,n=e.password,r=e.rememberMe;t(function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){V(e,a,t).then((function(e){n(X(e.data))}))}}(a,n,r))}});return e?r.a.createElement(O.a,{to:"/profile"}):r.a.createElement(P.a,{container:!0,component:"main",className:a.root},r.a.createElement(w.a,null),r.a.createElement(P.a,{item:!0,xs:12,sm:8,md:5,className:a.centr,component:R.a,elevation:6,square:!0},r.a.createElement("div",{className:a.paper},r.a.createElement(C.a,{className:a.avatar},r.a.createElement(N.a,null)),r.a.createElement(p.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{onSubmit:n.handleSubmit,className:a.form,noValidate:!0},r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:n.handleChange,value:n.values.email}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:n.handleChange,value:n.values.password}),r.a.createElement(k.a,{control:r.a.createElement(y.a,{id:"rememberMe",name:"rememberMe",onChange:n.handleChange,value:n.values.rememberMe,color:"primary"}),label:"Remember me"}),r.a.createElement(ae,{name:"Log in"}),r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,xs:!0},r.a.createElement(l.b,{to:"/passwordRecovery"},r.a.createElement(S.a,{variant:"body2"},"Forgot password?"))),r.a.createElement(P.a,{item:!0},r.a.createElement(l.b,{to:"/register"},r.a.createElement(S.a,{variant:"body2"},"Don't have an account? Sign Up"))))))))}var re=t(88),ce=t.n(re),oe=t(114),ie={isRegistered:!1},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"register/SET-IS-REGISTERED":return Object(T.a)({},e,{isRegistered:a.value});default:return e}},se=t(4),ue=Object(se.a)({root:{"& input:valid + fieldset":{borderColor:"green",borderWidth:2},"& input:valid:focus + fieldset":{borderLeftWidth:6,padding:"4px !important"}}})(j.a),de=Object(s.a)((function(e){return{input:{marginBottom:"10px"}}})),me=function(e){var a=e.error,t=void 0!==a&&a,n=e.formik,c=e.type,o=e.label,i=(e.value,e.onChange,de());return r.a.createElement(ue,Object.assign({className:i.input,error:t,helperText:t,label:o,fullWidth:!0,required:!0,variant:"outlined",type:c},n))},pe=t(158),ge=t.n(pe),fe=t(268),be=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#2c3258"},form:{width:"100%",marginTop:e.spacing(3)}}})),Ee=function(e){var a=e.onsubmit,t=e.children,n=e.title;var c=be();return r.a.createElement(fe.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:c.paper},r.a.createElement(C.a,{className:c.avatar},r.a.createElement(ge.a,null)),r.a.createElement(p.a,{component:"h1",variant:"h5"},n),r.a.createElement("form",{className:c.form,onSubmit:function(e){e.preventDefault(),a()}},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(P.a,{item:!0,xs:12},t)))))},he=function(){var e=Object(i.b)(),a=Object(i.c)((function(e){return e.register.isRegistered})),t=Object(i.c)((function(e){return e.pwRecoveryRequest.loading})),n=Object(i.c)((function(e){return e.pwRecoveryRequest.error})),c=(Object(i.c)((function(e){return e.pwRecoveryRequest.success})),Object(_.a)({validate:function(e){return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?void 0:{email:"Invalid email address"}:{email:"Email is required"}},initialValues:{email:"",password:""},onSubmit:function(a){var t;e((t=a,function(){var e=Object(oe.a)(ce.a.mark((function e(a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,J(t);case 4:e.sent,a({type:"register/SET-IS-REGISTERED",value:!0}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()))}}));return a?r.a.createElement(O.a,{to:"/login"}):r.a.createElement(Ee,{onsubmit:c.handleSubmit,title:"Register"},c.errors.email?r.a.createElement("div",null,c.errors.email):null,n?r.a.createElement("div",null,n):null,r.a.createElement(me,{error:!!c.errors.email,formik:Object(T.a)({},c.getFieldProps("email")),type:"email",label:"Enter your email"}),r.a.createElement(me,{error:!!c.errors.password,formik:Object(T.a)({},c.getFieldProps("password")),type:"password",label:"Enter your password"}),r.a.createElement(ae,{name:"Send",disable:t}))},ve=t(120),Oe={error:"",success:!1,loading:!1},Ce=function(e){return{type:"pwRecovery/SET_ERROR",error:e}},we=function(e){return{type:"pwRecovery/SET_SUCCESS",success:e}},je=function(e){return{type:"pwRecovery/SET_LOADING",loading:e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"pwRecovery/SET_ERROR":return Object(T.a)({},e,{error:a.error});case"pwRecovery/SET_SUCCESS":return Object(T.a)({},e,{success:a.success});case"pwRecovery/SET_LOADING":return Object(T.a)({},e,{loading:a.loading});default:return e}},ye=function(){var e=Object(i.b)(),a=Object(_.a)({validateOnBlur:!0,validateOnChange:!1,validate:function(e){return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?void 0:{email:"Invalid email address"}:{email:"Email is required"}},initialValues:{email:""},onSubmit:function(a){var t=a.email;e(function(e){return function(a){a(je(!0)),Y(e).then((function(e){a(we(e.data.success)),a(Ce("")),a(je(!1))})).catch((function(e){var t=e.response,n=(t.request,Object(ve.a)(t,["request"]));return a(we(!1)),a(je(!1)),a(Ce(n.data.error))}))}}(t.trim()))}}),t=Object(i.c)((function(e){return e.pwRecoveryRequest.error})),n=(Object(i.c)((function(e){return e.pwRecoveryRequest.success})),Object(i.c)((function(e){return e.pwRecoveryRequest.loading})));return r.a.createElement(Ee,{onsubmit:a.handleSubmit,title:"Reset password"},a.errors.email?r.a.createElement("div",null,a.errors.email):null,t?r.a.createElement("div",null,t):null,r.a.createElement(me,{error:!!a.errors.email,formik:Object(T.a)({},a.getFieldProps("email")),type:"email",label:"Enter your email"}),r.a.createElement(ae,{name:"Send",disable:n}))},Se=t(89),Re={error:"",success:!1,loading:!1},Pe=function(e){return{type:"pwCreation/SET_SUCCESS",success:e}},xe=function(e){return{type:"pwCreation/SET_LOADING",loading:e}},Ne=function(e){return{type:"pwCreation/SET_ERROR",error:e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"pwCreation/SET_SUCCESS":return Object(T.a)({},e,{success:a.success});case"pwCreation/SET_LOADING":return Object(T.a)({},e,{loading:a.loading});case"pwCreation/SET_ERROR":return Object(T.a)({},e,{error:a.error});default:return e}},Te=function(){var e=Se.a().shape({password:Se.c().required("This field is required"),changepassword:Se.c().when("password",{is:function(e){return!!(e&&e.length>0)},then:Se.c().oneOf([Se.b("password")],"Both password need to be the same")})}),a=Object(O.h)().token,t=Object(i.b)(),n=Object(_.a)({validateOnBlur:!0,validateOnChange:!1,initialValues:{password:"",changepassword:""},validationSchema:e,onSubmit:function(e){var n=e.password;t(function(e,a){return function(t){t(xe(!0)),B(e,a).then((function(e){200===e.status&&(t(Pe(!0)),t(Ne("")),t(xe(!1)))})).catch((function(e){var a=e.response,n=(a.request,Object(ve.a)(a,["request"]));return t(Pe(!1)),t(xe(!1)),t(Ne(n.data.error))}))}}(n,a))}}),c=Object(i.c)((function(e){return e.passwordUpdate.error})),o=Object(i.c)((function(e){return e.passwordUpdate.success})),l=Object(i.c)((function(e){return e.passwordUpdate.loading}));return o?(window.confirm("Your password has been changed!"),r.a.createElement(O.a,{to:"/login"})):r.a.createElement(Ee,{onsubmit:n.handleSubmit,title:"Set new password"},n.errors.password?r.a.createElement("div",null,n.errors.password):null,c?r.a.createElement("div",null,c):null,r.a.createElement(me,{error:!!n.errors.password,formik:Object(T.a)({},n.getFieldProps("password")),type:"password",label:"Enter new password"}),n.errors.changepassword?r.a.createElement("div",null,n.errors.changepassword):null,r.a.createElement(me,{error:!!n.errors.changepassword,formik:Object(T.a)({},n.getFieldProps("changepassword")),type:"password",label:"Confirm new password"}),r.a.createElement(ae,{name:"Send",disable:l}))},Ae=t(133),Ie=t.n(Ae),De=Object(s.a)((function(e){return{submit:{margin:e.spacing(3,0,2),backgroundColor:"#e4b61a","&:hover":{backgroundColor:"#2c3258"}}}})),qe=function(){var e=Object(i.c)((function(e){return e.login.isAuth})),a=Object(i.c)((function(e){return e.login.userProfile})),t=a.email,n=a.name,c=a.avatar,o=a.publicCardPacksCount,l=a.created,s=Object(i.b)(),u=De();if(!e)return r.a.createElement(O.a,{to:"/login"});return r.a.createElement("div",{className:Ie.a.profileBlock},r.a.createElement("div",{className:Ie.a.profileHeader},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,"Profile ",n),r.a.createElement("div",null,"Profile email ",t),r.a.createElement("div",null,"Profile avatar ",c),r.a.createElement("div",null,"Profile publicCardPacksCount ",o),r.a.createElement("div",null,"Profile created ",l),r.a.createElement("button",{type:"submit",onClick:function(){s((function(e){Q().then((function(a){"logOut success \u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"===a.data.info&&e({type:"login/LOGOUT"})}))}))},className:u.submit},"Log out")),")"))},Me=t(13),Le=t(163),Ge=t(276),ze={cardPacks:[],page:0,pageCount:10,minCardsCount:0,maxCardsCount:20,cardPacksTotalCount:1},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"packs/SET_PACKS":return Object(T.a)({},e,{cardPacks:a.cardsPacks,page:a.page,pageCount:a.pageCount,cardPacksTotalCount:a.cardPacksTotalCount,minCardsCount:a.minCardsCount,maxCardsCount:a.maxCardsCount});case"packs/SET_PAGE":return Object(T.a)({},e,{page:a.page,pageCount:a.pageCount});case"packs/SET_RANGE":return Object(T.a)({},e,{cardPacks:a.cardPacks,page:a.page,pageCount:a.pageCount,cardPacksTotalCount:a.cardPacksTotalCount,minCardsCount:a.minCardsCount,maxCardsCount:a.maxCardsCount});default:return e}},We=function(e,a,t){return{type:"packs/SET_RANGE",cardPacks:e.cardPacks,page:e.page,pageCount:e.pageCount,cardPacksTotalCount:e.cardPacksTotalCount,minCardsCount:a,maxCardsCount:t}},Ze=function(e,a){return function(t,n){var r=n().packsReducer,c=r.minCardsCount,o=r.maxCardsCount;D(e,a,c,o).then((function(e){t(We(e.data,c,o))})).catch((function(e){console.log(e.response.data.error)}))}},Fe=t(266),Ye=t(95),Be=t.n(Ye),$e=t(281),Ve=t(269),Qe=t(221),Je=t(270),Ke=Object(Le.a)(),He=Object(s.a)((function(e){return Object(u.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},button:{width:"250px",alignContent:"center"}})}));function Xe(e){var a=e.isOpen,t=e.handleClose,n=e.title,c=e.children,o=He();function i(){t()}return r.a.createElement("div",null,r.a.createElement($e.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:a,onClose:i,closeAfterTransition:!0,BackdropComponent:Ve.a,BackdropProps:{timeout:500}},r.a.createElement(Qe.a,{in:a},r.a.createElement("div",{className:o.paper},r.a.createElement(Je.a,null,r.a.createElement(f.a,{onClick:function(){return i()},color:"primary"},"Close")),r.a.createElement(p.a,{style:{padding:Ke.spacing(2)},component:"h3",variant:"h3"},n),c))))}var ea=t(287),aa=Object(s.a)({root:{width:"80%",display:"flex",justifyContent:"space-between",alignItems:"center"},button:{width:"100px",alignContent:"center"},slider:{marginRight:"30px"}});function ta(e){var a=e.minRange,t=e.maxRange,n=aa(),c=r.a.useState([a,t]),o=Object(Me.a)(c,2),l=o[0],s=o[1],u=Object(i.b)();return r.a.createElement("div",{className:n.root},r.a.createElement(ea.a,{className:n.slider,value:l,min:a,step:5,max:t,onChange:function(e,a){a&&s(a)},"aria-labelledby":"range-slider",valueLabelDisplay:"on"}),r.a.createElement(f.a,{onClick:function(){var e,a;u((e=l[0],a=l[1],function(t,n){var r=n().packsReducer,c=r.page,o=r.pageCount;q(c,o,e,a).then((function(n){t(We(n.data,e,a))})).catch((function(e){console.log(e.response.data.error)}))}))},variant:"contained",color:"primary",className:n.button},"APPLY"))}var na=t(280);Object(Le.a)().spacing(2);var ra=Object(s.a)({pagination:{display:"flex",justifyContent:"center",marginTop:"20px"}}),ca=function(e){var a=e.count,t=e.page,n=e.rowsPerPageOptions,c=e.onChangePage,o=e.rowsPerPage,i=e.onChangeRowsPerPage,l=ra();return r.a.createElement("div",null,r.a.createElement(na.a,{className:l.pagination,component:"div",count:a,page:t,rowsPerPageOptions:n,onChangePage:function(e,a){c(a)},rowsPerPage:o,onChangeRowsPerPage:function(e){i(+e.target.value)}}))},oa=t(272),ia=t(275),la=t(271),sa=t(273),ua=t(274);Object(Le.a)().spacing(2);var da=Object(s.a)({table:{minWidth:650},heading:{fontWeight:"bold"}}),ma=function(e){var a=e.heading,t=e.children,n=da();return r.a.createElement(oa.a,{className:n.table,"aria-label":"simple table"},r.a.createElement(sa.a,null,r.a.createElement(ua.a,null,a.map((function(e){return r.a.createElement(la.a,{className:n.heading,align:e.align},e.name)})))),r.a.createElement(ia.a,null,t))},pa=t(117),ga=t.n(pa),fa=t(118),ba=t.n(fa),Ea=t(116),ha=t.n(Ea),va=Object(Le.a)(),Oa=Object(s.a)({padding:{padding:0},button:{width:"250px",alignContent:"center"},margin:{marginLeft:va.spacing(5)},distance:{width:"150px"}}),Ca=r.a.memo((function(){var e=Object(O.g)(),a=Oa(),t=Object(n.useState)(1),c=Object(Me.a)(t,2),o=c[0],l=c[1],s=Object(n.useState)(4),u=Object(Me.a)(s,2),d=u[0],m=u[1],g=Object(n.useState)(""),b=Object(Me.a)(g,2),E=b[0],h=b[1],v=Object(n.useState)(""),C=Object(Me.a)(v,2),w=C[0],j=C[1],k=Object(n.useState)(""),y=Object(Me.a)(k,2),S=y[0],x=y[1],N=Object(n.useState)(!1),_=Object(Me.a)(N,2),T=_[0],A=_[1],I=Object(n.useState)(!1),D=Object(Me.a)(I,2),q=D[0],z=D[1],U=Object(i.c)((function(e){return e.app.isInitialized})),W=Object(i.c)((function(e){return e.login.isAuth})),Z=Object(i.c)((function(e){return e.login.userProfile})),F=Object(i.c)((function(e){return e.packsReducer})),Y=F.cardPacks,B=F.page,$=F.pageCount,V=F.cardPacksTotalCount,Q=Object(i.b)(),J=Z.email;Object(n.useEffect)((function(){Q(Ze(o,d))}),[$,B]);var K=function(e){Q(function(e){return function(a,t){var n=t().packsReducer,r=n.page,c=n.pageCount;L(e).then((function(e){a(Ze(r,c))})).catch((function(e){console.log(e.response.data.error)}))}}(e))},H=function(e){x(e),z(!0),function(e){var a=Y.find((function(a){return a._id===e}));j(a.name)}(e)},X=Object(n.useCallback)((function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}),[]);return W?r.a.createElement("div",null,r.a.createElement(Ge.a,{component:R.a},r.a.createElement(P.a,{style:{marginTop:va.spacing(2)},container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(P.a,{item:!0,xs:5},r.a.createElement(p.a,{className:a.margin,variant:"h3"},"Packs")),r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement(ta,{maxRange:20,minRange:0})),r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement(f.a,{onClick:function(){A(!0)},variant:"contained",color:"primary",className:a.button,startIcon:r.a.createElement(Be.a,null)},"ADD PACK"))),r.a.createElement(ma,{heading:[{name:"Name",align:"inherit"},{name:"Card Count",align:"center"},{name:"To learn",align:"center"},{name:"Open",align:"right"},{name:"Delete",align:"center"},{name:"Modify",align:"left"},{name:"Updated",align:"right"}]},Y.map((function(t){return r.a.createElement(ua.a,{key:t._id},r.a.createElement(la.a,{className:a.distance,component:"th",scope:"row"},t.name),r.a.createElement(la.a,{align:"center"},t.cardsCount),r.a.createElement(la.a,{align:"center"},r.a.createElement(Fe.a,{style:{color:X()},onClick:function(){return a=t._id,void e.push("/learn/"+a);var a},className:a.padding,"aria-label":"learn"},r.a.createElement(ha.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"right"},r.a.createElement(Fe.a,{style:{color:X()},onClick:function(){return a=t._id,void e.push("/\u0441ards/"+a);var a},className:a.padding,"aria-label":"add"},r.a.createElement(Be.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"center"},r.a.createElement(Fe.a,{style:{color:J!==t.user_name?"#303030":X()},disabled:J!==t.user_name,className:a.padding,"aria-label":"delete",onClick:function(){return K(t._id)}},r.a.createElement(ga.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"left"},r.a.createElement(Fe.a,{style:{color:J!==t.user_name?"#303030":X()},disabled:J!==t.user_name,onClick:function(){return H(t._id)},className:a.padding,"aria-label":"modify"},r.a.createElement(ba.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"right"},t.updated.slice(0,-14)))})))),r.a.createElement(ca,{count:V,page:B-1,rowsPerPageOptions:[4,10,20],onChangePage:function(e){l(e+1),Q(Ze(e+1,d))},rowsPerPage:$,onChangeRowsPerPage:function(e){m(e),Q(Ze(o,e))}}),r.a.createElement(Xe,{handleClose:function(){A(!1)},isOpen:T,title:"Add new pack"},r.a.createElement("form",{onSubmit:function(){var e;Q((e=E,function(a,t){var n=t().packsReducer,r=n.page,c=n.pageCount;M(e).then((function(e){a(Ze(r,c))})).catch((function(e){console.log(e.response.data.error)}))})),A(!1)}},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(me,{value:E,type:"text",label:"Set new name",onChange:h}),r.a.createElement(ae,{name:"Send"})))),r.a.createElement(Xe,{handleClose:function(){z(!1)},isOpen:q,title:"Modify pack name"},r.a.createElement("form",{onSubmit:function(){var e,a;Q((e=S,a=w,function(t,n){var r=n().packsReducer,c=r.page,o=r.pageCount;G(e,a).then((function(e){t(Ze(c,o))})).catch((function(e){console.log(e.response.data.error)}))})),z(!1)}},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(me,{value:w,type:"text",label:"Set new pack name",onChange:j}),r.a.createElement(ae,{name:"Send updated pack name"}))))):U?r.a.createElement(O.a,{to:"/packs"}):r.a.createElement(O.a,{to:"/login"})})),wa=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),ja=function(){var e=wa();return r.a.createElement(fe.a,{component:"main",maxWidth:"xs"},r.a.createElement(w.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(p.a,{component:"h1",variant:"h1"},"404"),r.a.createElement(p.a,{component:"h1",variant:"h4"},"This page doesnt exist"),r.a.createElement(l.b,{to:"/profile"},r.a.createElement(f.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Go back"))))},ka={cards:[],cardsTotalCount:0,maxGrade:0,minGrade:0,page:1,pageCount:4,id:""},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"cards/SET_CARDS":return Object(T.a)({},e,{},a.data,{id:a.id});default:return e}},Sa=function(e,a){return{type:"cards/SET_CARDS",data:e,id:a}},Ra=function(e){return function(a,t){var n=t().cardsReducer,r=n.page,c=n.pageCount;z(e,r,c).then((function(t){a(Sa(t.data,e))})).catch((function(e){console.log(e.response.data.error)}))}},Pa=function(e,a){return function(t,n){var r=n().cardsReducer.id;z(r,e,a).then((function(e){t(Sa(e.data,r))})).catch((function(e){console.log(e.response.data.error)}))}},xa=Object(Le.a)();xa.spacing(2);var Na=Object(s.a)({padding:{padding:0},button:{width:"250px",alignContent:"center"},margin:{marginLeft:xa.spacing(5)},distance:{width:"150px"}}),_a=function(){var e=Na(),a=Object(i.b)(),t=Object(i.c)((function(e){return e.cardsReducer})),c=Object(i.c)((function(e){return e.login})),o=c.isAuth,l=(c.userProfile,t.cards),s=t.cardsTotalCount,u=t.page,d=t.pageCount,m=(t.id,Object(i.c)((function(e){return e.packsReducer.cardPacks})),Object(n.useState)(1)),g=Object(Me.a)(m,2),b=g[0],E=g[1],h=Object(n.useState)(4),v=Object(Me.a)(h,2),C=v[0],w=v[1],j=Object(n.useState)(""),k=Object(Me.a)(j,2),y=k[0],S=k[1],x=Object(n.useState)(""),N=Object(Me.a)(x,2),_=N[0],T=N[1],A=Object(n.useState)(""),I=Object(Me.a)(A,2),D=I[0],q=I[1],M=Object(n.useState)(""),L=Object(Me.a)(M,2),G=L[0],z=L[1],U=Object(n.useState)(!1),Y=Object(Me.a)(U,2),B=Y[0],$=Y[1],V=Object(n.useState)(!1),Q=Object(Me.a)(V,2),J=Q[0],K=Q[1],H=Object(n.useState)(""),X=Object(Me.a)(H,2),ee=X[0],te=X[1],ne=Object(n.useState)(!0),re=Object(Me.a)(ne,2),ce=re[0],oe=(re[1],function(){a(function(e,a){return function(t,n){var r=n().cardsReducer.id;W(r,e,a).then((function(e){t(Ra(r))})).catch((function(e){console.log(e.response.data.error)}))}}(y,_)),$(!1)}),ie=Object(O.g)(),le=function(e){var t;a((t=e,function(e,a){var n=a().cardsReducer.id;Z(t).then((function(a){e(Ra(n))})).catch((function(e){console.log(e.response.data.error)}))}))},se=function(e){te(e),K(!0),function(e){var a=l.find((function(a){return a._id===e}));q(a.question),z(a.answer)}(e)},ue=Object(n.useCallback)((function(){return"rgb("+Math.round(255*Math.random())+","+Math.round(255*Math.random())+","+Math.round(255*Math.random())+")"}),[]);return o?r.a.createElement("div",null,r.a.createElement(Ge.a,{component:R.a},r.a.createElement(P.a,{style:{marginTop:xa.spacing(2)},container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(P.a,{item:!0,xs:7},r.a.createElement(p.a,{className:e.margin,variant:"h3"},"Cards")),ce?r.a.createElement(P.a,{item:!0,xs:2},r.a.createElement(f.a,{onClick:function(){$(!0)},variant:"contained",color:"primary",className:e.button,startIcon:r.a.createElement(Be.a,null)},"ADD CARD")):null,r.a.createElement(P.a,{item:!0,xs:2},r.a.createElement(f.a,{onClick:function(){ie.push("/learn")},variant:"contained",color:"primary",className:e.button,startIcon:r.a.createElement(ha.a,null)},"To learn"))),r.a.createElement(ma,{heading:[{name:"Question",align:"inherit"},{name:"Answer",align:"center"},{name:"Grade",align:"center"},{name:"Delete",align:"center"},{name:"Modify",align:"left"},{name:"Updated",align:"right"}]},l.map((function(a){return r.a.createElement(ua.a,{key:a._id},r.a.createElement(la.a,{className:e.distance,component:"th",scope:"row"},a.question),r.a.createElement(la.a,{align:"center"},a.answer),r.a.createElement(la.a,{align:"center"},a.grade),r.a.createElement(la.a,{align:"center"},r.a.createElement(Fe.a,{style:{color:ue()},className:e.padding,"aria-label":"delete",onClick:function(){return le(a._id)}},r.a.createElement(ga.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"left"},r.a.createElement(Fe.a,{style:{color:ue()},className:e.padding,"aria-label":"modify",onClick:function(){return se(a._id)}},r.a.createElement(ba.a,{fontSize:"small"}))),r.a.createElement(la.a,{align:"right"},a.updated.slice(0,-14)))})))),r.a.createElement(ca,{count:s,page:u-1,rowsPerPageOptions:[4,10,20],onChangePage:function(e){E(e+1),a(Pa(e+1,C))},rowsPerPage:d,onChangeRowsPerPage:function(e){w(e),a(Pa(b,e))}}),r.a.createElement(Xe,{handleClose:function(){$(!1)},isOpen:B,title:"Add new card"},r.a.createElement("form",{onSubmit:function(){return oe()}},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(me,{value:y,type:"text",label:"Enter question",onChange:S}),r.a.createElement(me,{value:_,type:"text",label:"Enter answer",onChange:T}),r.a.createElement(ae,{name:"Send"})))),r.a.createElement(Xe,{handleClose:function(){K(!1)},isOpen:J,title:"Modify card QA"},r.a.createElement("form",{onSubmit:function(){a(function(e,a,t){return function(n,r){var c=r().cardsReducer.id;F(e,a,t).then((function(e){n(Ra(c))})).catch((function(e){console.log(e.response.data.error)}))}}(ee,D,G)),K(!1)}},r.a.createElement(P.a,{container:!0,spacing:2},r.a.createElement(me,{value:D,type:"text",label:"Set new question",onChange:q}),r.a.createElement(me,{value:G,type:"text",label:"Set new answer",onChange:z}),r.a.createElement(ae,{name:"Send updated card QA"}))))):r.a.createElement(O.a,{to:"/login"})},Ta=t(59),Aa=t.n(Ta),Ia=t(160),Da=t.n(Ia),qa=t(161),Ma=t.n(qa),La=Object(Le.a)();La.spacing(2);var Ga=Object(s.a)({padding:{padding:0},buttonControl:{width:"300px",height:"40px",alignContent:"center",borderRadius:"10px",background:"#2c3258",border:"1px solid #e4b61a",margin:"40px",color:"#e4b61a"},buttonGrade:{color:"#e4b61a",margin:"8px",borderColor:"#e4b61a",textDecoration:"none",padding:"3px 9px",fontSize:"0.8125rem",border:"1px solid #e4b61a"},margin:{marginLeft:La.spacing(5)},card:{width:"300px",height:"400px",margin:"40px",border:"1px solid #e4b61a",borderRadius:"34px",transformStyle:"preserve-3d",position:"relative",background:"white",display:"flex",alignItems:"center",justifyContent:"center"}}),za=["\u043d\u0435 \u0437\u043d\u0430\u043b","\u0437\u0430\u0431\u044b\u043b","\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b","\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b","\u0437\u043d\u0430\u043b"],Ua=function(e){var a=e.reduce((function(e,a){return e+(6-a.grade)*(6-a.grade)}),0),t=Math.random()*a,n=e.reduce((function(e,a,n){var r=e.sum+(6-a.grade)*(6-a.grade);return{sum:r,id:r<t?n:e.id}}),{sum:0,id:-1});return e[n.id+1]},Wa=function(e){var a=Ga(),t=Object(i.b)(),c=Object(n.useState)(!0),o=Object(Me.a)(c,2),l=o[0],s=o[1],u=Object(n.useState)(!1),d=Object(Me.a)(u,2),m=d[0],p=d[1],g=Object(n.useState)(!1),b=Object(Me.a)(g,2),E=b[0],h=b[1],v=Object(n.useState)(!0),C=Object(Me.a)(v,2),w=C[0],j=C[1],k=Object(i.c)((function(e){return e.cardsReducer})).cards,y=Object(O.h)().id,S=Object(n.useState)({_id:"fake",cardsPack_id:"",answer:"answer fake",question:"question fake",grade:1,shots:0,type:"",rating:0,more_id:"",created:"",updated:""}),R=Object(Me.a)(S,2),P=R[0],x=R[1];Object(n.useEffect)((function(){return w&&(t(Ra(y)),j(!1)),k.length>0&&x(Ua(k)),function(){}}),[t,y,k,w]);var N=function(e){var a,n;t((a=P._id,n=e+1,function(e,t){var r=t().cardsReducer.id;U(a,n).then((function(a){e(Ra(r))})).catch((function(e){console.log(e.response.data.error)}))})),p(!0)};return r.a.createElement("div",{className:Aa.a.cards_wrapper},l?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma.a,{left:!0},r.a.createElement("div",{className:Aa.a.card_container},r.a.createElement(Da.a,{isFlipped:E,flipDirection:"horizontal"},r.a.createElement("div",{className:"".concat(a.card," ").concat(Aa.a.card),onClick:function(){h(!0)}},r.a.createElement("h2",{className:Aa.a.title},P.question)),r.a.createElement("div",{className:a.card,onClick:function(){h(!1)}},r.a.createElement("h2",{className:Aa.a.title},P.answer))))),r.a.createElement("div",null,r.a.createElement(f.a,{onClick:function(){return s(!1)},className:a.buttonControl},"check"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(a.card," ").concat(Aa.a.card)},r.a.createElement("h2",{className:Aa.a.title},P.answer)),za.map((function(e,t){return r.a.createElement(f.a,{key:"grade-"+t,onClick:function(){return N(t)},className:a.buttonGrade,disabled:m},e)})),r.a.createElement("div",null,r.a.createElement(f.a,{onClick:function(){s(!0),p(!1),k.length>0&&x(Ua(k))},className:a.buttonControl},"next")))))},Za={isInitialized:!1},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/INITIALIZE-APP":return Object(T.a)({},e,{isInitialized:a.isInitialized});default:return Object(T.a)({},e)}},Ya=function(e){return{type:"APP/INITIALIZE-APP",isInitialized:e}},Ba=t(277);var $a=function(){var e=Object(i.c)((function(e){return e.app.isInitialized})),a=Object(i.b)();return console.log("befor isInitialized ",e),Object(n.useEffect)((function(){a(function(){var e=Object(oe.a)(ce.a.mark((function e(a){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$();case 3:t=e.sent,a(Ya(!0)),a(X(t)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),a(Ya(!0)),console.log(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}())}),[]),console.log("after isInitialized ",e),e?r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(v,null)),r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(qe,null)}}),r.a.createElement(O.b,{path:"/login",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(O.b,{path:"/register",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(O.b,{path:"/passwordRecovery",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(O.b,{path:"/set-new-password/:token?",render:function(){return r.a.createElement(Te,null)}}),r.a.createElement(O.b,{path:"/packs",render:function(){return r.a.createElement(Ca,null)}}),r.a.createElement(O.b,{path:"/\u0441ards/:id",render:function(){return r.a.createElement(_a,null)}}),r.a.createElement(O.b,{path:"/learn/:id",render:function(){return r.a.createElement(Wa,null)}}),r.a.createElement(O.b,{path:"*",render:function(){return r.a.createElement(ja,null)}}))):r.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},r.a.createElement(Ba.a,null))},Va=t(83),Qa=t(162);console.log(" registerReducer",le),console.log(" passwordRecoveryReducer",ke),console.log(" pssawordCreationReducer",_e),console.log(" loginReducer",H),console.log(" packsReducer",Ue),console.log(" cardsReducer",ya),console.log(" appReducer",Fa);var Ja=Object(Va.c)({login:H,register:le,pwRecoveryRequest:ke,passwordUpdate:_e,packsReducer:Ue,cardsReducer:ya,app:Fa}),Ka=Object(Va.d)(Ja,Object(Va.a)(Qa.a));window.store=Ka,o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{store:Ka},r.a.createElement($a,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},59:function(e,a,t){e.exports={cards_wrapper:"Learn_cards_wrapper__3oG6C"}}},[[185,1,2]]]);
//# sourceMappingURL=main.597146c2.chunk.js.map